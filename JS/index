var E$=Object.create;var Jp=Object.defineProperty;var C$=Object.getOwnPropertyDescriptor;var P$=Object.getOwnPropertyNames;var I$=Object.getPrototypeOf,A$=Object.prototype.hasOwnProperty;var T=(t,e)=>()=>(t&&(e=t(t=0)),e);var W=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ti=(t,e)=>{for(var i in e)Jp(t,i,{get:e[i],enumerable:!0})},K1=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of P$(e))!A$.call(t,n)&&n!==i&&Jp(t,n,{get:()=>e[n],enumerable:!(r=C$(e,n))||r.enumerable});return t};var he=(t,e,i)=>(i=t!=null?E$(I$(t)):{},K1(e||!t||!t.__esModule?Jp(i,"default",{value:t,enumerable:!0}):i,t)),Sc=t=>K1(Jp({},"__esModule",{value:!0}),t);function Go(t,e){for(var i in e)t[i]=e[i];return t}function r_(t){var e=t.parentNode;e&&e.removeChild(t)}function It(t,e,i){var r,n,o,l={};for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o];if(arguments.length>2&&(l.children=arguments.length>3?Cc.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return _c(t,l,r,n,null)}function _c(t,e,i,r,n){var o={type:t,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:n??++Q1};return n==null&&Le.vnode!=null&&Le.vnode(o),o}function me(){return{current:null}}function re(t){return t.children}function se(t,e){this.props=t,this.context=e}function Ec(t,e){if(e==null)return t.__?Ec(t.__,t.__.__k.indexOf(t)+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?Ec(t):null}function n_(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return n_(t)}}function Lv(t){(!t.__d&&(t.__d=!0)&&xa.push(t)&&!eh.__r++||Y1!==Le.debounceRendering)&&((Y1=Le.debounceRendering)||e_)(eh)}function eh(){var t,e,i,r,n,o,l,u;for(xa.sort(Dv);t=xa.shift();)t.__d&&(e=xa.length,r=void 0,n=void 0,l=(o=(i=t).__v).__e,(u=i.__P)&&(r=[],(n=Go({},o)).__v=o.__v+1,Fv(u,o,n,i.__n,u.ownerSVGElement!==void 0,o.__h!=null?[l]:null,r,l??Ec(o),o.__h),u_(r,o),o.__e!=l&&n_(o)),xa.length>e&&xa.sort(Dv));eh.__r=0}function o_(t,e,i,r,n,o,l,u,c,d){var f,g,v,S,E,_,P,I=r&&r.__k||i_,L=I.length;for(i.__k=[],f=0;f<e.length;f++)if((S=i.__k[f]=(S=e[f])==null||typeof S=="boolean"||typeof S=="function"?null:typeof S=="string"||typeof S=="number"||typeof S=="bigint"?_c(null,S,null,null,S):Array.isArray(S)?_c(re,{children:S},null,null,null):S.__b>0?_c(S.type,S.props,S.key,S.ref?S.ref:null,S.__v):S)!=null){if(S.__=i,S.__b=i.__b+1,(v=I[f])===null||v&&S.key==v.key&&S.type===v.type)I[f]=void 0;else for(g=0;g<L;g++){if((v=I[g])&&S.key==v.key&&S.type===v.type){I[g]=void 0;break}v=null}Fv(t,S,v=v||Qp,n,o,l,u,c,d),E=S.__e,(g=S.ref)&&v.ref!=g&&(P||(P=[]),v.ref&&P.push(v.ref,null,S),P.push(g,S.__c||E,S)),E!=null?(_==null&&(_=E),typeof S.type=="function"&&S.__k===v.__k?S.__d=c=s_(S,c,t):c=a_(t,S,v,I,E,c),typeof i.type=="function"&&(i.__d=c)):c&&v.__e==c&&c.parentNode!=t&&(c=Ec(v))}for(i.__e=_,f=L;f--;)I[f]!=null&&(typeof i.type=="function"&&I[f].__e!=null&&I[f].__e==i.__d&&(i.__d=l_(r).nextSibling),d_(I[f],I[f]));if(P)for(f=0;f<P.length;f++)c_(P[f],P[++f],P[++f])}function s_(t,e,i){for(var r,n=t.__k,o=0;n&&o<n.length;o++)(r=n[o])&&(r.__=t,e=typeof r.type=="function"?s_(r,e,i):a_(i,r,r,n,r.__e,e));return e}function no(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(i){no(i,e)}):e.push(t)),e}function a_(t,e,i,r,n,o){var l,u,c;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(i==null||n!=o||n.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(n),l=null;else{for(u=o,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==n)break e;t.insertBefore(n,o),l=o}return l!==void 0?l:n.nextSibling}function l_(t){var e,i,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((i=t.__k[e])&&(r=l_(i)))return r}return null}function M$(t,e,i,r,n){var o;for(o in i)o==="children"||o==="key"||o in e||th(t,o,null,i[o],r);for(o in e)n&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||i[o]===e[o]||th(t,o,e[o],i[o],r)}function X1(t,e,i){e[0]==="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||T$.test(e)?i:i+"px"}function th(t,e,i,r,n){var o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||X1(t.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||X1(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=i,i?r||t.addEventListener(e,o?J1:Z1,o):t.removeEventListener(e,o?J1:Z1,o);else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,i))}}function Z1(t){return this.l[t.type+!1](Le.event?Le.event(t):t)}function J1(t){return this.l[t.type+!0](Le.event?Le.event(t):t)}function Fv(t,e,i,r,n,o,l,u,c){var d,f,g,v,S,E,_,P,I,L,F,z,H,ie,X,k=e.type;if(e.constructor!==void 0)return null;i.__h!=null&&(c=i.__h,u=e.__e=i.__e,e.__h=null,o=[u]),(d=Le.__b)&&d(e);try{e:if(typeof k=="function"){if(P=e.props,I=(d=k.contextType)&&r[d.__c],L=d?I?I.props.value:d.__:r,i.__c?_=(f=e.__c=i.__c).__=f.__E:("prototype"in k&&k.prototype.render?e.__c=f=new k(P,L):(e.__c=f=new se(P,L),f.constructor=k,f.render=N$),I&&I.sub(f),f.props=P,f.state||(f.state={}),f.context=L,f.__n=r,g=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),k.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Go({},f.__s)),Go(f.__s,k.getDerivedStateFromProps(P,f.__s))),v=f.props,S=f.state,f.__v=e,g)k.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(k.getDerivedStateFromProps==null&&P!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(P,L),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(P,f.__s,L)===!1||e.__v===i.__v){for(e.__v!==i.__v&&(f.props=P,f.state=f.__s,f.__d=!1),f.__e=!1,e.__e=i.__e,e.__k=i.__k,e.__k.forEach(function(te){te&&(te.__=e)}),F=0;F<f._sb.length;F++)f.__h.push(f._sb[F]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(P,f.__s,L),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,S,E)})}if(f.context=L,f.props=P,f.__P=t,z=Le.__r,H=0,"prototype"in k&&k.prototype.render){for(f.state=f.__s,f.__d=!1,z&&z(e),d=f.render(f.props,f.state,f.context),ie=0;ie<f._sb.length;ie++)f.__h.push(f._sb[ie]);f._sb=[]}else do f.__d=!1,z&&z(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++H<25);f.state=f.__s,f.getChildContext!=null&&(r=Go(Go({},r),f.getChildContext())),g||f.getSnapshotBeforeUpdate==null||(E=f.getSnapshotBeforeUpdate(v,S)),X=d!=null&&d.type===re&&d.key==null?d.props.children:d,o_(t,Array.isArray(X)?X:[X],e,i,r,n,o,l,u,c),f.base=e.__e,e.__h=null,f.__h.length&&l.push(f),_&&(f.__E=f.__=null),f.__e=!1}else o==null&&e.__v===i.__v?(e.__k=i.__k,e.__e=i.__e):e.__e=R$(i.__e,e,i,r,n,o,l,c);(d=Le.diffed)&&d(e)}catch(te){e.__v=null,(c||o!=null)&&(e.__e=u,e.__h=!!c,o[o.indexOf(u)]=null),Le.__e(te,e,i)}}function u_(t,e){Le.__c&&Le.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){Le.__e(r,i.__v)}})}function R$(t,e,i,r,n,o,l,u){var c,d,f,g=i.props,v=e.props,S=e.type,E=0;if(S==="svg"&&(n=!0),o!=null){for(;E<o.length;E++)if((c=o[E])&&"setAttribute"in c==!!S&&(S?c.localName===S:c.nodeType===3)){t=c,o[E]=null;break}}if(t==null){if(S===null)return document.createTextNode(v);t=n?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,v.is&&v),o=null,u=!1}if(S===null)g===v||u&&t.data===v||(t.data=v);else{if(o=o&&Cc.call(t.childNodes),d=(g=i.props||Qp).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!u){if(o!=null)for(g={},E=0;E<t.attributes.length;E++)g[t.attributes[E].name]=t.attributes[E].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(M$(t,v,g,n,u),f)e.__k=[];else if(E=e.props.children,o_(t,Array.isArray(E)?E:[E],e,i,r,n&&S!=="foreignObject",o,l,o?o[0]:i.__k&&Ec(i,0),u),o!=null)for(E=o.length;E--;)o[E]!=null&&r_(o[E]);u||("value"in v&&(E=v.value)!==void 0&&(E!==t.value||S==="progress"&&!E||S==="option"&&E!==g.value)&&th(t,"value",E,g.value,!1),"checked"in v&&(E=v.checked)!==void 0&&E!==t.checked&&th(t,"checked",E,g.checked,!1))}return t}function c_(t,e,i){try{typeof t=="function"?t(e):t.current=e}catch(r){Le.__e(r,i)}}function d_(t,e,i){var r,n;if(Le.unmount&&Le.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||c_(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Le.__e(o,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&d_(r[n],e,i||typeof t.type!="function");i||t.__e==null||r_(t.__e),t.__=t.__e=t.__d=void 0}function N$(t,e,i){return this.constructor(t,i)}function Ss(t,e,i){var r,n,o;Le.__&&Le.__(t,e),n=(r=typeof i=="function")?null:i&&i.__k||e.__k,o=[],Fv(e,t=(!r&&i||e).__k=It(re,null,[t]),n||Qp,Qp,e.ownerSVGElement!==void 0,!r&&i?[i]:n?null:e.firstChild?Cc.call(e.childNodes):null,o,!r&&i?i:n?n.__e:e.firstChild,r),u_(o,t)}function Ic(t,e){Ss(t,e,Ic)}function p_(t,e,i){var r,n,o,l=Go({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o];return arguments.length>2&&(l.children=arguments.length>3?Cc.call(arguments,2):i),_c(t.type,l,r||t.key,n||t.ref,null)}function hn(t,e){var i={__c:e="__cC"+t_++,__:t,Consumer:function(r,n){return r.children(n)},Provider:function(r){var n,o;return this.getChildContext||(n=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&n.some(function(u){u.__e=!0,Lv(u)})},this.sub=function(l){n.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){n.splice(n.indexOf(l),1),u&&u.call(l)}}),r.children}};return i.Provider.__=i.Consumer.contextType=i}var Cc,Le,Q1,Pc,xa,Y1,e_,Dv,t_,Qp,i_,T$,Ee=T(()=>{Qp={},i_=[],T$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Cc=i_.slice,Le={__e:function(t,e,i,r){for(var n,o,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n.__d),l)return n.__E=n}catch(u){t=u}throw t}},Q1=0,Pc=function(t){return t!=null&&t.constructor===void 0},se.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Go({},this.state),typeof t=="function"&&(t=t(Go({},i),this.props)),t&&Go(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),Lv(this))},se.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Lv(this))},se.prototype.render=re,xa=[],e_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dv=function(t,e){return t.__v.__b-e.__v.__b},eh.__r=0,t_=0});function Sa(t,e){Le.__h&&Le.__h(Vt,t,Ml||e),Ml=0;var i=Vt.__H||(Vt.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:ih}),i.__[t]}function _a(t){return Ml=1,Ea(x_,t)}function Ea(t,e,i){var r=Sa(_s++,2);if(r.t=t,!r.__c&&(r.__=[i?i(e):x_(void 0,e),function(u){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,u);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Vt,!Vt.u)){var n=function(u,c,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(v){return v.__c});if(f.every(function(v){return!v.__N}))return!o||o.call(this,u,c,d);var g=!1;return f.forEach(function(v){if(v.__N){var S=v.__[0];v.__=v.__N,v.__N=void 0,S!==v.__[0]&&(g=!0)}}),!(!g&&r.__c.props===u)&&(!o||o.call(this,u,c,d))};Vt.u=!0;var o=Vt.shouldComponentUpdate,l=Vt.componentWillUpdate;Vt.componentWillUpdate=function(u,c,d){if(this.__e){var f=o;o=void 0,n(u,c,d),o=f}l&&l.call(this,u,c,d)},Vt.shouldComponentUpdate=n}return r.__N||r.__}function Ko(t,e){var i=Sa(_s++,3);!Le.__s&&Uv(i.__H,e)&&(i.__=t,i.i=e,Vt.__H.__h.push(i))}function oo(t,e){var i=Sa(_s++,4);!Le.__s&&Uv(i.__H,e)&&(i.__=t,i.i=e,Vt.__h.push(i))}function so(t){return Ml=5,Ii(function(){return{current:t}},[])}function nh(t,e,i){Ml=6,oo(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},i==null?i:i.concat(t))}function Ii(t,e){var i=Sa(_s++,7);return Uv(i.__H,e)?(i.__V=t(),i.i=e,i.__h=t,i.__V):i.__}function oh(t,e){return Ml=8,Ii(function(){return t},e)}function fn(t){var e=Vt.context[t.__c],i=Sa(_s++,9);return i.c=t,e?(i.__==null&&(i.__=!0,e.sub(Vt)),e.props.value):t.__}function sh(t,e){Le.useDebugValue&&Le.useDebugValue(e?e(t):t)}function k$(t){var e=Sa(_s++,10),i=_a();return e.__=t,Vt.componentDidCatch||(Vt.componentDidCatch=function(r,n){e.__&&e.__(r,n),i[1](r)}),[i[0],function(){i[1](void 0)}]}function Hv(){var t=Sa(_s++,11);if(!t.__){for(var e=Vt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var i=e.__m||(e.__m=[0,0]);t.__="P"+i[0]+"-"+i[1]++}return t.__}function O$(){for(var t;t=w_.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(rh),t.__H.__h.forEach(qv),t.__H.__h=[]}catch(e){t.__H.__h=[],Le.__e(e,t.__v)}}function D$(t){var e,i=function(){clearTimeout(r),b_&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(i,100);b_&&(e=requestAnimationFrame(i))}function rh(t){var e=Vt,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),Vt=e}function qv(t){var e=Vt;t.__c=t.__(),Vt=e}function Uv(t,e){return!t||t.length!==e.length||e.some(function(i,r){return i!==t[r]})}function x_(t,e){return typeof e=="function"?e(t):e}var _s,Vt,zv,h_,Ml,w_,ih,f_,m_,g_,v_,y_,b_,Ca=T(()=>{Ee();Ml=0,w_=[],ih=[],f_=Le.__b,m_=Le.__r,g_=Le.diffed,v_=Le.__c,y_=Le.unmount;Le.__b=function(t){Vt=null,f_&&f_(t)},Le.__r=function(t){m_&&m_(t),_s=0;var e=(Vt=t.__c).__H;e&&(zv===Vt?(e.__h=[],Vt.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=ih,i.__N=i.i=void 0})):(e.__h.forEach(rh),e.__h.forEach(qv),e.__h=[])),zv=Vt},Le.diffed=function(t){g_&&g_(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(w_.push(e)!==1&&h_===Le.requestAnimationFrame||((h_=Le.requestAnimationFrame)||D$)(O$)),e.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==ih&&(i.__=i.__V),i.i=void 0,i.__V=ih})),zv=Vt=null},Le.__c=function(t,e){e.some(function(i){try{i.__h.forEach(rh),i.__h=i.__h.filter(function(r){return!r.__||qv(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],Le.__e(r,i.__v)}}),v_&&v_(t,e)},Le.unmount=function(t){y_&&y_(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{rh(r)}catch(n){e=n}}),i.__H=void 0,e&&Le.__e(e,i.__v))};b_=typeof requestAnimationFrame=="function"});var Z_={};ti(Z_,{Children:()=>Tc,Component:()=>se,Fragment:()=>re,PureComponent:()=>_i,StrictMode:()=>j_,Suspense:()=>Ac,SuspenseList:()=>Rl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>H_,cloneElement:()=>B_,createContext:()=>hn,createElement:()=>It,createFactory:()=>U_,createPortal:()=>Ge,createRef:()=>me,default:()=>We,findDOMNode:()=>$_,flushSync:()=>V_,forwardRef:()=>mn,hydrate:()=>q_,isValidElement:()=>Vv,lazy:()=>L_,memo:()=>N_,render:()=>z_,startTransition:()=>jv,unmountComponentAtNode:()=>W_,unstable_batchedUpdates:()=>Mc,useCallback:()=>oh,useContext:()=>fn,useDebugValue:()=>sh,useDeferredValue:()=>G_,useEffect:()=>Ko,useErrorBoundary:()=>k$,useId:()=>Hv,useImperativeHandle:()=>nh,useInsertionEffect:()=>Y_,useLayoutEffect:()=>oo,useMemo:()=>Ii,useReducer:()=>Ea,useRef:()=>so,useState:()=>_a,useSyncExternalStore:()=>X_,useTransition:()=>K_,version:()=>K$});function R_(t,e){for(var i in e)t[i]=e[i];return t}function Wv(t,e){for(var i in t)if(i!=="__source"&&!(i in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Bv(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function _i(t){this.props=t}function N_(t,e){function i(n){var o=this.props.ref,l=o==n.ref;return!l&&o&&(o.call?o(null):o.current=null),e?!e(this.props,n)||!l:Wv(this.props,n)}function r(n){return this.shouldComponentUpdate=i,It(t,n)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function mn(t){function e(i){var r=R_({},i);return delete r.ref,t(r,i.ref||null)}return e.$$typeof=L$,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function k_(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=R_({},t)).__c!=null&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return k_(r,e,i)})),t}function O_(t,e,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return O_(r,e,i)}),t.__c&&t.__c.__P===e&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}function Ac(){this.__u=0,this.t=null,this.__b=null}function D_(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function L_(t){var e,i,r;function n(o){if(e||(e=t()).then(function(l){i=l.default||l},function(l){r=l}),r)throw r;if(!i)throw e;return It(i,o)}return n.displayName="Lazy",n.__f=!0,n}function Rl(){this.u=null,this.o=null}function z$(t){return this.getChildContext=function(){return t.context},t.children}function q$(t){var e=this,i=t.i;e.componentWillUnmount=function(){Ss(null,e.l),e.l=null,e.i=null},e.i&&e.i!==i&&e.componentWillUnmount(),t.__v?(e.l||(e.i=i,e.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ss(It(z$,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Ge(t,e){var i=It(q$,{__v:t,i:e});return i.containerInfo=e,i}function z_(t,e,i){return e.__k==null&&(e.textContent=""),Ss(t,e),typeof i=="function"&&i(),t?t.__c:null}function q_(t,e,i){return Ic(t,e),typeof i=="function"&&i(),t?t.__c:null}function V$(){}function j$(){return this.cancelBubble}function G$(){return this.defaultPrevented}function U_(t){return It.bind(null,t)}function Vv(t){return!!t&&t.$$typeof===F_}function B_(t){return Vv(t)?p_.apply(null,arguments):t}function W_(t){return!!t.__k&&(Ss(null,t),!0)}function $_(t){return t&&(t.base||t.nodeType===1&&t)||null}function jv(t){t()}function G_(t){return t}function K_(){return[!1,jv]}function X_(t,e){var i=e(),r=_a({h:{__:i,v:e}}),n=r[0].h,o=r[1];return oo(function(){n.__=i,n.v=e,Bv(n.__,e())||o({h:n})},[t,i,e]),Ko(function(){return Bv(n.__,n.v())||o({h:n}),t(function(){Bv(n.__,n.v())||o({h:n})})},[t]),i}var S_,L$,__,Tc,F$,E_,C_,F_,H$,U$,B$,W$,$$,P_,$v,I_,A_,T_,M_,H_,K$,Mc,V_,j_,Y_,We,$e=T(()=>{Ee();Ee();Ca();Ca();(_i.prototype=new se).isPureReactComponent=!0,_i.prototype.shouldComponentUpdate=function(t,e){return Wv(this.props,t)||Wv(this.state,e)};S_=Le.__b;Le.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),S_&&S_(t)};L$=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;__=function(t,e){return t==null?null:no(no(t).map(e))},Tc={map:__,forEach:__,count:function(t){return t?no(t).length:0},only:function(t){var e=no(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:no},F$=Le.__e;Le.__e=function(t,e,i,r){if(t.then){for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return e.__e==null&&(e.__e=i.__e,e.__k=i.__k),n.__c(t,e)}F$(t,e,i,r)};E_=Le.unmount;Le.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),E_&&E_(t)},(Ac.prototype=new se).__c=function(t,e){var i=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(i);var n=D_(r.__v),o=!1,l=function(){o||(o=!0,i.__R=null,n?n(u):u())};i.__R=l;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=O_(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(l,l)},Ac.prototype.componentWillUnmount=function(){this.t=[]},Ac.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=k_(this.__b,i,r.__O=r.__P)}this.__b=null}var n=e.__a&&It(re,null,t.fallback);return n&&(n.__h=null),[It(re,null,e.__a?null:t.children),n]};C_=function(t,e,i){if(++i[1]===i[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};(Rl.prototype=new se).__a=function(t){var e=this,i=D_(e.__v),r=e.o.get(t);return r[0]++,function(n){var o=function(){e.props.revealOrder?(r.push(n),C_(e,t,r)):n()};i?i(o):o()}},Rl.prototype.render=function(t){this.u=null,this.o=new Map;var e=no(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var i=e.length;i--;)this.o.set(e[i],this.u=[1,0,this.u]);return t.children},Rl.prototype.componentDidUpdate=Rl.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,i){C_(t,i,e)})};F_=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,H$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,U$=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,B$=/[A-Z0-9]/g,W$=typeof document<"u",$$=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};se.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(se.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});P_=Le.event;Le.event=function(t){return P_&&(t=P_(t)),t.persist=V$,t.isPropagationStopped=j$,t.isDefaultPrevented=G$,t.nativeEvent=t};I_={configurable:!0,get:function(){return this.class}},A_=Le.vnode;Le.vnode=function(t){var e=t.type,i=t.props,r=i;if(typeof e=="string"){for(var n in r={},i){var o=i[n];if(!(n==="value"&&"defaultValue"in i&&o==null||W$&&n==="children"&&e==="noscript")){var l=n.toLowerCase();n==="defaultValue"&&"value"in i&&i.value==null?n="value":n==="download"&&o===!0?o="":l==="ondoubleclick"?n="ondblclick":l!=="onchange"||e!=="input"&&e!=="textarea"||$$(i.type)?l==="onfocus"?n="onfocusin":l==="onblur"?n="onfocusout":U$.test(n)?n=l:e.indexOf("-")===-1&&H$.test(n)?n=n.replace(B$,"-$&").toLowerCase():o===null&&(o=void 0):l=n="oninput",l==="oninput"&&r[n=l]&&(n="oninputCapture"),r[n]=o}}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=no(i.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=no(i.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),t.props=r,i.class!=i.className&&(I_.enumerable="className"in i,i.className!=null&&(r.class=i.className),Object.defineProperty(r,"className",I_))}t.$$typeof=F_,A_&&A_(t)};T_=Le.__r;Le.__r=function(t){T_&&T_(t),$v=t.__c};M_=Le.diffed;Le.diffed=function(t){M_&&M_(t);var e=t.props,i=t.__e;i!=null&&t.type==="textarea"&&"value"in e&&e.value!==i.value&&(i.value=e.value==null?"":e.value),$v=null};H_={ReactCurrentDispatcher:{current:{readContext:function(t){return $v.__n[t.__c].props.value}}}},K$="17.0.2";Mc=function(t,e){return t(e)},V_=function(t,e){return t(e)},j_=re;Y_=oo;We={useState:_a,useId:Hv,useReducer:Ea,useEffect:Ko,useLayoutEffect:oo,useInsertionEffect:Y_,useTransition:K_,useDeferredValue:G_,useSyncExternalStore:X_,startTransition:jv,useRef:so,useImperativeHandle:nh,useMemo:Ii,useCallback:oh,useContext:fn,useDebugValue:sh,version:"17.0.2",Children:Tc,render:z_,hydrate:q_,unmountComponentAtNode:W_,createPortal:Ge,createElement:It,createContext:hn,createFactory:U_,cloneElement:B_,createRef:me,Fragment:re,isValidElement:Vv,findDOMNode:$_,Component:se,PureComponent:_i,memo:N_,forwardRef:mn,flushSync:V_,unstable_batchedUpdates:Mc,StrictMode:j_,Suspense:Ac,SuspenseList:Rl,lazy:L_,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:H_}});var Q_=W((sae,J_)=>{"use strict";var Y$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";J_.exports=Y$});var rE=W((aae,iE)=>{"use strict";var X$=Q_();function eE(){}function tE(){}tE.resetWarningCache=eE;iE.exports=function(){function t(r,n,o,l,u,c){if(c!==X$){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tE,resetWarningCache:eE};return i.PropTypes=i,i}});var Gv=W((cae,nE)=>{nE.exports=rE()();var lae,uae});var gn,Es=T(()=>{$e();gn=We.createContext(null)});function Z$(t){t()}var oE,sE,aE,Kv=T(()=>{oE=Z$,sE=function(e){return oE=e},aE=function(){return oE}});function J$(){var t=aE(),e=null,i=null;return{clear:function(){e=null,i=null},notify:function(){t(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],o=e;o;)n.push(o),o=o.next;return n},subscribe:function(n){var o=!0,l=i={callback:n,next:null,prev:i};return l.prev?l.prev.next=l:e=l,function(){!o||e===null||(o=!1,l.next?l.next.prev=l.prev:i=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}function Rc(t,e){var i,r=lE;function n(g){return c(),r.subscribe(g)}function o(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return!!i}function c(){i||(i=e?e.addNestedSub(l):t.subscribe(l),r=J$())}function d(){i&&(i(),i=void 0,r.clear(),r=lE)}var f={addNestedSub:n,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return f}var lE,ah=T(()=>{Kv();lE={notify:function(){},get:function(){return[]}}});var Nc,lh=T(()=>{$e();Nc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?oo:Ko});function Q$(t){var e=t.store,i=t.context,r=t.children,n=Ii(function(){var u=Rc(e);return{store:e,subscription:u}},[e]),o=Ii(function(){return e.getState()},[e]);Nc(function(){var u=n.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[n,o]);var l=i||gn;return We.createElement(l.Provider,{value:n},r)}var Yv,uE=T(()=>{$e();Es();ah();lh();Yv=Q$});function Ft(){return Ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ft.apply(this,arguments)}var Pa=T(()=>{});function wr(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Nl=T(()=>{});var dE=W(zt=>{"use strict";var ki=typeof Symbol=="function"&&Symbol.for,Xv=ki?Symbol.for("react.element"):60103,Zv=ki?Symbol.for("react.portal"):60106,uh=ki?Symbol.for("react.fragment"):60107,ch=ki?Symbol.for("react.strict_mode"):60108,dh=ki?Symbol.for("react.profiler"):60114,ph=ki?Symbol.for("react.provider"):60109,hh=ki?Symbol.for("react.context"):60110,Jv=ki?Symbol.for("react.async_mode"):60111,fh=ki?Symbol.for("react.concurrent_mode"):60111,mh=ki?Symbol.for("react.forward_ref"):60112,gh=ki?Symbol.for("react.suspense"):60113,eV=ki?Symbol.for("react.suspense_list"):60120,vh=ki?Symbol.for("react.memo"):60115,yh=ki?Symbol.for("react.lazy"):60116,tV=ki?Symbol.for("react.block"):60121,iV=ki?Symbol.for("react.fundamental"):60117,rV=ki?Symbol.for("react.responder"):60118,nV=ki?Symbol.for("react.scope"):60119;function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Xv:switch(t=t.type,t){case Jv:case fh:case uh:case dh:case ch:case gh:return t;default:switch(t=t&&t.$$typeof,t){case hh:case mh:case yh:case vh:case ph:return t;default:return e}}case Zv:return e}}}function cE(t){return Xr(t)===fh}zt.AsyncMode=Jv;zt.ConcurrentMode=fh;zt.ContextConsumer=hh;zt.ContextProvider=ph;zt.Element=Xv;zt.ForwardRef=mh;zt.Fragment=uh;zt.Lazy=yh;zt.Memo=vh;zt.Portal=Zv;zt.Profiler=dh;zt.StrictMode=ch;zt.Suspense=gh;zt.isAsyncMode=function(t){return cE(t)||Xr(t)===Jv};zt.isConcurrentMode=cE;zt.isContextConsumer=function(t){return Xr(t)===hh};zt.isContextProvider=function(t){return Xr(t)===ph};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xv};zt.isForwardRef=function(t){return Xr(t)===mh};zt.isFragment=function(t){return Xr(t)===uh};zt.isLazy=function(t){return Xr(t)===yh};zt.isMemo=function(t){return Xr(t)===vh};zt.isPortal=function(t){return Xr(t)===Zv};zt.isProfiler=function(t){return Xr(t)===dh};zt.isStrictMode=function(t){return Xr(t)===ch};zt.isSuspense=function(t){return Xr(t)===gh};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uh||t===fh||t===dh||t===ch||t===gh||t===eV||typeof t=="object"&&t!==null&&(t.$$typeof===yh||t.$$typeof===vh||t.$$typeof===ph||t.$$typeof===hh||t.$$typeof===mh||t.$$typeof===iV||t.$$typeof===rV||t.$$typeof===nV||t.$$typeof===tV)};zt.typeOf=Xr});var Qv=W((Pae,pE)=>{"use strict";pE.exports=dE()});var bh=W((Iae,yE)=>{"use strict";var ey=Qv(),oV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ty={};ty[ey.ForwardRef]=aV;ty[ey.Memo]=gE;function hE(t){return ey.isMemo(t)?gE:ty[t.$$typeof]||oV}var lV=Object.defineProperty,uV=Object.getOwnPropertyNames,fE=Object.getOwnPropertySymbols,cV=Object.getOwnPropertyDescriptor,dV=Object.getPrototypeOf,mE=Object.prototype;function vE(t,e,i){if(typeof e!="string"){if(mE){var r=dV(e);r&&r!==mE&&vE(t,r,i)}var n=uV(e);fE&&(n=n.concat(fE(e)));for(var o=hE(t),l=hE(e),u=0;u<n.length;++u){var c=n[u];if(!sV[c]&&!(i&&i[c])&&!(l&&l[c])&&!(o&&o[c])){var d=cV(e,c);try{lV(t,c,d)}catch{}}}}return t}yE.exports=vE});var EE=W(jt=>{"use strict";var wh=60103,xh=60106,kc=60107,Oc=60108,Dc=60114,Lc=60109,Fc=60110,zc=60112,qc=60113,iy=60120,Hc=60115,Uc=60116,bE=60121,wE=60122,xE=60117,SE=60129,_E=60131;typeof Symbol=="function"&&Symbol.for&&(Oi=Symbol.for,wh=Oi("react.element"),xh=Oi("react.portal"),kc=Oi("react.fragment"),Oc=Oi("react.strict_mode"),Dc=Oi("react.profiler"),Lc=Oi("react.provider"),Fc=Oi("react.context"),zc=Oi("react.forward_ref"),qc=Oi("react.suspense"),iy=Oi("react.suspense_list"),Hc=Oi("react.memo"),Uc=Oi("react.lazy"),bE=Oi("react.block"),wE=Oi("react.server.block"),xE=Oi("react.fundamental"),SE=Oi("react.debug_trace_mode"),_E=Oi("react.legacy_hidden"));var Oi;function Dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wh:switch(t=t.type,t){case kc:case Dc:case Oc:case qc:case iy:return t;default:switch(t=t&&t.$$typeof,t){case Fc:case zc:case Uc:case Hc:case Lc:return t;default:return e}}case xh:return e}}}var pV=Lc,hV=wh,fV=zc,mV=kc,gV=Uc,vV=Hc,yV=xh,bV=Dc,wV=Oc,xV=qc;jt.ContextConsumer=Fc;jt.ContextProvider=pV;jt.Element=hV;jt.ForwardRef=fV;jt.Fragment=mV;jt.Lazy=gV;jt.Memo=vV;jt.Portal=yV;jt.Profiler=bV;jt.StrictMode=wV;jt.Suspense=xV;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(t){return Dn(t)===Fc};jt.isContextProvider=function(t){return Dn(t)===Lc};jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wh};jt.isForwardRef=function(t){return Dn(t)===zc};jt.isFragment=function(t){return Dn(t)===kc};jt.isLazy=function(t){return Dn(t)===Uc};jt.isMemo=function(t){return Dn(t)===Hc};jt.isPortal=function(t){return Dn(t)===xh};jt.isProfiler=function(t){return Dn(t)===Dc};jt.isStrictMode=function(t){return Dn(t)===Oc};jt.isSuspense=function(t){return Dn(t)===qc};jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kc||t===Dc||t===SE||t===Oc||t===qc||t===iy||t===_E||typeof t=="object"&&t!==null&&(t.$$typeof===Uc||t.$$typeof===Hc||t.$$typeof===Lc||t.$$typeof===Fc||t.$$typeof===zc||t.$$typeof===xE||t.$$typeof===bE||t[0]===wE)};jt.typeOf=Dn});var PE=W((Tae,CE)=>{"use strict";CE.exports=EE()});function PV(t,e){var i=t[1];return[e.payload,i+1]}function IE(t,e,i){Nc(function(){return t.apply(void 0,e)},i)}function IV(t,e,i,r,n,o,l){t.current=r,e.current=n,i.current=!1,o.current&&(o.current=null,l())}function AV(t,e,i,r,n,o,l,u,c,d){if(t){var f=!1,g=null,v=function(){if(!f){var _=e.getState(),P,I;try{P=r(_,n.current)}catch(L){I=L,g=L}I||(g=null),P===o.current?l.current||c():(o.current=P,u.current=P,l.current=!0,d({type:"STORE_UPDATED",payload:{error:I}}))}};i.onStateChange=v,i.trySubscribe(),v();var S=function(){if(f=!0,i.tryUnsubscribe(),i.onStateChange=null,g)throw g};return S}}function Sh(t,e){e===void 0&&(e={});var i=e,r=i.getDisplayName,n=r===void 0?function(ie){return"ConnectAdvanced("+ie+")"}:r,o=i.methodName,l=o===void 0?"connectAdvanced":o,u=i.renderCountProp,c=u===void 0?void 0:u,d=i.shouldHandleStateChanges,f=d===void 0?!0:d,g=i.storeKey,v=g===void 0?"store":g,S=i.withRef,E=S===void 0?!1:S,_=i.forwardRef,P=_===void 0?!1:_,I=i.context,L=I===void 0?gn:I,F=wr(i,SV);if(0)var z;var H=L;return function(X){var k=X.displayName||X.name||"Component",te=n(k),le=Ft({},F,{getDisplayName:n,methodName:l,renderCountProp:c,shouldHandleStateChanges:f,storeKey:v,displayName:te,wrappedComponentName:k,WrappedComponent:X}),Y=F.pure;function K(oe){return t(oe.dispatch,le)}var D=Y?Ii:function(oe){return oe()};function Q(oe){var $=Ii(function(){var Jt=oe.reactReduxForwardedRef,Co=wr(oe,_V);return[oe.context,Jt,Co]},[oe]),U=$[0],j=$[1],ee=$[2],de=Ii(function(){return U&&U.Consumer&&(0,AE.isContextConsumer)(We.createElement(U.Consumer,null))?U:H},[U,H]),fe=fn(de),ve=!!oe.store&&!!oe.store.getState&&!!oe.store.dispatch,Ae=!!fe&&!!fe.store,_e=ve?oe.store:fe.store,Oe=Ii(function(){return K(_e)},[_e]),qe=Ii(function(){if(!f)return CV;var Jt=Rc(_e,ve?null:fe.subscription),Co=Jt.notifyNestedSubs.bind(Jt);return[Jt,Co]},[_e,ve,fe]),ot=qe[0],je=qe[1],st=Ii(function(){return ve?fe:Ft({},fe,{subscription:ot})},[ve,fe,ot]),Ie=Ea(PV,EV,TV),lt=Ie[0],ut=lt[0],ht=Ie[1];if(ut&&ut.error)throw ut.error;var Ue=so(),gt=so(ee),Nt=so(),_t=so(!1),Ht=D(function(){return Nt.current&&ee===gt.current?Nt.current:Oe(_e.getState(),ee)},[_e,ut,ee]);IE(IV,[gt,Ue,_t,ee,Ht,Nt,je]),IE(AV,[f,_e,ot,Oe,gt,Ue,_t,Nt,je,ht],[_e,ot,Oe]);var nt=Ii(function(){return We.createElement(X,Ft({},Ht,{ref:j}))},[j,X,Ht]),Wi=Ii(function(){return f?We.createElement(de.Provider,{value:st},nt):nt},[de,nt,st]);return Wi}var J=Y?We.memo(Q):Q;if(J.WrappedComponent=X,J.displayName=Q.displayName=te,P){var V=We.forwardRef(function($,U){return We.createElement(J,Ft({},$,{reactReduxForwardedRef:U}))});return V.displayName=te,V.WrappedComponent=X,(0,ry.default)(V,X)}return(0,ry.default)(J,X)}}var ry,AE,SV,_V,EV,CV,TV,ny=T(()=>{Pa();Nl();ry=he(bh());$e();AE=he(PE());ah();lh();Es();SV=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_V=["reactReduxForwardedRef"],EV=[],CV=[null,null];TV=function(){return[null,0]}});function TE(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function kl(t,e){if(TE(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.prototype.hasOwnProperty.call(e,i[n])||!TE(t[i[n]],e[i[n]]))return!1;return!0}var oy=T(()=>{});function sy(t,e){var i={},r=function(l){var u=t[l];typeof u=="function"&&(i[l]=function(){return e(u.apply(void 0,arguments))})};for(var n in t)r(n);return i}var ME=T(()=>{});var RE=T(()=>{});var ay=T(()=>{});var ly=T(()=>{RE();ay()});function Bc(t){return function(i,r){var n=t(i,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function NE(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function _h(t,e){return function(r,n){var o=n.displayName,l=function(c,d){return l.dependsOnOwnProps?l.mapToProps(c,d):l.mapToProps(c)};return l.dependsOnOwnProps=!0,l.mapToProps=function(c,d){l.mapToProps=t,l.dependsOnOwnProps=NE(t);var f=l(c,d);return typeof f=="function"&&(l.mapToProps=f,l.dependsOnOwnProps=NE(f),f=l(c,d)),f},l}}var uy=T(()=>{ly()});function RV(t){return typeof t=="function"?_h(t,"mapDispatchToProps"):void 0}function NV(t){return t?void 0:Bc(function(e){return{dispatch:e}})}function kV(t){return t&&typeof t=="object"?Bc(function(e){return sy(t,e)}):void 0}var kE,OE=T(()=>{ME();uy();kE=[RV,NV,kV]});function OV(t){return typeof t=="function"?_h(t,"mapStateToProps"):void 0}function DV(t){return t?void 0:Bc(function(){return{}})}var DE,LE=T(()=>{uy();DE=[OV,DV]});function LV(t,e,i){return Ft({},i,t,e)}function FV(t){return function(i,r){var n=r.displayName,o=r.pure,l=r.areMergedPropsEqual,u=!1,c;return function(f,g,v){var S=t(f,g,v);return u?(!o||!l(S,c))&&(c=S):(u=!0,c=S),c}}}function zV(t){return typeof t=="function"?FV(t):void 0}function qV(t){return t?void 0:function(){return LV}}var FE,zE=T(()=>{Pa();ly();FE=[zV,qV]});var qE=T(()=>{ay()});function UV(t,e,i,r){return function(o,l){return i(t(o,l),e(r,l),l)}}function BV(t,e,i,r,n){var o=n.areStatesEqual,l=n.areOwnPropsEqual,u=n.areStatePropsEqual,c=!1,d,f,g,v,S;function E(F,z){return d=F,f=z,g=t(d,f),v=e(r,f),S=i(g,v,f),c=!0,S}function _(){return g=t(d,f),e.dependsOnOwnProps&&(v=e(r,f)),S=i(g,v,f),S}function P(){return t.dependsOnOwnProps&&(g=t(d,f)),e.dependsOnOwnProps&&(v=e(r,f)),S=i(g,v,f),S}function I(){var F=t(d,f),z=!u(F,g);return g=F,z&&(S=i(g,v,f)),S}function L(F,z){var H=!l(z,f),ie=!o(F,d,z,f);return d=F,f=z,H&&ie?_():H?P():ie?I():S}return function(z,H){return c?L(z,H):E(z,H)}}function cy(t,e){var i=e.initMapStateToProps,r=e.initMapDispatchToProps,n=e.initMergeProps,o=wr(e,HV),l=i(t,o),u=r(t,o),c=n(t,o),d=o.pure?BV:UV;return d(l,u,c,t,o)}var HV,HE=T(()=>{Nl();qE();HV=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function dy(t,e,i){for(var r=e.length-1;r>=0;r--){var n=e[r](t);if(n)return n}return function(o,l){throw new Error("Invalid value of type "+typeof t+" for "+i+" argument when connecting component "+l.wrappedComponentName+".")}}function $V(t,e){return t===e}function VV(t){var e=t===void 0?{}:t,i=e.connectHOC,r=i===void 0?Sh:i,n=e.mapStateToPropsFactories,o=n===void 0?DE:n,l=e.mapDispatchToPropsFactories,u=l===void 0?kE:l,c=e.mergePropsFactories,d=c===void 0?FE:c,f=e.selectorFactory,g=f===void 0?cy:f;return function(S,E,_,P){P===void 0&&(P={});var I=P,L=I.pure,F=L===void 0?!0:L,z=I.areStatesEqual,H=z===void 0?$V:z,ie=I.areOwnPropsEqual,X=ie===void 0?kl:ie,k=I.areStatePropsEqual,te=k===void 0?kl:k,le=I.areMergedPropsEqual,Y=le===void 0?kl:le,K=wr(I,WV),D=dy(S,o,"mapStateToProps"),Q=dy(E,u,"mapDispatchToProps"),J=dy(_,d,"mergeProps");return r(g,Ft({methodName:"connect",getDisplayName:function(oe){return"Connect("+oe+")"},shouldHandleStateChanges:!!S,initMapStateToProps:D,initMapDispatchToProps:Q,initMergeProps:J,pure:F,areStatesEqual:H,areOwnPropsEqual:X,areStatePropsEqual:te,areMergedPropsEqual:Y},K))}}var WV,ke,UE=T(()=>{Pa();Nl();ny();oy();OE();LE();zE();HE();WV=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];ke=VV()});function py(){var t=fn(gn);return t}var hy=T(()=>{$e();Es()});function fy(t){t===void 0&&(t=gn);var e=t===gn?py:function(){return fn(t)};return function(){var r=e(),n=r.store;return n}}var Eh,my=T(()=>{$e();Es();hy();Eh=fy()});var BE=T(()=>{Es();my()});var WE=T(()=>{$e();hy();ah();lh();Es()});var $E=T(()=>{uE();ny();Es();UE();BE();WE();my();oy()});var VE=T(()=>{$e()});var pt=T(()=>{$E();VE();Kv();sE(Mc)});var Ch=W(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.frontloadConnect=Aa.Frontload=void 0;var gy=function(){function t(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();Aa.frontloadServerRender=i6;var jV=($e(),Sc(Z_)),Wc=GE(jV),GV=Gv(),jE=GE(GV);function GE(t){return t&&t.__esModule?t:{default:t}}function KE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function XE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var KV=function(){return typeof window>"u"||!window.document||!window.document.createElement},YV=KV(),Ol=[],Ia={MOUNT:0,UPDATE:1},XV=!1,ZE=function(e,i){for(var r=[],n=0;n<e.length;n++)r.push(i(e[n],n));return r};function ZV(t,e){var i=e.withLogging,r=e.continueRenderingOnError,n=void 0;return Promise.all(ZE(t,function(o){return o.catch(function(l){return n||(n=l),i&&XV("frontloadServerRender info","ERROR:",l),l})})).then(function(){if(r!==!0&&n)throw n})}var JV=Aa.Frontload=function(t){XE(e,t),gy(e,[{key:"getChildContext",value:function(){var r=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(o,l,u,c,d){var f=u===Ia.MOUNT,g=u===Ia.UPDATE,v=r.props.noServerRender||l.noServerRender;r.isServer&&v||f&&l.onMount===!1||g&&!l.onUpdate||(r.isServer?Ol.unshift({fn:function(){return o(c,{isMount:f,isUpdate:g})},options:l,componentDisplayName:c.displayName}):(v||r.firstClientRenderDone)&&o(c,{isMount:f,isUpdate:g}))}}}}}]);function e(i,r){KE(this,e);var n=YE(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.isServer=i.isServer===void 0?YV:i.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return gy(e,[{key:"render",value:function(){return Wc.default.Children.only(this.props.children)}}]),e}(Wc.default.Component);JV.childContextTypes={frontload:jE.default.object};var JE=function(t){XE(e,t);function e(i,r){KE(this,e);var n=YE(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.pushFrontload=function(o){return function(l){if(o===Ia.UPDATE){var u=n.props.options._experimental_updateFunc;if(u&&!u(l.componentProps,n.props.componentProps))return}var c="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(o===Ia.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,o,n.props.componentProps,c)}},r.frontload.isServer?n.componentWillMount=n.pushFrontload(Ia.MOUNT):(n.componentDidMount=n.pushFrontload(Ia.MOUNT),n.componentDidUpdate=n.pushFrontload(Ia.UPDATE)),n}return gy(e,[{key:"render",value:function(){return Wc.default.createElement(this.props.component,this.props.componentProps)}}]),e}(Wc.default.Component);JE.contextTypes={frontload:jE.default.object};var eue=Aa.frontloadConnect=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){return function(n){return Wc.default.createElement(JE,{frontload:e,component:r,componentProps:n,options:i})}}};function QV(t){t(!0);var e=Ol;return Ol=[],e}function e6(t,e){return ZV(ZE(t,function(i){return i.fn()}),e)}function t6(t){var e=t(!1);return Ol=[],e}function QE(t,e){var i=e.withLogging,r=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=QV(t),c=u.length+0,d=c-l;if(!d){var f=t6(t);return Promise.resolve(f)}var g=i&&Date.now();return e6(u,{withLogging:i,continueRenderingOnError:n}).then(function(){if(o===r){var v=t(!1),S=Ol.length+0,E=S-c;return Ol=[],v}return QE(t,{withLogging:i,maxNestedFrontloadComponents:r,continueRenderingOnError:n},o+1,c)})}function i6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),QE(t,e)}});function $c(t,e){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$c(t,e)}var eC=T(()=>{});function Nr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$c(t,e)}var Ph=T(()=>{eC()});function Ih(t){return t.charAt(0)==="/"}function vy(t,e){for(var i=e,r=i+1,n=t.length;r<n;i+=1,r+=1)t[i]=t[r];t.pop()}function r6(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],r=e&&e.split("/")||[],n=t&&Ih(t),o=e&&Ih(e),l=n||o;if(t&&Ih(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";var u;if(r.length){var c=r[r.length-1];u=c==="."||c===".."||c===""}else u=!1;for(var d=0,f=r.length;f>=0;f--){var g=r[f];g==="."?vy(r,f):g===".."?(vy(r,f),d++):d&&(vy(r,f),d--)}if(!l)for(;d--;d)r.unshift("..");l&&r[0]!==""&&(!r[0]||!Ih(r[0]))&&r.unshift("");var v=r.join("/");return u&&v.substr(-1)!=="/"&&(v+="/"),v}var tC,iC=T(()=>{tC=r6});var rC=T(()=>{});function o6(t,e){if(!n6){if(t)return;var i="Warning: "+e;typeof console<"u"&&console.warn(i);try{throw Error(i)}catch{}}}var n6,yy,nC=T(()=>{n6=!0;yy=o6});function Ln(t,e){if(!t){if(s6)throw new Error(by);var i=typeof e=="function"?e():e,r=i?"".concat(by,": ").concat(i):by;throw new Error(r)}}var s6,by,Ah=T(()=>{s6=!0,by="Invariant failed"});function jc(t){return t.charAt(0)==="/"?t:"/"+t}function oC(t){return t.charAt(0)==="/"?t.substr(1):t}function a6(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function dC(t,e){return a6(t,e)?t.substr(e.length):t}function pC(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function l6(t){var e=t||"/",i="",r="",n=e.indexOf("#");n!==-1&&(r=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:r==="#"?"":r}}function or(t){var e=t.pathname,i=t.search,r=t.hash,n=e||"/";return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function xr(t,e,i,r){var n;typeof t=="string"?(n=l6(t),n.state=e):(n=Ft({},t),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(n.key=i),r?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=tC(n.pathname,r.pathname)):n.pathname=r.pathname:n.pathname||(n.pathname="/"),n}function xy(){var t=null;function e(l){return t=l,function(){t===l&&(t=null)}}function i(l,u,c,d){if(t!=null){var f=typeof t=="function"?t(l,u):t;typeof f=="string"?typeof c=="function"?c(f,d):d(!0):d(f!==!1)}else d(!0)}var r=[];function n(l){var u=!0;function c(){u&&l.apply(void 0,arguments)}return r.push(c),function(){u=!1,r=r.filter(function(d){return d!==c})}}function o(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];r.forEach(function(d){return d.apply(void 0,u)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:n,notifyListeners:o}}function fC(t,e){e(window.confirm(t))}function u6(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function c6(){return window.navigator.userAgent.indexOf("Trident")===-1}function d6(){return window.navigator.userAgent.indexOf("Firefox")===-1}function p6(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function lC(){try{return window.history.state||{}}catch{return{}}}function Th(t){t===void 0&&(t={}),hC||Ln(!1);var e=window.history,i=u6(),r=!c6(),n=t,o=n.forceRefresh,l=o===void 0?!1:o,u=n.getUserConfirmation,c=u===void 0?fC:u,d=n.keyLength,f=d===void 0?6:d,g=t.basename?pC(jc(t.basename)):"";function v(U){var j=U||{},ee=j.key,de=j.state,fe=window.location,ve=fe.pathname,Ae=fe.search,_e=fe.hash,Oe=ve+Ae+_e;return g&&(Oe=dC(Oe,g)),xr(Oe,de,ee)}function S(){return Math.random().toString(36).substr(2,f)}var E=xy();function _(U){Ft($,U),$.length=e.length,E.notifyListeners($.location,$.action)}function P(U){p6(U)||F(v(U.state))}function I(){F(v(lC()))}var L=!1;function F(U){if(L)L=!1,_();else{var j="POP";E.confirmTransitionTo(U,j,c,function(ee){ee?_({action:j,location:U}):z(U)})}}function z(U){var j=$.location,ee=ie.indexOf(j.key);ee===-1&&(ee=0);var de=ie.indexOf(U.key);de===-1&&(de=0);var fe=ee-de;fe&&(L=!0,le(fe))}var H=v(lC()),ie=[H.key];function X(U){return g+or(U)}function k(U,j){var ee="PUSH",de=xr(U,j,S(),$.location);E.confirmTransitionTo(de,ee,c,function(fe){if(fe){var ve=X(de),Ae=de.key,_e=de.state;if(i)if(e.pushState({key:Ae,state:_e},null,ve),l)window.location.href=ve;else{var Oe=ie.indexOf($.location.key),qe=ie.slice(0,Oe+1);qe.push(de.key),ie=qe,_({action:ee,location:de})}else window.location.href=ve}})}function te(U,j){var ee="REPLACE",de=xr(U,j,S(),$.location);E.confirmTransitionTo(de,ee,c,function(fe){if(fe){var ve=X(de),Ae=de.key,_e=de.state;if(i)if(e.replaceState({key:Ae,state:_e},null,ve),l)window.location.replace(ve);else{var Oe=ie.indexOf($.location.key);Oe!==-1&&(ie[Oe]=de.key),_({action:ee,location:de})}else window.location.replace(ve)}})}function le(U){e.go(U)}function Y(){le(-1)}function K(){le(1)}var D=0;function Q(U){D+=U,D===1&&U===1?(window.addEventListener(sC,P),r&&window.addEventListener(aC,I)):D===0&&(window.removeEventListener(sC,P),r&&window.removeEventListener(aC,I))}var J=!1;function V(U){U===void 0&&(U=!1);var j=E.setPrompt(U);return J||(Q(1),J=!0),function(){return J&&(J=!1,Q(-1)),j()}}function oe(U){var j=E.appendListener(U);return Q(1),function(){Q(-1),j()}}var $={length:e.length,action:"POP",location:H,createHref:X,push:k,replace:te,go:le,goBack:Y,goForward:K,block:V,listen:oe};return $}function mC(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Vc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function f6(t){window.location.hash=t}function wy(t){window.location.replace(mC(window.location.href)+"#"+t)}function gC(t){t===void 0&&(t={}),hC||Ln(!1);var e=window.history,i=d6(),r=t,n=r.getUserConfirmation,o=n===void 0?fC:n,l=r.hashType,u=l===void 0?"slash":l,c=t.basename?pC(jc(t.basename)):"",d=h6[u],f=d.encodePath,g=d.decodePath;function v(){var ee=g(Vc());return c&&(ee=dC(ee,c)),xr(ee)}var S=xy();function E(ee){Ft(j,ee),j.length=e.length,S.notifyListeners(j.location,j.action)}var _=!1,P=null;function I(ee,de){return ee.pathname===de.pathname&&ee.search===de.search&&ee.hash===de.hash}function L(){var ee=Vc(),de=f(ee);if(ee!==de)wy(de);else{var fe=v(),ve=j.location;if(!_&&I(ve,fe)||P===or(fe))return;P=null,F(fe)}}function F(ee){if(_)_=!1,E();else{var de="POP";S.confirmTransitionTo(ee,de,o,function(fe){fe?E({action:de,location:ee}):z(ee)})}}function z(ee){var de=j.location,fe=k.lastIndexOf(or(de));fe===-1&&(fe=0);var ve=k.lastIndexOf(or(ee));ve===-1&&(ve=0);var Ae=fe-ve;Ae&&(_=!0,K(Ae))}var H=Vc(),ie=f(H);H!==ie&&wy(ie);var X=v(),k=[or(X)];function te(ee){var de=document.querySelector("base"),fe="";return de&&de.getAttribute("href")&&(fe=mC(window.location.href)),fe+"#"+f(c+or(ee))}function le(ee,de){var fe="PUSH",ve=xr(ee,void 0,void 0,j.location);S.confirmTransitionTo(ve,fe,o,function(Ae){if(Ae){var _e=or(ve),Oe=f(c+_e),qe=Vc()!==Oe;if(qe){P=_e,f6(Oe);var ot=k.lastIndexOf(or(j.location)),je=k.slice(0,ot+1);je.push(_e),k=je,E({action:fe,location:ve})}else E()}})}function Y(ee,de){var fe="REPLACE",ve=xr(ee,void 0,void 0,j.location);S.confirmTransitionTo(ve,fe,o,function(Ae){if(Ae){var _e=or(ve),Oe=f(c+_e),qe=Vc()!==Oe;qe&&(P=_e,wy(Oe));var ot=k.indexOf(or(j.location));ot!==-1&&(k[ot]=_e),E({action:fe,location:ve})}})}function K(ee){e.go(ee)}function D(){K(-1)}function Q(){K(1)}var J=0;function V(ee){J+=ee,J===1&&ee===1?window.addEventListener(uC,L):J===0&&window.removeEventListener(uC,L)}var oe=!1;function $(ee){ee===void 0&&(ee=!1);var de=S.setPrompt(ee);return oe||(V(1),oe=!0),function(){return oe&&(oe=!1,V(-1)),de()}}function U(ee){var de=S.appendListener(ee);return V(1),function(){V(-1),de()}}var j={length:e.length,action:"POP",location:X,createHref:te,push:le,replace:Y,go:K,goBack:D,goForward:Q,block:$,listen:U};return j}function cC(t,e,i){return Math.min(Math.max(t,e),i)}function vC(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,r=e.initialEntries,n=r===void 0?["/"]:r,o=e.initialIndex,l=o===void 0?0:o,u=e.keyLength,c=u===void 0?6:u,d=xy();function f(k){Ft(X,k),X.length=X.entries.length,d.notifyListeners(X.location,X.action)}function g(){return Math.random().toString(36).substr(2,c)}var v=cC(l,0,n.length-1),S=n.map(function(k){return typeof k=="string"?xr(k,void 0,g()):xr(k,void 0,k.key||g())}),E=or;function _(k,te){var le="PUSH",Y=xr(k,te,g(),X.location);d.confirmTransitionTo(Y,le,i,function(K){if(K){var D=X.index,Q=D+1,J=X.entries.slice(0);J.length>Q?J.splice(Q,J.length-Q,Y):J.push(Y),f({action:le,location:Y,index:Q,entries:J})}})}function P(k,te){var le="REPLACE",Y=xr(k,te,g(),X.location);d.confirmTransitionTo(Y,le,i,function(K){K&&(X.entries[X.index]=Y,f({action:le,location:Y}))})}function I(k){var te=cC(X.index+k,0,X.entries.length-1),le="POP",Y=X.entries[te];d.confirmTransitionTo(Y,le,i,function(K){K?f({action:le,location:Y,index:te}):f()})}function L(){I(-1)}function F(){I(1)}function z(k){var te=X.index+k;return te>=0&&te<X.entries.length}function H(k){return k===void 0&&(k=!1),d.setPrompt(k)}function ie(k){return d.appendListener(k)}var X={length:S.length,action:"POP",location:S[v],index:v,entries:S,createHref:E,push:_,replace:P,go:I,goBack:L,goForward:F,canGo:z,block:H,listen:ie};return X}var hC,sC,aC,uC,h6,Mh=T(()=>{Pa();iC();rC();Ah();hC=!!(typeof window<"u"&&window.document&&window.document.createElement);sC="popstate",aC="hashchange";uC="hashchange",h6={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+oC(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:oC,decodePath:jc},slash:{encodePath:jc,decodePath:jc}}});function m6(){var t="__global_unique_id__";return yC[t]=(yC[t]||0)+1}function g6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function v6(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return t},set:function(r,n){t=r,e.forEach(function(o){return o(t,n)})}}}function y6(t){return Array.isArray(t)?t[0]:t}function b6(t,e){var i,r,n="__create-react-context-"+m6()+"__",o=function(u){Nr(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.emitter=v6(f.props.value),f}var d=c.prototype;return d.getChildContext=function(){var g;return g={},g[n]=this.emitter,g},d.componentWillReceiveProps=function(g){if(this.props.value!==g.value){var v=this.props.value,S=g.value,E;g6(v,S)?E=0:(E=typeof e=="function"?e(v,S):Sy,E|=0,E!==0&&this.emitter.set(g.value,E))}},d.render=function(){return this.props.children},c}(se);o.childContextTypes=(i={},i[n]=_y.default.object.isRequired,i);var l=function(u){Nr(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.state={value:f.getValue()},f.onUpdate=function(g,v){var S=f.observedBits|0;S&v&&f.setState({value:f.getValue()})},f}var d=c.prototype;return d.componentWillReceiveProps=function(g){var v=g.observedBits;this.observedBits=v??Sy},d.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var g=this.props.observedBits;this.observedBits=g??Sy},d.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},d.getValue=function(){return this.context[n]?this.context[n].get():t},d.render=function(){return y6(this.props.children)(this.state.value)},c}(se);return l.contextTypes=(r={},r[n]=_y.default.object,r),{Provider:o,Consumer:l}}var _y,Sy,yC,w6,bC,wC=T(()=>{$e();Ph();_y=he(Gv()),Sy=1073741823,yC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};w6=We.createContext||b6,bC=w6});var SC=W((yue,xC)=>{xC.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}});var PC=W((bue,Dl)=>{var Nh=SC();Dl.exports=CC;Dl.exports.parse=Ey;Dl.exports.compile=S6;Dl.exports.tokensToFunction=_C;Dl.exports.tokensToRegExp=EC;var x6=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Ey(t,e){for(var i=[],r=0,n=0,o="",l=e&&e.delimiter||"/",u;(u=x6.exec(t))!=null;){var c=u[0],d=u[1],f=u.index;if(o+=t.slice(n,f),n=f+c.length,d){o+=d[1];continue}var g=t[n],v=u[2],S=u[3],E=u[4],_=u[5],P=u[6],I=u[7];o&&(i.push(o),o="");var L=v!=null&&g!=null&&g!==v,F=P==="+"||P==="*",z=P==="?"||P==="*",H=u[2]||l,ie=E||_;i.push({name:S||r++,prefix:v||"",delimiter:H,optional:z,repeat:F,partial:L,asterisk:!!I,pattern:ie?C6(ie):I?".*":"[^"+Rh(H)+"]+?"})}return n<t.length&&(o+=t.substr(n)),o&&i.push(o),i}function S6(t,e){return _C(Ey(t,e),e)}function _6(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function E6(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _C(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(i[r]=new RegExp("^(?:"+t[r].pattern+")$",Py(e)));return function(n,o){for(var l="",u=n||{},c=o||{},d=c.pretty?_6:encodeURIComponent,f=0;f<t.length;f++){var g=t[f];if(typeof g=="string"){l+=g;continue}var v=u[g.name],S;if(v==null)if(g.optional){g.partial&&(l+=g.prefix);continue}else throw new TypeError('Expected "'+g.name+'" to be defined');if(Nh(v)){if(!g.repeat)throw new TypeError('Expected "'+g.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to not be empty')}for(var E=0;E<v.length;E++){if(S=d(v[E]),!i[f].test(S))throw new TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but received `'+JSON.stringify(S)+"`");l+=(E===0?g.prefix:g.delimiter)+S}continue}if(S=g.asterisk?E6(v):d(v),!i[f].test(S))throw new TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but received "'+S+'"');l+=g.prefix+S}return l}}function Rh(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function C6(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Cy(t,e){return t.keys=e,t}function Py(t){return t&&t.sensitive?"":"i"}function P6(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Cy(t,e)}function I6(t,e,i){for(var r=[],n=0;n<t.length;n++)r.push(CC(t[n],e,i).source);var o=new RegExp("(?:"+r.join("|")+")",Py(i));return Cy(o,e)}function A6(t,e,i){return EC(Ey(t,i),e,i)}function EC(t,e,i){Nh(e)||(i=e||i,e=[]),i=i||{};for(var r=i.strict,n=i.end!==!1,o="",l=0;l<t.length;l++){var u=t[l];if(typeof u=="string")o+=Rh(u);else{var c=Rh(u.prefix),d="(?:"+u.pattern+")";e.push(u),u.repeat&&(d+="(?:"+c+d+")*"),u.optional?u.partial?d=c+"("+d+")?":d="(?:"+c+"("+d+"))?":d=c+"("+d+")",o+=d}}var f=Rh(i.delimiter||"/"),g=o.slice(-f.length)===f;return r||(o=(g?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),n?o+="$":o+=r&&g?"":"(?="+f+"|$)",Cy(new RegExp("^"+o,Py(i)),e)}function CC(t,e,i){return Nh(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?P6(t,e):Nh(t)?I6(t,e,i):A6(t,e,i)}});function N6(t,e){var i=""+e.end+e.strict+e.sensitive,r=IC[i]||(IC[i]={});if(r[t])return r[t];var n=[],o=(0,RC.default)(t,n,e),l={regexp:o,keys:n};return AC<R6&&(r[t]=l,AC++),l}function Ta(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,r=i.path,n=i.exact,o=n===void 0?!1:n,l=i.strict,u=l===void 0?!1:l,c=i.sensitive,d=c===void 0?!1:c,f=[].concat(r);return f.reduce(function(g,v){if(!v&&v!=="")return null;if(g)return g;var S=N6(v,{end:o,strict:u,sensitive:d}),E=S.regexp,_=S.keys,P=E.exec(t);if(!P)return null;var I=P[0],L=P.slice(1),F=t===I;return o&&!F?null:{path:v,url:v==="/"&&I===""?"/":I,isExact:F,params:_.reduce(function(z,H,ie){return z[H.name]=L[ie],z},{})}},null)}function k6(t){return We.Children.count(t)===0}function Ay(t){return t.charAt(0)==="/"?t:"/"+t}function O6(t,e){return t?Ft({},e,{pathname:Ay(t)+e.pathname}):e}function D6(t,e){if(!t)return e;var i=Ay(t);return e.pathname.indexOf(i)!==0?e:Ft({},e,{pathname:e.pathname.substr(i.length)})}function TC(t){return typeof t=="string"?t:or(t)}function Iy(t){return function(){Ln(!1)}}function MC(){}function Fn(t){var e="withRouter("+(t.displayName||t.name)+")",i=function(n){var o=n.wrappedComponentRef,l=wr(n,["wrappedComponentRef"]);return We.createElement(Cs.Consumer,null,function(u){return u||Ln(!1),We.createElement(t,Ft({},l,u,{ref:o}))})};return i.displayName=e,i.WrappedComponent=t,(0,NC.default)(i,t)}var RC,Iue,NC,kC,T6,Cs,Ps,M6,Mue,IC,R6,AC,vn,L6,kh,Rue,Yo=T(()=>{Ph();$e();Mh();wC();Ah();Pa();RC=he(PC()),Iue=he(Qv());Nl();NC=he(bh()),kC=function(e){var i=bC();return i.displayName=e,i},T6=kC("Router-History"),Cs=kC("Router"),Ps=function(t){Nr(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=t.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(o){n._pendingLocation=o})),n}var i=e.prototype;return i.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){n._isMounted&&n.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return We.createElement(Cs.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},We.createElement(T6.Provider,{children:this.props.children||null,value:this.props.history}))},e}(We.Component),M6=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=vC(r.props),r}var i=e.prototype;return i.render=function(){return We.createElement(Ps,{history:this.history,children:this.props.children})},e}(We.Component),Mue=function(t){Nr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},e}(We.Component),IC={},R6=1e4,AC=0;vn=function(t){Nr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return We.createElement(Cs.Consumer,null,function(o){o||Ln(!1);var l=n.props.location||o.location,u=n.props.computedMatch?n.props.computedMatch:n.props.path?Ta(l.pathname,n.props):o.match,c=Ft({},o,{location:l,match:u}),d=n.props,f=d.children,g=d.component,v=d.render;return Array.isArray(f)&&k6(f)&&(f=null),We.createElement(Cs.Provider,{value:c},c.match?f?typeof f=="function"?f(c):f:g?We.createElement(g,c):v?v(c):null:typeof f=="function"?f(c):null)})},e}(We.Component);L6=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.handlePush=function(u){return r.navigateTo(u,"PUSH")},r.handleReplace=function(u){return r.navigateTo(u,"REPLACE")},r.handleListen=function(){return MC},r.handleBlock=function(){return MC},r}var i=e.prototype;return i.navigateTo=function(n,o){var l=this.props,u=l.basename,c=u===void 0?"":u,d=l.context,f=d===void 0?{}:d;f.action=o,f.location=O6(c,xr(n)),f.url=TC(f.location)},i.render=function(){var n=this.props,o=n.basename,l=o===void 0?"":o,u=n.context,c=u===void 0?{}:u,d=n.location,f=d===void 0?"/":d,g=wr(n,["basename","context","location"]),v={createHref:function(E){return Ay(l+TC(E))},action:"POP",location:D6(l,xr(f)),push:this.handlePush,replace:this.handleReplace,go:Iy("go"),goBack:Iy("goBack"),goForward:Iy("goForward"),listen:this.handleListen,block:this.handleBlock};return We.createElement(Ps,Ft({},g,{history:v,staticContext:c}))},e}(We.Component),kh=function(t){Nr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return We.createElement(Cs.Consumer,null,function(o){o||Ln(!1);var l=n.props.location||o.location,u,c;return We.Children.forEach(n.props.children,function(d){if(c==null&&We.isValidElement(d)){u=d;var f=d.props.path||d.props.from;c=f?Ta(l.pathname,Ft({},d.props,{path:f})):o.match}}),c?We.cloneElement(u,{location:l,computedMatch:c}):null})},e}(We.Component);Rue=We.useContext});var xe=W((Ll,Gc)=>{(function(){var t,e="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,g=4,v=1,S=2,E=1,_=2,P=4,I=8,L=16,F=32,z=64,H=128,ie=256,X=512,k=30,te="...",le=800,Y=16,K=1,D=2,Q=3,J=1/0,V=9007199254740991,oe=17976931348623157e292,$=NaN,U=4294967295,j=U-1,ee=U>>>1,de=[["ary",H],["bind",E],["bindKey",_],["curry",I],["curryRight",L],["flip",X],["partial",F],["partialRight",z],["rearg",ie]],fe="[object Arguments]",ve="[object Array]",Ae="[object AsyncFunction]",_e="[object Boolean]",Oe="[object Date]",qe="[object DOMException]",ot="[object Error]",je="[object Function]",st="[object GeneratorFunction]",Ie="[object Map]",lt="[object Number]",ut="[object Null]",ht="[object Object]",Ue="[object Promise]",gt="[object Proxy]",Nt="[object RegExp]",_t="[object Set]",Ht="[object String]",nt="[object Symbol]",Wi="[object Undefined]",Jt="[object WeakMap]",Co="[object WeakSet]",Hr="[object ArrayBuffer]",Cn="[object DataView]",as="[object Float32Array]",Po="[object Float64Array]",wi="[object Int8Array]",vt="[object Int16Array]",Er="[object Int32Array]",ur="[object Uint8Array]",ol="[object Uint8ClampedArray]",ui="[object Uint16Array]",Io="[object Uint32Array]",ls=/\b__p \+= '';/g,sl=/\b(__p \+=) '' \+/g,Hu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$i=/&(?:amp|lt|gt|quot|#39);/g,Uu=/[&<>"']/g,Bu=RegExp($i.source),Wu=RegExp(Uu.source),Tg=/<%-([\s\S]+?)%>/g,Mg=/<%([\s\S]+?)%>/g,al=/<%=([\s\S]+?)%>/g,ip=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rp=/^\w*$/,np=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$u=/[\\^$.*+?()[\]{}|]/g,Rg=RegExp($u.source),Vu=/^\s+/,op=/\s/,cr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ao=/\{\n\/\* \[wrapped with (.+)\] \*/,Xs=/,? & /,ju=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zs=/[()=,{}\[\]\/\s]/,us=/\\(\\)?/g,Ng=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gu=/\w*$/,Ku=/^[-+]0x[0-9a-f]+$/i,sp=/^0b[01]+$/i,ll=/^\[object .+?Constructor\]$/,Qi=/^0o[0-7]+$/i,To=/^(?:0|[1-9]\d*)$/,er=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mi=/($^)/,Mo=/['\n\r\u2028\u2029\\]/g,Ur="\\ud800-\\udfff",Ro="\\u0300-\\u036f",Js="\\ufe20-\\ufe2f",No="\\u20d0-\\u20ff",ko=Ro+Js+No,ul="\\u2700-\\u27bf",cs="a-z\\xdf-\\xf6\\xf8-\\xff",Qs="\\xac\\xb1\\xd7\\xf7",cl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dl="\\u2000-\\u206f",Yu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dr="A-Z\\xc0-\\xd6\\xd8-\\xde",pl="\\ufe0e\\ufe0f",Xn=Qs+cl+dl+Yu,Pn="['\u2019]",hl="["+Ur+"]",In="["+Xn+"]",Mi="["+ko+"]",rn="\\d+",ap="["+ul+"]",Xu="["+cs+"]",ct="[^"+Ur+Xn+rn+ul+cs+dr+"]",Br="\\ud83c[\\udffb-\\udfff]",pr="(?:"+Mi+"|"+Br+")",Vi="[^"+Ur+"]",Oo="(?:\\ud83c[\\udde6-\\uddff]){2}",Zn="[\\ud800-\\udbff][\\udc00-\\udfff]",ji="["+dr+"]",fl="\\u200d",ea="(?:"+Xu+"|"+ct+")",ta="(?:"+ji+"|"+ct+")",ia="(?:"+Pn+"(?:d|ll|m|re|s|t|ve))?",lp="(?:"+Pn+"(?:D|LL|M|RE|S|T|VE))?",up=pr+"?",Zu="["+pl+"]?",Ju="(?:"+fl+"(?:"+[Vi,Oo,Zn].join("|")+")"+Zu+up+")*",cp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qu=Zu+up+Ju,ec="(?:"+[ap,Oo,Zn].join("|")+")"+Qu,dp="(?:"+[Vi+Mi+"?",Mi,Oo,Zn,hl].join("|")+")",pp=RegExp(Pn,"g"),hp=RegExp(Mi,"g"),tc=RegExp(Br+"(?="+Br+")|"+dp+Qu,"g"),fp=RegExp([ji+"?"+Xu+"+"+ia+"(?="+[In,ji,"$"].join("|")+")",ta+"+"+lp+"(?="+[In,ji+ea,"$"].join("|")+")",ji+"?"+ea+"+"+ia,ji+"+"+lp,kg,cp,rn,ec].join("|"),"g"),ds=RegExp("["+fl+Ur+ko+pl+"]"),Og=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ml=-1,kt={};kt[as]=kt[Po]=kt[wi]=kt[vt]=kt[Er]=kt[ur]=kt[ol]=kt[ui]=kt[Io]=!0,kt[fe]=kt[ve]=kt[Hr]=kt[_e]=kt[Cn]=kt[Oe]=kt[ot]=kt[je]=kt[Ie]=kt[lt]=kt[ht]=kt[Nt]=kt[_t]=kt[Ht]=kt[Jt]=!1;var Ot={};Ot[fe]=Ot[ve]=Ot[Hr]=Ot[Cn]=Ot[_e]=Ot[Oe]=Ot[as]=Ot[Po]=Ot[wi]=Ot[vt]=Ot[Er]=Ot[Ie]=Ot[lt]=Ot[ht]=Ot[Nt]=Ot[_t]=Ot[Ht]=Ot[nt]=Ot[ur]=Ot[ol]=Ot[ui]=Ot[Io]=!0,Ot[ot]=Ot[je]=Ot[Jt]=!1;var mp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Dg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zg=parseFloat,qg=parseInt,gp=typeof global=="object"&&global&&global.Object===Object&&global,Hg=typeof self=="object"&&self&&self.Object===Object&&self,xi=gp||Hg||Function("return this")(),ic=typeof Ll=="object"&&Ll&&!Ll.nodeType&&Ll,hr=ic&&typeof Gc=="object"&&Gc&&!Gc.nodeType&&Gc,rc=hr&&hr.exports===ic,Qn=rc&&gp.process,Dt=function(){try{var G=hr&&hr.require&&hr.require("util").types;return G||Qn&&Qn.binding&&Qn.binding("util")}catch{}}(),eo=Dt&&Dt.isArrayBuffer,gl=Dt&&Dt.isDate,ps=Dt&&Dt.isMap,vp=Dt&&Dt.isRegExp,nn=Dt&&Dt.isSet,tr=Dt&&Dt.isTypedArray;function fr(G,pe,ce){switch(ce.length){case 0:return G.call(pe);case 1:return G.call(pe,ce[0]);case 2:return G.call(pe,ce[0],ce[1]);case 3:return G.call(pe,ce[0],ce[1],ce[2])}return G.apply(pe,ce)}function Ug(G,pe,ce,Ce){for(var tt=-1,wt=G==null?0:G.length;++tt<wt;){var ei=G[tt];pe(Ce,ei,ce(ei),G)}return Ce}function Cr(G,pe){for(var ce=-1,Ce=G==null?0:G.length;++ce<Ce&&pe(G[ce],ce,G)!==!1;);return G}function ra(G,pe){for(var ce=G==null?0:G.length;ce--&&pe(G[ce],ce,G)!==!1;);return G}function na(G,pe){for(var ce=-1,Ce=G==null?0:G.length;++ce<Ce;)if(!pe(G[ce],ce,G))return!1;return!0}function An(G,pe){for(var ce=-1,Ce=G==null?0:G.length,tt=0,wt=[];++ce<Ce;){var ei=G[ce];pe(ei,ce,G)&&(wt[tt++]=ei)}return wt}function oa(G,pe){var ce=G==null?0:G.length;return!!ce&&Wr(G,pe,0)>-1}function on(G,pe,ce){for(var Ce=-1,tt=G==null?0:G.length;++Ce<tt;)if(ce(pe,G[Ce]))return!0;return!1}function $t(G,pe){for(var ce=-1,Ce=G==null?0:G.length,tt=Array(Ce);++ce<Ce;)tt[ce]=pe(G[ce],ce,G);return tt}function Tn(G,pe){for(var ce=-1,Ce=pe.length,tt=G.length;++ce<Ce;)G[tt+ce]=pe[ce];return G}function sn(G,pe,ce,Ce){var tt=-1,wt=G==null?0:G.length;for(Ce&&wt&&(ce=G[++tt]);++tt<wt;)ce=pe(ce,G[tt],tt,G);return ce}function nc(G,pe,ce,Ce){var tt=G==null?0:G.length;for(Ce&&tt&&(ce=G[--tt]);tt--;)ce=pe(ce,G[tt],tt,G);return ce}function sa(G,pe){for(var ce=-1,Ce=G==null?0:G.length;++ce<Ce;)if(pe(G[ce],ce,G))return!0;return!1}var vl=la("length");function aa(G){return G.split("")}function oc(G){return G.match(ju)||[]}function Gi(G,pe,ce){var Ce;return ce(G,function(tt,wt,ei){if(pe(tt,wt,ei))return Ce=wt,!1}),Ce}function hs(G,pe,ce,Ce){for(var tt=G.length,wt=ce+(Ce?1:-1);Ce?wt--:++wt<tt;)if(pe(G[wt],wt,G))return wt;return-1}function Wr(G,pe,ce){return pe===pe?oi(G,pe,ce):hs(G,Do,ce)}function $r(G,pe,ce,Ce){for(var tt=ce-1,wt=G.length;++tt<wt;)if(Ce(G[tt],pe))return tt;return-1}function Do(G){return G!==G}function an(G,pe){var ce=G==null?0:G.length;return ce?Mn(G,pe)/ce:$}function la(G){return function(pe){return pe==null?t:pe[G]}}function Lo(G){return function(pe){return G==null?t:G[pe]}}function yl(G,pe,ce,Ce,tt){return tt(G,function(wt,ei,Ct){ce=Ce?(Ce=!1,wt):pe(ce,wt,ei,Ct)}),ce}function sc(G,pe){var ce=G.length;for(G.sort(pe);ce--;)G[ce]=G[ce].value;return G}function Mn(G,pe){for(var ce,Ce=-1,tt=G.length;++Ce<tt;){var wt=pe(G[Ce]);wt!==t&&(ce=ce===t?wt:ce+wt)}return ce}function ua(G,pe){for(var ce=-1,Ce=Array(G);++ce<G;)Ce[ce]=pe(ce);return Ce}function yp(G,pe){return $t(pe,function(ce){return[ce,G[ce]]})}function ca(G){return G&&G.slice(0,fs(G)+1).replace(Vu,"")}function mr(G){return function(pe){return G(pe)}}function Pr(G,pe){return $t(pe,function(ce){return G[ce]})}function gi(G,pe){return G.has(pe)}function x(G,pe){for(var ce=-1,Ce=G.length;++ce<Ce&&Wr(pe,G[ce],0)>-1;);return ce}function M(G,pe){for(var ce=G.length;ce--&&Wr(pe,G[ce],0)>-1;);return ce}function O(G,pe){for(var ce=G.length,Ce=0;ce--;)G[ce]===pe&&++Ce;return Ce}var N=Lo(mp),ae=Lo(Dg);function Se(G){return"\\"+Fg[G]}function Ne(G,pe){return G==null?t:G[pe]}function He(G){return ds.test(G)}function et(G){return Og.test(G)}function De(G){for(var pe,ce=[];!(pe=G.next()).done;)ce.push(pe.value);return ce}function Ye(G){var pe=-1,ce=Array(G.size);return G.forEach(function(Ce,tt){ce[++pe]=[tt,Ce]}),ce}function ft(G,pe){return function(ce){return G(pe(ce))}}function At(G,pe){for(var ce=-1,Ce=G.length,tt=0,wt=[];++ce<Ce;){var ei=G[ce];(ei===pe||ei===c)&&(G[ce]=c,wt[tt++]=ce)}return wt}function Si(G){var pe=-1,ce=Array(G.size);return G.forEach(function(Ce){ce[++pe]=Ce}),ce}function gr(G){var pe=-1,ce=Array(G.size);return G.forEach(function(Ce){ce[++pe]=[Ce,Ce]}),ce}function oi(G,pe,ce){for(var Ce=ce-1,tt=G.length;++Ce<tt;)if(G[Ce]===pe)return Ce;return-1}function Qt(G,pe,ce){for(var Ce=ce+1;Ce--;)if(G[Ce]===pe)return Ce;return Ce}function ci(G){return He(G)?wl(G):vl(G)}function Ri(G){return He(G)?ac(G):aa(G)}function fs(G){for(var pe=G.length;pe--&&op.test(G.charAt(pe)););return pe}var bl=Lo(Lg);function wl(G){for(var pe=tc.lastIndex=0;tc.test(G);)++pe;return pe}function ac(G){return G.match(tc)||[]}function da(G){return G.match(fp)||[]}var Vr=function G(pe){pe=pe==null?xi:ir.defaults(xi.Object(),pe,ir.pick(xi,Jn));var ce=pe.Array,Ce=pe.Date,tt=pe.Error,wt=pe.Function,ei=pe.Math,Ct=pe.Object,Fo=pe.RegExp,Ki=pe.String,Yi=pe.TypeError,Rn=ce.prototype,ms=wt.prototype,Ir=Ct.prototype,pa=pe["__core-js_shared__"],xl=ms.toString,Lt=Ir.hasOwnProperty,bq=0,oS=function(){var s=/[^.]+$/.exec(pa&&pa.keys&&pa.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),bp=Ir.toString,wq=xl.call(Ct),xq=xi._,Sq=Fo("^"+xl.call(Lt).replace($u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wp=rc?pe.Buffer:t,gs=pe.Symbol,xp=pe.Uint8Array,sS=wp?wp.allocUnsafe:t,Sp=ft(Ct.getPrototypeOf,Ct),aS=Ct.create,lS=Ir.propertyIsEnumerable,_p=Rn.splice,uS=gs?gs.isConcatSpreadable:t,lc=gs?gs.iterator:t,ha=gs?gs.toStringTag:t,Ep=function(){try{var s=ya(Ct,"defineProperty");return s({},"",{}),s}catch{}}(),_q=pe.clearTimeout!==xi.clearTimeout&&pe.clearTimeout,Eq=Ce&&Ce.now!==xi.Date.now&&Ce.now,Cq=pe.setTimeout!==xi.setTimeout&&pe.setTimeout,Cp=ei.ceil,Pp=ei.floor,Bg=Ct.getOwnPropertySymbols,Pq=wp?wp.isBuffer:t,cS=pe.isFinite,Iq=Rn.join,Aq=ft(Ct.keys,Ct),Pi=ei.max,rr=ei.min,Tq=Ce.now,Mq=pe.parseInt,dS=ei.random,Rq=Rn.reverse,Wg=ya(pe,"DataView"),uc=ya(pe,"Map"),$g=ya(pe,"Promise"),Sl=ya(pe,"Set"),cc=ya(pe,"WeakMap"),dc=ya(Ct,"create"),Ip=cc&&new cc,_l={},Nq=ba(Wg),kq=ba(uc),Oq=ba($g),Dq=ba(Sl),Lq=ba(cc),Ap=gs?gs.prototype:t,pc=Ap?Ap.valueOf:t,pS=Ap?Ap.toString:t;function A(s){if(di(s)&&!dt(s)&&!(s instanceof St)){if(s instanceof ln)return s;if(Lt.call(s,"__wrapped__"))return h1(s)}return new ln(s)}var El=function(){function s(){}return function(a){if(!si(a))return{};if(aS)return aS(a);s.prototype=a;var p=new s;return s.prototype=t,p}}();function Tp(){}function ln(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}A.templateSettings={escape:Tg,evaluate:Mg,interpolate:al,variable:"",imports:{_:A}},A.prototype=Tp.prototype,A.prototype.constructor=A,ln.prototype=El(Tp.prototype),ln.prototype.constructor=ln;function St(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Fq(){var s=new St(this.__wrapped__);return s.__actions__=Ar(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Ar(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Ar(this.__views__),s}function zq(){if(this.__filtered__){var s=new St(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function qq(){var s=this.__wrapped__.value(),a=this.__dir__,p=dt(s),b=a<0,C=p?s.length:0,R=ZH(0,C,this.__views__),q=R.start,B=R.end,Z=B-q,ge=b?B:q-1,ye=this.__iteratees__,we=ye.length,Te=0,Be=rr(Z,this.__takeCount__);if(!p||!b&&C==Z&&Be==Z)return LS(s,this.__actions__);var it=[];e:for(;Z--&&Te<Be;){ge+=a;for(var yt=-1,rt=s[ge];++yt<we;){var xt=ye[yt],Et=xt.iteratee,Kr=xt.type,br=Et(rt);if(Kr==D)rt=br;else if(!br){if(Kr==K)continue e;break e}}it[Te++]=rt}return it}St.prototype=El(Tp.prototype),St.prototype.constructor=St;function fa(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var b=s[a];this.set(b[0],b[1])}}function Hq(){this.__data__=dc?dc(null):{},this.size=0}function Uq(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function Bq(s){var a=this.__data__;if(dc){var p=a[s];return p===l?t:p}return Lt.call(a,s)?a[s]:t}function Wq(s){var a=this.__data__;return dc?a[s]!==t:Lt.call(a,s)}function $q(s,a){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=dc&&a===t?l:a,this}fa.prototype.clear=Hq,fa.prototype.delete=Uq,fa.prototype.get=Bq,fa.prototype.has=Wq,fa.prototype.set=$q;function zo(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var b=s[a];this.set(b[0],b[1])}}function Vq(){this.__data__=[],this.size=0}function jq(s){var a=this.__data__,p=Mp(a,s);if(p<0)return!1;var b=a.length-1;return p==b?a.pop():_p.call(a,p,1),--this.size,!0}function Gq(s){var a=this.__data__,p=Mp(a,s);return p<0?t:a[p][1]}function Kq(s){return Mp(this.__data__,s)>-1}function Yq(s,a){var p=this.__data__,b=Mp(p,s);return b<0?(++this.size,p.push([s,a])):p[b][1]=a,this}zo.prototype.clear=Vq,zo.prototype.delete=jq,zo.prototype.get=Gq,zo.prototype.has=Kq,zo.prototype.set=Yq;function qo(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var b=s[a];this.set(b[0],b[1])}}function Xq(){this.size=0,this.__data__={hash:new fa,map:new(uc||zo),string:new fa}}function Zq(s){var a=Bp(this,s).delete(s);return this.size-=a?1:0,a}function Jq(s){return Bp(this,s).get(s)}function Qq(s){return Bp(this,s).has(s)}function eH(s,a){var p=Bp(this,s),b=p.size;return p.set(s,a),this.size+=p.size==b?0:1,this}qo.prototype.clear=Xq,qo.prototype.delete=Zq,qo.prototype.get=Jq,qo.prototype.has=Qq,qo.prototype.set=eH;function ma(s){var a=-1,p=s==null?0:s.length;for(this.__data__=new qo;++a<p;)this.add(s[a])}function tH(s){return this.__data__.set(s,l),this}function iH(s){return this.__data__.has(s)}ma.prototype.add=ma.prototype.push=tH,ma.prototype.has=iH;function Nn(s){var a=this.__data__=new zo(s);this.size=a.size}function rH(){this.__data__=new zo,this.size=0}function nH(s){var a=this.__data__,p=a.delete(s);return this.size=a.size,p}function oH(s){return this.__data__.get(s)}function sH(s){return this.__data__.has(s)}function aH(s,a){var p=this.__data__;if(p instanceof zo){var b=p.__data__;if(!uc||b.length<i-1)return b.push([s,a]),this.size=++p.size,this;p=this.__data__=new qo(b)}return p.set(s,a),this.size=p.size,this}Nn.prototype.clear=rH,Nn.prototype.delete=nH,Nn.prototype.get=oH,Nn.prototype.has=sH,Nn.prototype.set=aH;function hS(s,a){var p=dt(s),b=!p&&wa(s),C=!p&&!b&&xs(s),R=!p&&!b&&!C&&Al(s),q=p||b||C||R,B=q?ua(s.length,Ki):[],Z=B.length;for(var ge in s)(a||Lt.call(s,ge))&&!(q&&(ge=="length"||C&&(ge=="offset"||ge=="parent")||R&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||Wo(ge,Z)))&&B.push(ge);return B}function fS(s){var a=s.length;return a?s[tv(0,a-1)]:t}function lH(s,a){return Wp(Ar(s),ga(a,0,s.length))}function uH(s){return Wp(Ar(s))}function Vg(s,a,p){(p!==t&&!kn(s[a],p)||p===t&&!(a in s))&&Ho(s,a,p)}function hc(s,a,p){var b=s[a];(!(Lt.call(s,a)&&kn(b,p))||p===t&&!(a in s))&&Ho(s,a,p)}function Mp(s,a){for(var p=s.length;p--;)if(kn(s[p][0],a))return p;return-1}function cH(s,a,p,b){return vs(s,function(C,R,q){a(b,C,p(C),q)}),b}function mS(s,a){return s&&io(a,Ni(a),s)}function dH(s,a){return s&&io(a,Mr(a),s)}function Ho(s,a,p){a=="__proto__"&&Ep?Ep(s,a,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[a]=p}function jg(s,a){for(var p=-1,b=a.length,C=ce(b),R=s==null;++p<b;)C[p]=R?t:Pv(s,a[p]);return C}function ga(s,a,p){return s===s&&(p!==t&&(s=s<=p?s:p),a!==t&&(s=s>=a?s:a)),s}function un(s,a,p,b,C,R){var q,B=a&d,Z=a&f,ge=a&g;if(p&&(q=C?p(s,b,C,R):p(s)),q!==t)return q;if(!si(s))return s;var ye=dt(s);if(ye){if(q=QH(s),!B)return Ar(s,q)}else{var we=nr(s),Te=we==je||we==st;if(xs(s))return qS(s,B);if(we==ht||we==fe||Te&&!C){if(q=Z||Te?{}:n1(s),!B)return Z?BH(s,dH(q,s)):UH(s,mS(q,s))}else{if(!Ot[we])return C?s:{};q=e3(s,we,B)}}R||(R=new Nn);var Be=R.get(s);if(Be)return Be;R.set(s,q),k1(s)?s.forEach(function(rt){q.add(un(rt,a,p,rt,s,R))}):R1(s)&&s.forEach(function(rt,xt){q.set(xt,un(rt,a,p,xt,s,R))});var it=ge?Z?pv:dv:Z?Mr:Ni,yt=ye?t:it(s);return Cr(yt||s,function(rt,xt){yt&&(xt=rt,rt=s[xt]),hc(q,xt,un(rt,a,p,xt,s,R))}),q}function pH(s){var a=Ni(s);return function(p){return gS(p,s,a)}}function gS(s,a,p){var b=p.length;if(s==null)return!b;for(s=Ct(s);b--;){var C=p[b],R=a[C],q=s[C];if(q===t&&!(C in s)||!R(q))return!1}return!0}function vS(s,a,p){if(typeof s!="function")throw new Yi(n);return wc(function(){s.apply(t,p)},a)}function fc(s,a,p,b){var C=-1,R=oa,q=!0,B=s.length,Z=[],ge=a.length;if(!B)return Z;p&&(a=$t(a,mr(p))),b?(R=on,q=!1):a.length>=i&&(R=gi,q=!1,a=new ma(a));e:for(;++C<B;){var ye=s[C],we=p==null?ye:p(ye);if(ye=b||ye!==0?ye:0,q&&we===we){for(var Te=ge;Te--;)if(a[Te]===we)continue e;Z.push(ye)}else R(a,we,b)||Z.push(ye)}return Z}var vs=$S(to),yS=$S(Kg,!0);function hH(s,a){var p=!0;return vs(s,function(b,C,R){return p=!!a(b,C,R),p}),p}function Rp(s,a,p){for(var b=-1,C=s.length;++b<C;){var R=s[b],q=a(R);if(q!=null&&(B===t?q===q&&!Gr(q):p(q,B)))var B=q,Z=R}return Z}function fH(s,a,p,b){var C=s.length;for(p=mt(p),p<0&&(p=-p>C?0:C+p),b=b===t||b>C?C:mt(b),b<0&&(b+=C),b=p>b?0:D1(b);p<b;)s[p++]=a;return s}function bS(s,a){var p=[];return vs(s,function(b,C,R){a(b,C,R)&&p.push(b)}),p}function Xi(s,a,p,b,C){var R=-1,q=s.length;for(p||(p=i3),C||(C=[]);++R<q;){var B=s[R];a>0&&p(B)?a>1?Xi(B,a-1,p,b,C):Tn(C,B):b||(C[C.length]=B)}return C}var Gg=VS(),wS=VS(!0);function to(s,a){return s&&Gg(s,a,Ni)}function Kg(s,a){return s&&wS(s,a,Ni)}function Np(s,a){return An(a,function(p){return $o(s[p])})}function va(s,a){a=bs(a,s);for(var p=0,b=a.length;s!=null&&p<b;)s=s[ro(a[p++])];return p&&p==b?s:t}function xS(s,a,p){var b=a(s);return dt(s)?b:Tn(b,p(s))}function vr(s){return s==null?s===t?Wi:ut:ha&&ha in Ct(s)?XH(s):u3(s)}function Yg(s,a){return s>a}function mH(s,a){return s!=null&&Lt.call(s,a)}function gH(s,a){return s!=null&&a in Ct(s)}function vH(s,a,p){return s>=rr(a,p)&&s<Pi(a,p)}function Xg(s,a,p){for(var b=p?on:oa,C=s[0].length,R=s.length,q=R,B=ce(R),Z=1/0,ge=[];q--;){var ye=s[q];q&&a&&(ye=$t(ye,mr(a))),Z=rr(ye.length,Z),B[q]=!p&&(a||C>=120&&ye.length>=120)?new ma(q&&ye):t}ye=s[0];var we=-1,Te=B[0];e:for(;++we<C&&ge.length<Z;){var Be=ye[we],it=a?a(Be):Be;if(Be=p||Be!==0?Be:0,!(Te?gi(Te,it):b(ge,it,p))){for(q=R;--q;){var yt=B[q];if(!(yt?gi(yt,it):b(s[q],it,p)))continue e}Te&&Te.push(it),ge.push(Be)}}return ge}function yH(s,a,p,b){return to(s,function(C,R,q){a(b,p(C),R,q)}),b}function mc(s,a,p){a=bs(a,s),s=l1(s,a);var b=s==null?s:s[ro(dn(a))];return b==null?t:fr(b,s,p)}function SS(s){return di(s)&&vr(s)==fe}function bH(s){return di(s)&&vr(s)==Hr}function wH(s){return di(s)&&vr(s)==Oe}function gc(s,a,p,b,C){return s===a?!0:s==null||a==null||!di(s)&&!di(a)?s!==s&&a!==a:xH(s,a,p,b,gc,C)}function xH(s,a,p,b,C,R){var q=dt(s),B=dt(a),Z=q?ve:nr(s),ge=B?ve:nr(a);Z=Z==fe?ht:Z,ge=ge==fe?ht:ge;var ye=Z==ht,we=ge==ht,Te=Z==ge;if(Te&&xs(s)){if(!xs(a))return!1;q=!0,ye=!1}if(Te&&!ye)return R||(R=new Nn),q||Al(s)?t1(s,a,p,b,C,R):KH(s,a,Z,p,b,C,R);if(!(p&v)){var Be=ye&&Lt.call(s,"__wrapped__"),it=we&&Lt.call(a,"__wrapped__");if(Be||it){var yt=Be?s.value():s,rt=it?a.value():a;return R||(R=new Nn),C(yt,rt,p,b,R)}}return Te?(R||(R=new Nn),YH(s,a,p,b,C,R)):!1}function SH(s){return di(s)&&nr(s)==Ie}function Zg(s,a,p,b){var C=p.length,R=C,q=!b;if(s==null)return!R;for(s=Ct(s);C--;){var B=p[C];if(q&&B[2]?B[1]!==s[B[0]]:!(B[0]in s))return!1}for(;++C<R;){B=p[C];var Z=B[0],ge=s[Z],ye=B[1];if(q&&B[2]){if(ge===t&&!(Z in s))return!1}else{var we=new Nn;if(b)var Te=b(ge,ye,Z,s,a,we);if(!(Te===t?gc(ye,ge,v|S,b,we):Te))return!1}}return!0}function _S(s){if(!si(s)||n3(s))return!1;var a=$o(s)?Sq:ll;return a.test(ba(s))}function _H(s){return di(s)&&vr(s)==Nt}function EH(s){return di(s)&&nr(s)==_t}function CH(s){return di(s)&&Yp(s.length)&&!!kt[vr(s)]}function ES(s){return typeof s=="function"?s:s==null?Rr:typeof s=="object"?dt(s)?IS(s[0],s[1]):PS(s):j1(s)}function Jg(s){if(!bc(s))return Aq(s);var a=[];for(var p in Ct(s))Lt.call(s,p)&&p!="constructor"&&a.push(p);return a}function PH(s){if(!si(s))return l3(s);var a=bc(s),p=[];for(var b in s)b=="constructor"&&(a||!Lt.call(s,b))||p.push(b);return p}function Qg(s,a){return s<a}function CS(s,a){var p=-1,b=Tr(s)?ce(s.length):[];return vs(s,function(C,R,q){b[++p]=a(C,R,q)}),b}function PS(s){var a=fv(s);return a.length==1&&a[0][2]?s1(a[0][0],a[0][1]):function(p){return p===s||Zg(p,s,a)}}function IS(s,a){return gv(s)&&o1(a)?s1(ro(s),a):function(p){var b=Pv(p,s);return b===t&&b===a?Iv(p,s):gc(a,b,v|S)}}function kp(s,a,p,b,C){s!==a&&Gg(a,function(R,q){if(C||(C=new Nn),si(R))IH(s,a,q,p,kp,b,C);else{var B=b?b(yv(s,q),R,q+"",s,a,C):t;B===t&&(B=R),Vg(s,q,B)}},Mr)}function IH(s,a,p,b,C,R,q){var B=yv(s,p),Z=yv(a,p),ge=q.get(Z);if(ge){Vg(s,p,ge);return}var ye=R?R(B,Z,p+"",s,a,q):t,we=ye===t;if(we){var Te=dt(Z),Be=!Te&&xs(Z),it=!Te&&!Be&&Al(Z);ye=Z,Te||Be||it?dt(B)?ye=B:vi(B)?ye=Ar(B):Be?(we=!1,ye=qS(Z,!0)):it?(we=!1,ye=HS(Z,!0)):ye=[]:xc(Z)||wa(Z)?(ye=B,wa(B)?ye=L1(B):(!si(B)||$o(B))&&(ye=n1(Z))):we=!1}we&&(q.set(Z,ye),C(ye,Z,b,R,q),q.delete(Z)),Vg(s,p,ye)}function AS(s,a){var p=s.length;if(p)return a+=a<0?p:0,Wo(a,p)?s[a]:t}function TS(s,a,p){a.length?a=$t(a,function(R){return dt(R)?function(q){return va(q,R.length===1?R[0]:R)}:R}):a=[Rr];var b=-1;a=$t(a,mr(Xe()));var C=CS(s,function(R,q,B){var Z=$t(a,function(ge){return ge(R)});return{criteria:Z,index:++b,value:R}});return sc(C,function(R,q){return HH(R,q,p)})}function AH(s,a){return MS(s,a,function(p,b){return Iv(s,b)})}function MS(s,a,p){for(var b=-1,C=a.length,R={};++b<C;){var q=a[b],B=va(s,q);p(B,q)&&vc(R,bs(q,s),B)}return R}function TH(s){return function(a){return va(a,s)}}function ev(s,a,p,b){var C=b?$r:Wr,R=-1,q=a.length,B=s;for(s===a&&(a=Ar(a)),p&&(B=$t(s,mr(p)));++R<q;)for(var Z=0,ge=a[R],ye=p?p(ge):ge;(Z=C(B,ye,Z,b))>-1;)B!==s&&_p.call(B,Z,1),_p.call(s,Z,1);return s}function RS(s,a){for(var p=s?a.length:0,b=p-1;p--;){var C=a[p];if(p==b||C!==R){var R=C;Wo(C)?_p.call(s,C,1):nv(s,C)}}return s}function tv(s,a){return s+Pp(dS()*(a-s+1))}function MH(s,a,p,b){for(var C=-1,R=Pi(Cp((a-s)/(p||1)),0),q=ce(R);R--;)q[b?R:++C]=s,s+=p;return q}function iv(s,a){var p="";if(!s||a<1||a>V)return p;do a%2&&(p+=s),a=Pp(a/2),a&&(s+=s);while(a);return p}function bt(s,a){return bv(a1(s,a,Rr),s+"")}function RH(s){return fS(Tl(s))}function NH(s,a){var p=Tl(s);return Wp(p,ga(a,0,p.length))}function vc(s,a,p,b){if(!si(s))return s;a=bs(a,s);for(var C=-1,R=a.length,q=R-1,B=s;B!=null&&++C<R;){var Z=ro(a[C]),ge=p;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return s;if(C!=q){var ye=B[Z];ge=b?b(ye,Z,B):t,ge===t&&(ge=si(ye)?ye:Wo(a[C+1])?[]:{})}hc(B,Z,ge),B=B[Z]}return s}var NS=Ip?function(s,a){return Ip.set(s,a),s}:Rr,kH=Ep?function(s,a){return Ep(s,"toString",{configurable:!0,enumerable:!1,value:Tv(a),writable:!0})}:Rr;function OH(s){return Wp(Tl(s))}function cn(s,a,p){var b=-1,C=s.length;a<0&&(a=-a>C?0:C+a),p=p>C?C:p,p<0&&(p+=C),C=a>p?0:p-a>>>0,a>>>=0;for(var R=ce(C);++b<C;)R[b]=s[b+a];return R}function DH(s,a){var p;return vs(s,function(b,C,R){return p=a(b,C,R),!p}),!!p}function Op(s,a,p){var b=0,C=s==null?b:s.length;if(typeof a=="number"&&a===a&&C<=ee){for(;b<C;){var R=b+C>>>1,q=s[R];q!==null&&!Gr(q)&&(p?q<=a:q<a)?b=R+1:C=R}return C}return rv(s,a,Rr,p)}function rv(s,a,p,b){var C=0,R=s==null?0:s.length;if(R===0)return 0;a=p(a);for(var q=a!==a,B=a===null,Z=Gr(a),ge=a===t;C<R;){var ye=Pp((C+R)/2),we=p(s[ye]),Te=we!==t,Be=we===null,it=we===we,yt=Gr(we);if(q)var rt=b||it;else ge?rt=it&&(b||Te):B?rt=it&&Te&&(b||!Be):Z?rt=it&&Te&&!Be&&(b||!yt):Be||yt?rt=!1:rt=b?we<=a:we<a;rt?C=ye+1:R=ye}return rr(R,j)}function kS(s,a){for(var p=-1,b=s.length,C=0,R=[];++p<b;){var q=s[p],B=a?a(q):q;if(!p||!kn(B,Z)){var Z=B;R[C++]=q===0?0:q}}return R}function OS(s){return typeof s=="number"?s:Gr(s)?$:+s}function jr(s){if(typeof s=="string")return s;if(dt(s))return $t(s,jr)+"";if(Gr(s))return pS?pS.call(s):"";var a=s+"";return a=="0"&&1/s==-J?"-0":a}function ys(s,a,p){var b=-1,C=oa,R=s.length,q=!0,B=[],Z=B;if(p)q=!1,C=on;else if(R>=i){var ge=a?null:jH(s);if(ge)return Si(ge);q=!1,C=gi,Z=new ma}else Z=a?[]:B;e:for(;++b<R;){var ye=s[b],we=a?a(ye):ye;if(ye=p||ye!==0?ye:0,q&&we===we){for(var Te=Z.length;Te--;)if(Z[Te]===we)continue e;a&&Z.push(we),B.push(ye)}else C(Z,we,p)||(Z!==B&&Z.push(we),B.push(ye))}return B}function nv(s,a){return a=bs(a,s),s=l1(s,a),s==null||delete s[ro(dn(a))]}function DS(s,a,p,b){return vc(s,a,p(va(s,a)),b)}function Dp(s,a,p,b){for(var C=s.length,R=b?C:-1;(b?R--:++R<C)&&a(s[R],R,s););return p?cn(s,b?0:R,b?R+1:C):cn(s,b?R+1:0,b?C:R)}function LS(s,a){var p=s;return p instanceof St&&(p=p.value()),sn(a,function(b,C){return C.func.apply(C.thisArg,Tn([b],C.args))},p)}function ov(s,a,p){var b=s.length;if(b<2)return b?ys(s[0]):[];for(var C=-1,R=ce(b);++C<b;)for(var q=s[C],B=-1;++B<b;)B!=C&&(R[C]=fc(R[C]||q,s[B],a,p));return ys(Xi(R,1),a,p)}function FS(s,a,p){for(var b=-1,C=s.length,R=a.length,q={};++b<C;){var B=b<R?a[b]:t;p(q,s[b],B)}return q}function sv(s){return vi(s)?s:[]}function av(s){return typeof s=="function"?s:Rr}function bs(s,a){return dt(s)?s:gv(s,a)?[s]:p1(Tt(s))}var LH=bt;function ws(s,a,p){var b=s.length;return p=p===t?b:p,!a&&p>=b?s:cn(s,a,p)}var zS=_q||function(s){return xi.clearTimeout(s)};function qS(s,a){if(a)return s.slice();var p=s.length,b=sS?sS(p):new s.constructor(p);return s.copy(b),b}function lv(s){var a=new s.constructor(s.byteLength);return new xp(a).set(new xp(s)),a}function FH(s,a){var p=a?lv(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}function zH(s){var a=new s.constructor(s.source,Gu.exec(s));return a.lastIndex=s.lastIndex,a}function qH(s){return pc?Ct(pc.call(s)):{}}function HS(s,a){var p=a?lv(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}function US(s,a){if(s!==a){var p=s!==t,b=s===null,C=s===s,R=Gr(s),q=a!==t,B=a===null,Z=a===a,ge=Gr(a);if(!B&&!ge&&!R&&s>a||R&&q&&Z&&!B&&!ge||b&&q&&Z||!p&&Z||!C)return 1;if(!b&&!R&&!ge&&s<a||ge&&p&&C&&!b&&!R||B&&p&&C||!q&&C||!Z)return-1}return 0}function HH(s,a,p){for(var b=-1,C=s.criteria,R=a.criteria,q=C.length,B=p.length;++b<q;){var Z=US(C[b],R[b]);if(Z){if(b>=B)return Z;var ge=p[b];return Z*(ge=="desc"?-1:1)}}return s.index-a.index}function BS(s,a,p,b){for(var C=-1,R=s.length,q=p.length,B=-1,Z=a.length,ge=Pi(R-q,0),ye=ce(Z+ge),we=!b;++B<Z;)ye[B]=a[B];for(;++C<q;)(we||C<R)&&(ye[p[C]]=s[C]);for(;ge--;)ye[B++]=s[C++];return ye}function WS(s,a,p,b){for(var C=-1,R=s.length,q=-1,B=p.length,Z=-1,ge=a.length,ye=Pi(R-B,0),we=ce(ye+ge),Te=!b;++C<ye;)we[C]=s[C];for(var Be=C;++Z<ge;)we[Be+Z]=a[Z];for(;++q<B;)(Te||C<R)&&(we[Be+p[q]]=s[C++]);return we}function Ar(s,a){var p=-1,b=s.length;for(a||(a=ce(b));++p<b;)a[p]=s[p];return a}function io(s,a,p,b){var C=!p;p||(p={});for(var R=-1,q=a.length;++R<q;){var B=a[R],Z=b?b(p[B],s[B],B,p,s):t;Z===t&&(Z=s[B]),C?Ho(p,B,Z):hc(p,B,Z)}return p}function UH(s,a){return io(s,mv(s),a)}function BH(s,a){return io(s,i1(s),a)}function Lp(s,a){return function(p,b){var C=dt(p)?Ug:cH,R=a?a():{};return C(p,s,Xe(b,2),R)}}function Cl(s){return bt(function(a,p){var b=-1,C=p.length,R=C>1?p[C-1]:t,q=C>2?p[2]:t;for(R=s.length>3&&typeof R=="function"?(C--,R):t,q&&yr(p[0],p[1],q)&&(R=C<3?t:R,C=1),a=Ct(a);++b<C;){var B=p[b];B&&s(a,B,b,R)}return a})}function $S(s,a){return function(p,b){if(p==null)return p;if(!Tr(p))return s(p,b);for(var C=p.length,R=a?C:-1,q=Ct(p);(a?R--:++R<C)&&b(q[R],R,q)!==!1;);return p}}function VS(s){return function(a,p,b){for(var C=-1,R=Ct(a),q=b(a),B=q.length;B--;){var Z=q[s?B:++C];if(p(R[Z],Z,R)===!1)break}return a}}function WH(s,a,p){var b=a&E,C=yc(s);function R(){var q=this&&this!==xi&&this instanceof R?C:s;return q.apply(b?p:this,arguments)}return R}function jS(s){return function(a){a=Tt(a);var p=He(a)?Ri(a):t,b=p?p[0]:a.charAt(0),C=p?ws(p,1).join(""):a.slice(1);return b[s]()+C}}function Pl(s){return function(a){return sn($1(W1(a).replace(pp,"")),s,"")}}function yc(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var p=El(s.prototype),b=s.apply(p,a);return si(b)?b:p}}function $H(s,a,p){var b=yc(s);function C(){for(var R=arguments.length,q=ce(R),B=R,Z=Il(C);B--;)q[B]=arguments[B];var ge=R<3&&q[0]!==Z&&q[R-1]!==Z?[]:At(q,Z);if(R-=ge.length,R<p)return ZS(s,a,Fp,C.placeholder,t,q,ge,t,t,p-R);var ye=this&&this!==xi&&this instanceof C?b:s;return fr(ye,this,q)}return C}function GS(s){return function(a,p,b){var C=Ct(a);if(!Tr(a)){var R=Xe(p,3);a=Ni(a),p=function(B){return R(C[B],B,C)}}var q=s(a,p,b);return q>-1?C[R?a[q]:q]:t}}function KS(s){return Bo(function(a){var p=a.length,b=p,C=ln.prototype.thru;for(s&&a.reverse();b--;){var R=a[b];if(typeof R!="function")throw new Yi(n);if(C&&!q&&Up(R)=="wrapper")var q=new ln([],!0)}for(b=q?b:p;++b<p;){R=a[b];var B=Up(R),Z=B=="wrapper"?hv(R):t;Z&&vv(Z[0])&&Z[1]==(H|I|F|ie)&&!Z[4].length&&Z[9]==1?q=q[Up(Z[0])].apply(q,Z[3]):q=R.length==1&&vv(R)?q[B]():q.thru(R)}return function(){var ge=arguments,ye=ge[0];if(q&&ge.length==1&&dt(ye))return q.plant(ye).value();for(var we=0,Te=p?a[we].apply(this,ge):ye;++we<p;)Te=a[we].call(this,Te);return Te}})}function Fp(s,a,p,b,C,R,q,B,Z,ge){var ye=a&H,we=a&E,Te=a&_,Be=a&(I|L),it=a&X,yt=Te?t:yc(s);function rt(){for(var xt=arguments.length,Et=ce(xt),Kr=xt;Kr--;)Et[Kr]=arguments[Kr];if(Be)var br=Il(rt),Yr=O(Et,br);if(b&&(Et=BS(Et,b,C,Be)),R&&(Et=WS(Et,R,q,Be)),xt-=Yr,Be&&xt<ge){var yi=At(Et,br);return ZS(s,a,Fp,rt.placeholder,p,Et,yi,B,Z,ge-xt)}var On=we?p:this,jo=Te?On[s]:s;return xt=Et.length,B?Et=c3(Et,B):it&&xt>1&&Et.reverse(),ye&&Z<xt&&(Et.length=Z),this&&this!==xi&&this instanceof rt&&(jo=yt||yc(jo)),jo.apply(On,Et)}return rt}function YS(s,a){return function(p,b){return yH(p,s,a(b),{})}}function zp(s,a){return function(p,b){var C;if(p===t&&b===t)return a;if(p!==t&&(C=p),b!==t){if(C===t)return b;typeof p=="string"||typeof b=="string"?(p=jr(p),b=jr(b)):(p=OS(p),b=OS(b)),C=s(p,b)}return C}}function uv(s){return Bo(function(a){return a=$t(a,mr(Xe())),bt(function(p){var b=this;return s(a,function(C){return fr(C,b,p)})})})}function qp(s,a){a=a===t?" ":jr(a);var p=a.length;if(p<2)return p?iv(a,s):a;var b=iv(a,Cp(s/ci(a)));return He(a)?ws(Ri(b),0,s).join(""):b.slice(0,s)}function VH(s,a,p,b){var C=a&E,R=yc(s);function q(){for(var B=-1,Z=arguments.length,ge=-1,ye=b.length,we=ce(ye+Z),Te=this&&this!==xi&&this instanceof q?R:s;++ge<ye;)we[ge]=b[ge];for(;Z--;)we[ge++]=arguments[++B];return fr(Te,C?p:this,we)}return q}function XS(s){return function(a,p,b){return b&&typeof b!="number"&&yr(a,p,b)&&(p=b=t),a=Vo(a),p===t?(p=a,a=0):p=Vo(p),b=b===t?a<p?1:-1:Vo(b),MH(a,p,b,s)}}function Hp(s){return function(a,p){return typeof a=="string"&&typeof p=="string"||(a=pn(a),p=pn(p)),s(a,p)}}function ZS(s,a,p,b,C,R,q,B,Z,ge){var ye=a&I,we=ye?q:t,Te=ye?t:q,Be=ye?R:t,it=ye?t:R;a|=ye?F:z,a&=~(ye?z:F),a&P||(a&=~(E|_));var yt=[s,a,C,Be,we,it,Te,B,Z,ge],rt=p.apply(t,yt);return vv(s)&&u1(rt,yt),rt.placeholder=b,c1(rt,s,a)}function cv(s){var a=ei[s];return function(p,b){if(p=pn(p),b=b==null?0:rr(mt(b),292),b&&cS(p)){var C=(Tt(p)+"e").split("e"),R=a(C[0]+"e"+(+C[1]+b));return C=(Tt(R)+"e").split("e"),+(C[0]+"e"+(+C[1]-b))}return a(p)}}var jH=Sl&&1/Si(new Sl([,-0]))[1]==J?function(s){return new Sl(s)}:Nv;function JS(s){return function(a){var p=nr(a);return p==Ie?Ye(a):p==_t?gr(a):yp(a,s(a))}}function Uo(s,a,p,b,C,R,q,B){var Z=a&_;if(!Z&&typeof s!="function")throw new Yi(n);var ge=b?b.length:0;if(ge||(a&=~(F|z),b=C=t),q=q===t?q:Pi(mt(q),0),B=B===t?B:mt(B),ge-=C?C.length:0,a&z){var ye=b,we=C;b=C=t}var Te=Z?t:hv(s),Be=[s,a,p,b,C,ye,we,R,q,B];if(Te&&a3(Be,Te),s=Be[0],a=Be[1],p=Be[2],b=Be[3],C=Be[4],B=Be[9]=Be[9]===t?Z?0:s.length:Pi(Be[9]-ge,0),!B&&a&(I|L)&&(a&=~(I|L)),!a||a==E)var it=WH(s,a,p);else a==I||a==L?it=$H(s,a,B):(a==F||a==(E|F))&&!C.length?it=VH(s,a,p,b):it=Fp.apply(t,Be);var yt=Te?NS:u1;return c1(yt(it,Be),s,a)}function QS(s,a,p,b){return s===t||kn(s,Ir[p])&&!Lt.call(b,p)?a:s}function e1(s,a,p,b,C,R){return si(s)&&si(a)&&(R.set(a,s),kp(s,a,t,e1,R),R.delete(a)),s}function GH(s){return xc(s)?t:s}function t1(s,a,p,b,C,R){var q=p&v,B=s.length,Z=a.length;if(B!=Z&&!(q&&Z>B))return!1;var ge=R.get(s),ye=R.get(a);if(ge&&ye)return ge==a&&ye==s;var we=-1,Te=!0,Be=p&S?new ma:t;for(R.set(s,a),R.set(a,s);++we<B;){var it=s[we],yt=a[we];if(b)var rt=q?b(yt,it,we,a,s,R):b(it,yt,we,s,a,R);if(rt!==t){if(rt)continue;Te=!1;break}if(Be){if(!sa(a,function(xt,Et){if(!gi(Be,Et)&&(it===xt||C(it,xt,p,b,R)))return Be.push(Et)})){Te=!1;break}}else if(!(it===yt||C(it,yt,p,b,R))){Te=!1;break}}return R.delete(s),R.delete(a),Te}function KH(s,a,p,b,C,R,q){switch(p){case Cn:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Hr:return!(s.byteLength!=a.byteLength||!R(new xp(s),new xp(a)));case _e:case Oe:case lt:return kn(+s,+a);case ot:return s.name==a.name&&s.message==a.message;case Nt:case Ht:return s==a+"";case Ie:var B=Ye;case _t:var Z=b&v;if(B||(B=Si),s.size!=a.size&&!Z)return!1;var ge=q.get(s);if(ge)return ge==a;b|=S,q.set(s,a);var ye=t1(B(s),B(a),b,C,R,q);return q.delete(s),ye;case nt:if(pc)return pc.call(s)==pc.call(a)}return!1}function YH(s,a,p,b,C,R){var q=p&v,B=dv(s),Z=B.length,ge=dv(a),ye=ge.length;if(Z!=ye&&!q)return!1;for(var we=Z;we--;){var Te=B[we];if(!(q?Te in a:Lt.call(a,Te)))return!1}var Be=R.get(s),it=R.get(a);if(Be&&it)return Be==a&&it==s;var yt=!0;R.set(s,a),R.set(a,s);for(var rt=q;++we<Z;){Te=B[we];var xt=s[Te],Et=a[Te];if(b)var Kr=q?b(Et,xt,Te,a,s,R):b(xt,Et,Te,s,a,R);if(!(Kr===t?xt===Et||C(xt,Et,p,b,R):Kr)){yt=!1;break}rt||(rt=Te=="constructor")}if(yt&&!rt){var br=s.constructor,Yr=a.constructor;br!=Yr&&"constructor"in s&&"constructor"in a&&!(typeof br=="function"&&br instanceof br&&typeof Yr=="function"&&Yr instanceof Yr)&&(yt=!1)}return R.delete(s),R.delete(a),yt}function Bo(s){return bv(a1(s,t,g1),s+"")}function dv(s){return xS(s,Ni,mv)}function pv(s){return xS(s,Mr,i1)}var hv=Ip?function(s){return Ip.get(s)}:Nv;function Up(s){for(var a=s.name+"",p=_l[a],b=Lt.call(_l,a)?p.length:0;b--;){var C=p[b],R=C.func;if(R==null||R==s)return C.name}return a}function Il(s){var a=Lt.call(A,"placeholder")?A:s;return a.placeholder}function Xe(){var s=A.iteratee||Mv;return s=s===Mv?ES:s,arguments.length?s(arguments[0],arguments[1]):s}function Bp(s,a){var p=s.__data__;return r3(a)?p[typeof a=="string"?"string":"hash"]:p.map}function fv(s){for(var a=Ni(s),p=a.length;p--;){var b=a[p],C=s[b];a[p]=[b,C,o1(C)]}return a}function ya(s,a){var p=Ne(s,a);return _S(p)?p:t}function XH(s){var a=Lt.call(s,ha),p=s[ha];try{s[ha]=t;var b=!0}catch{}var C=bp.call(s);return b&&(a?s[ha]=p:delete s[ha]),C}var mv=Bg?function(s){return s==null?[]:(s=Ct(s),An(Bg(s),function(a){return lS.call(s,a)}))}:kv,i1=Bg?function(s){for(var a=[];s;)Tn(a,mv(s)),s=Sp(s);return a}:kv,nr=vr;(Wg&&nr(new Wg(new ArrayBuffer(1)))!=Cn||uc&&nr(new uc)!=Ie||$g&&nr($g.resolve())!=Ue||Sl&&nr(new Sl)!=_t||cc&&nr(new cc)!=Jt)&&(nr=function(s){var a=vr(s),p=a==ht?s.constructor:t,b=p?ba(p):"";if(b)switch(b){case Nq:return Cn;case kq:return Ie;case Oq:return Ue;case Dq:return _t;case Lq:return Jt}return a});function ZH(s,a,p){for(var b=-1,C=p.length;++b<C;){var R=p[b],q=R.size;switch(R.type){case"drop":s+=q;break;case"dropRight":a-=q;break;case"take":a=rr(a,s+q);break;case"takeRight":s=Pi(s,a-q);break}}return{start:s,end:a}}function JH(s){var a=s.match(Ao);return a?a[1].split(Xs):[]}function r1(s,a,p){a=bs(a,s);for(var b=-1,C=a.length,R=!1;++b<C;){var q=ro(a[b]);if(!(R=s!=null&&p(s,q)))break;s=s[q]}return R||++b!=C?R:(C=s==null?0:s.length,!!C&&Yp(C)&&Wo(q,C)&&(dt(s)||wa(s)))}function QH(s){var a=s.length,p=new s.constructor(a);return a&&typeof s[0]=="string"&&Lt.call(s,"index")&&(p.index=s.index,p.input=s.input),p}function n1(s){return typeof s.constructor=="function"&&!bc(s)?El(Sp(s)):{}}function e3(s,a,p){var b=s.constructor;switch(a){case Hr:return lv(s);case _e:case Oe:return new b(+s);case Cn:return FH(s,p);case as:case Po:case wi:case vt:case Er:case ur:case ol:case ui:case Io:return HS(s,p);case Ie:return new b;case lt:case Ht:return new b(s);case Nt:return zH(s);case _t:return new b;case nt:return qH(s)}}function t3(s,a){var p=a.length;if(!p)return s;var b=p-1;return a[b]=(p>1?"& ":"")+a[b],a=a.join(p>2?", ":" "),s.replace(cr,`{
/* [wrapped with `+a+`] */
`)}function i3(s){return dt(s)||wa(s)||!!(uS&&s&&s[uS])}function Wo(s,a){var p=typeof s;return a=a??V,!!a&&(p=="number"||p!="symbol"&&To.test(s))&&s>-1&&s%1==0&&s<a}function yr(s,a,p){if(!si(p))return!1;var b=typeof a;return(b=="number"?Tr(p)&&Wo(a,p.length):b=="string"&&a in p)?kn(p[a],s):!1}function gv(s,a){if(dt(s))return!1;var p=typeof s;return p=="number"||p=="symbol"||p=="boolean"||s==null||Gr(s)?!0:rp.test(s)||!ip.test(s)||a!=null&&s in Ct(a)}function r3(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function vv(s){var a=Up(s),p=A[a];if(typeof p!="function"||!(a in St.prototype))return!1;if(s===p)return!0;var b=hv(p);return!!b&&s===b[0]}function n3(s){return!!oS&&oS in s}var o3=pa?$o:Ov;function bc(s){var a=s&&s.constructor,p=typeof a=="function"&&a.prototype||Ir;return s===p}function o1(s){return s===s&&!si(s)}function s1(s,a){return function(p){return p==null?!1:p[s]===a&&(a!==t||s in Ct(p))}}function s3(s){var a=Gp(s,function(b){return p.size===u&&p.clear(),b}),p=a.cache;return a}function a3(s,a){var p=s[1],b=a[1],C=p|b,R=C<(E|_|H),q=b==H&&p==I||b==H&&p==ie&&s[7].length<=a[8]||b==(H|ie)&&a[7].length<=a[8]&&p==I;if(!(R||q))return s;b&E&&(s[2]=a[2],C|=p&E?0:P);var B=a[3];if(B){var Z=s[3];s[3]=Z?BS(Z,B,a[4]):B,s[4]=Z?At(s[3],c):a[4]}return B=a[5],B&&(Z=s[5],s[5]=Z?WS(Z,B,a[6]):B,s[6]=Z?At(s[5],c):a[6]),B=a[7],B&&(s[7]=B),b&H&&(s[8]=s[8]==null?a[8]:rr(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=C,s}function l3(s){var a=[];if(s!=null)for(var p in Ct(s))a.push(p);return a}function u3(s){return bp.call(s)}function a1(s,a,p){return a=Pi(a===t?s.length-1:a,0),function(){for(var b=arguments,C=-1,R=Pi(b.length-a,0),q=ce(R);++C<R;)q[C]=b[a+C];C=-1;for(var B=ce(a+1);++C<a;)B[C]=b[C];return B[a]=p(q),fr(s,this,B)}}function l1(s,a){return a.length<2?s:va(s,cn(a,0,-1))}function c3(s,a){for(var p=s.length,b=rr(a.length,p),C=Ar(s);b--;){var R=a[b];s[b]=Wo(R,p)?C[R]:t}return s}function yv(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var u1=d1(NS),wc=Cq||function(s,a){return xi.setTimeout(s,a)},bv=d1(kH);function c1(s,a,p){var b=a+"";return bv(s,t3(b,d3(JH(b),p)))}function d1(s){var a=0,p=0;return function(){var b=Tq(),C=Y-(b-p);if(p=b,C>0){if(++a>=le)return arguments[0]}else a=0;return s.apply(t,arguments)}}function Wp(s,a){var p=-1,b=s.length,C=b-1;for(a=a===t?b:a;++p<a;){var R=tv(p,C),q=s[R];s[R]=s[p],s[p]=q}return s.length=a,s}var p1=s3(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(np,function(p,b,C,R){a.push(C?R.replace(us,"$1"):b||p)}),a});function ro(s){if(typeof s=="string"||Gr(s))return s;var a=s+"";return a=="0"&&1/s==-J?"-0":a}function ba(s){if(s!=null){try{return xl.call(s)}catch{}try{return s+""}catch{}}return""}function d3(s,a){return Cr(de,function(p){var b="_."+p[0];a&p[1]&&!oa(s,b)&&s.push(b)}),s.sort()}function h1(s){if(s instanceof St)return s.clone();var a=new ln(s.__wrapped__,s.__chain__);return a.__actions__=Ar(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function p3(s,a,p){(p?yr(s,a,p):a===t)?a=1:a=Pi(mt(a),0);var b=s==null?0:s.length;if(!b||a<1)return[];for(var C=0,R=0,q=ce(Cp(b/a));C<b;)q[R++]=cn(s,C,C+=a);return q}function h3(s){for(var a=-1,p=s==null?0:s.length,b=0,C=[];++a<p;){var R=s[a];R&&(C[b++]=R)}return C}function f3(){var s=arguments.length;if(!s)return[];for(var a=ce(s-1),p=arguments[0],b=s;b--;)a[b-1]=arguments[b];return Tn(dt(p)?Ar(p):[p],Xi(a,1))}var m3=bt(function(s,a){return vi(s)?fc(s,Xi(a,1,vi,!0)):[]}),g3=bt(function(s,a){var p=dn(a);return vi(p)&&(p=t),vi(s)?fc(s,Xi(a,1,vi,!0),Xe(p,2)):[]}),v3=bt(function(s,a){var p=dn(a);return vi(p)&&(p=t),vi(s)?fc(s,Xi(a,1,vi,!0),t,p):[]});function y3(s,a,p){var b=s==null?0:s.length;return b?(a=p||a===t?1:mt(a),cn(s,a<0?0:a,b)):[]}function b3(s,a,p){var b=s==null?0:s.length;return b?(a=p||a===t?1:mt(a),a=b-a,cn(s,0,a<0?0:a)):[]}function w3(s,a){return s&&s.length?Dp(s,Xe(a,3),!0,!0):[]}function x3(s,a){return s&&s.length?Dp(s,Xe(a,3),!0):[]}function S3(s,a,p,b){var C=s==null?0:s.length;return C?(p&&typeof p!="number"&&yr(s,a,p)&&(p=0,b=C),fH(s,a,p,b)):[]}function f1(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=p==null?0:mt(p);return C<0&&(C=Pi(b+C,0)),hs(s,Xe(a,3),C)}function m1(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=b-1;return p!==t&&(C=mt(p),C=p<0?Pi(b+C,0):rr(C,b-1)),hs(s,Xe(a,3),C,!0)}function g1(s){var a=s==null?0:s.length;return a?Xi(s,1):[]}function _3(s){var a=s==null?0:s.length;return a?Xi(s,J):[]}function E3(s,a){var p=s==null?0:s.length;return p?(a=a===t?1:mt(a),Xi(s,a)):[]}function C3(s){for(var a=-1,p=s==null?0:s.length,b={};++a<p;){var C=s[a];b[C[0]]=C[1]}return b}function v1(s){return s&&s.length?s[0]:t}function P3(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=p==null?0:mt(p);return C<0&&(C=Pi(b+C,0)),Wr(s,a,C)}function I3(s){var a=s==null?0:s.length;return a?cn(s,0,-1):[]}var A3=bt(function(s){var a=$t(s,sv);return a.length&&a[0]===s[0]?Xg(a):[]}),T3=bt(function(s){var a=dn(s),p=$t(s,sv);return a===dn(p)?a=t:p.pop(),p.length&&p[0]===s[0]?Xg(p,Xe(a,2)):[]}),M3=bt(function(s){var a=dn(s),p=$t(s,sv);return a=typeof a=="function"?a:t,a&&p.pop(),p.length&&p[0]===s[0]?Xg(p,t,a):[]});function R3(s,a){return s==null?"":Iq.call(s,a)}function dn(s){var a=s==null?0:s.length;return a?s[a-1]:t}function N3(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=b;return p!==t&&(C=mt(p),C=C<0?Pi(b+C,0):rr(C,b-1)),a===a?Qt(s,a,C):hs(s,Do,C,!0)}function k3(s,a){return s&&s.length?AS(s,mt(a)):t}var O3=bt(y1);function y1(s,a){return s&&s.length&&a&&a.length?ev(s,a):s}function D3(s,a,p){return s&&s.length&&a&&a.length?ev(s,a,Xe(p,2)):s}function L3(s,a,p){return s&&s.length&&a&&a.length?ev(s,a,t,p):s}var F3=Bo(function(s,a){var p=s==null?0:s.length,b=jg(s,a);return RS(s,$t(a,function(C){return Wo(C,p)?+C:C}).sort(US)),b});function z3(s,a){var p=[];if(!(s&&s.length))return p;var b=-1,C=[],R=s.length;for(a=Xe(a,3);++b<R;){var q=s[b];a(q,b,s)&&(p.push(q),C.push(b))}return RS(s,C),p}function wv(s){return s==null?s:Rq.call(s)}function q3(s,a,p){var b=s==null?0:s.length;return b?(p&&typeof p!="number"&&yr(s,a,p)?(a=0,p=b):(a=a==null?0:mt(a),p=p===t?b:mt(p)),cn(s,a,p)):[]}function H3(s,a){return Op(s,a)}function U3(s,a,p){return rv(s,a,Xe(p,2))}function B3(s,a){var p=s==null?0:s.length;if(p){var b=Op(s,a);if(b<p&&kn(s[b],a))return b}return-1}function W3(s,a){return Op(s,a,!0)}function $3(s,a,p){return rv(s,a,Xe(p,2),!0)}function V3(s,a){var p=s==null?0:s.length;if(p){var b=Op(s,a,!0)-1;if(kn(s[b],a))return b}return-1}function j3(s){return s&&s.length?kS(s):[]}function G3(s,a){return s&&s.length?kS(s,Xe(a,2)):[]}function K3(s){var a=s==null?0:s.length;return a?cn(s,1,a):[]}function Y3(s,a,p){return s&&s.length?(a=p||a===t?1:mt(a),cn(s,0,a<0?0:a)):[]}function X3(s,a,p){var b=s==null?0:s.length;return b?(a=p||a===t?1:mt(a),a=b-a,cn(s,a<0?0:a,b)):[]}function Z3(s,a){return s&&s.length?Dp(s,Xe(a,3),!1,!0):[]}function J3(s,a){return s&&s.length?Dp(s,Xe(a,3)):[]}var Q3=bt(function(s){return ys(Xi(s,1,vi,!0))}),eU=bt(function(s){var a=dn(s);return vi(a)&&(a=t),ys(Xi(s,1,vi,!0),Xe(a,2))}),tU=bt(function(s){var a=dn(s);return a=typeof a=="function"?a:t,ys(Xi(s,1,vi,!0),t,a)});function iU(s){return s&&s.length?ys(s):[]}function rU(s,a){return s&&s.length?ys(s,Xe(a,2)):[]}function nU(s,a){return a=typeof a=="function"?a:t,s&&s.length?ys(s,t,a):[]}function xv(s){if(!(s&&s.length))return[];var a=0;return s=An(s,function(p){if(vi(p))return a=Pi(p.length,a),!0}),ua(a,function(p){return $t(s,la(p))})}function b1(s,a){if(!(s&&s.length))return[];var p=xv(s);return a==null?p:$t(p,function(b){return fr(a,t,b)})}var oU=bt(function(s,a){return vi(s)?fc(s,a):[]}),sU=bt(function(s){return ov(An(s,vi))}),aU=bt(function(s){var a=dn(s);return vi(a)&&(a=t),ov(An(s,vi),Xe(a,2))}),lU=bt(function(s){var a=dn(s);return a=typeof a=="function"?a:t,ov(An(s,vi),t,a)}),uU=bt(xv);function cU(s,a){return FS(s||[],a||[],hc)}function dU(s,a){return FS(s||[],a||[],vc)}var pU=bt(function(s){var a=s.length,p=a>1?s[a-1]:t;return p=typeof p=="function"?(s.pop(),p):t,b1(s,p)});function w1(s){var a=A(s);return a.__chain__=!0,a}function hU(s,a){return a(s),s}function $p(s,a){return a(s)}var fU=Bo(function(s){var a=s.length,p=a?s[0]:0,b=this.__wrapped__,C=function(R){return jg(R,s)};return a>1||this.__actions__.length||!(b instanceof St)||!Wo(p)?this.thru(C):(b=b.slice(p,+p+(a?1:0)),b.__actions__.push({func:$p,args:[C],thisArg:t}),new ln(b,this.__chain__).thru(function(R){return a&&!R.length&&R.push(t),R}))});function mU(){return w1(this)}function gU(){return new ln(this.value(),this.__chain__)}function vU(){this.__values__===t&&(this.__values__=O1(this.value()));var s=this.__index__>=this.__values__.length,a=s?t:this.__values__[this.__index__++];return{done:s,value:a}}function yU(){return this}function bU(s){for(var a,p=this;p instanceof Tp;){var b=h1(p);b.__index__=0,b.__values__=t,a?C.__wrapped__=b:a=b;var C=b;p=p.__wrapped__}return C.__wrapped__=s,a}function wU(){var s=this.__wrapped__;if(s instanceof St){var a=s;return this.__actions__.length&&(a=new St(this)),a=a.reverse(),a.__actions__.push({func:$p,args:[wv],thisArg:t}),new ln(a,this.__chain__)}return this.thru(wv)}function xU(){return LS(this.__wrapped__,this.__actions__)}var SU=Lp(function(s,a,p){Lt.call(s,p)?++s[p]:Ho(s,p,1)});function _U(s,a,p){var b=dt(s)?na:hH;return p&&yr(s,a,p)&&(a=t),b(s,Xe(a,3))}function EU(s,a){var p=dt(s)?An:bS;return p(s,Xe(a,3))}var CU=GS(f1),PU=GS(m1);function IU(s,a){return Xi(Vp(s,a),1)}function AU(s,a){return Xi(Vp(s,a),J)}function TU(s,a,p){return p=p===t?1:mt(p),Xi(Vp(s,a),p)}function x1(s,a){var p=dt(s)?Cr:vs;return p(s,Xe(a,3))}function S1(s,a){var p=dt(s)?ra:yS;return p(s,Xe(a,3))}var MU=Lp(function(s,a,p){Lt.call(s,p)?s[p].push(a):Ho(s,p,[a])});function RU(s,a,p,b){s=Tr(s)?s:Tl(s),p=p&&!b?mt(p):0;var C=s.length;return p<0&&(p=Pi(C+p,0)),Xp(s)?p<=C&&s.indexOf(a,p)>-1:!!C&&Wr(s,a,p)>-1}var NU=bt(function(s,a,p){var b=-1,C=typeof a=="function",R=Tr(s)?ce(s.length):[];return vs(s,function(q){R[++b]=C?fr(a,q,p):mc(q,a,p)}),R}),kU=Lp(function(s,a,p){Ho(s,p,a)});function Vp(s,a){var p=dt(s)?$t:CS;return p(s,Xe(a,3))}function OU(s,a,p,b){return s==null?[]:(dt(a)||(a=a==null?[]:[a]),p=b?t:p,dt(p)||(p=p==null?[]:[p]),TS(s,a,p))}var DU=Lp(function(s,a,p){s[p?0:1].push(a)},function(){return[[],[]]});function LU(s,a,p){var b=dt(s)?sn:yl,C=arguments.length<3;return b(s,Xe(a,4),p,C,vs)}function FU(s,a,p){var b=dt(s)?nc:yl,C=arguments.length<3;return b(s,Xe(a,4),p,C,yS)}function zU(s,a){var p=dt(s)?An:bS;return p(s,Kp(Xe(a,3)))}function qU(s){var a=dt(s)?fS:RH;return a(s)}function HU(s,a,p){(p?yr(s,a,p):a===t)?a=1:a=mt(a);var b=dt(s)?lH:NH;return b(s,a)}function UU(s){var a=dt(s)?uH:OH;return a(s)}function BU(s){if(s==null)return 0;if(Tr(s))return Xp(s)?ci(s):s.length;var a=nr(s);return a==Ie||a==_t?s.size:Jg(s).length}function WU(s,a,p){var b=dt(s)?sa:DH;return p&&yr(s,a,p)&&(a=t),b(s,Xe(a,3))}var $U=bt(function(s,a){if(s==null)return[];var p=a.length;return p>1&&yr(s,a[0],a[1])?a=[]:p>2&&yr(a[0],a[1],a[2])&&(a=[a[0]]),TS(s,Xi(a,1),[])}),jp=Eq||function(){return xi.Date.now()};function VU(s,a){if(typeof a!="function")throw new Yi(n);return s=mt(s),function(){if(--s<1)return a.apply(this,arguments)}}function _1(s,a,p){return a=p?t:a,a=s&&a==null?s.length:a,Uo(s,H,t,t,t,t,a)}function E1(s,a){var p;if(typeof a!="function")throw new Yi(n);return s=mt(s),function(){return--s>0&&(p=a.apply(this,arguments)),s<=1&&(a=t),p}}var Sv=bt(function(s,a,p){var b=E;if(p.length){var C=At(p,Il(Sv));b|=F}return Uo(s,b,a,p,C)}),C1=bt(function(s,a,p){var b=E|_;if(p.length){var C=At(p,Il(C1));b|=F}return Uo(a,b,s,p,C)});function P1(s,a,p){a=p?t:a;var b=Uo(s,I,t,t,t,t,t,a);return b.placeholder=P1.placeholder,b}function I1(s,a,p){a=p?t:a;var b=Uo(s,L,t,t,t,t,t,a);return b.placeholder=I1.placeholder,b}function A1(s,a,p){var b,C,R,q,B,Z,ge=0,ye=!1,we=!1,Te=!0;if(typeof s!="function")throw new Yi(n);a=pn(a)||0,si(p)&&(ye=!!p.leading,we="maxWait"in p,R=we?Pi(pn(p.maxWait)||0,a):R,Te="trailing"in p?!!p.trailing:Te);function Be(yi){var On=b,jo=C;return b=C=t,ge=yi,q=s.apply(jo,On),q}function it(yi){return ge=yi,B=wc(xt,a),ye?Be(yi):q}function yt(yi){var On=yi-Z,jo=yi-ge,G1=a-On;return we?rr(G1,R-jo):G1}function rt(yi){var On=yi-Z,jo=yi-ge;return Z===t||On>=a||On<0||we&&jo>=R}function xt(){var yi=jp();if(rt(yi))return Et(yi);B=wc(xt,yt(yi))}function Et(yi){return B=t,Te&&b?Be(yi):(b=C=t,q)}function Kr(){B!==t&&zS(B),ge=0,b=Z=C=B=t}function br(){return B===t?q:Et(jp())}function Yr(){var yi=jp(),On=rt(yi);if(b=arguments,C=this,Z=yi,On){if(B===t)return it(Z);if(we)return zS(B),B=wc(xt,a),Be(Z)}return B===t&&(B=wc(xt,a)),q}return Yr.cancel=Kr,Yr.flush=br,Yr}var jU=bt(function(s,a){return vS(s,1,a)}),GU=bt(function(s,a,p){return vS(s,pn(a)||0,p)});function KU(s){return Uo(s,X)}function Gp(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new Yi(n);var p=function(){var b=arguments,C=a?a.apply(this,b):b[0],R=p.cache;if(R.has(C))return R.get(C);var q=s.apply(this,b);return p.cache=R.set(C,q)||R,q};return p.cache=new(Gp.Cache||qo),p}Gp.Cache=qo;function Kp(s){if(typeof s!="function")throw new Yi(n);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function YU(s){return E1(2,s)}var XU=LH(function(s,a){a=a.length==1&&dt(a[0])?$t(a[0],mr(Xe())):$t(Xi(a,1),mr(Xe()));var p=a.length;return bt(function(b){for(var C=-1,R=rr(b.length,p);++C<R;)b[C]=a[C].call(this,b[C]);return fr(s,this,b)})}),_v=bt(function(s,a){var p=At(a,Il(_v));return Uo(s,F,t,a,p)}),T1=bt(function(s,a){var p=At(a,Il(T1));return Uo(s,z,t,a,p)}),ZU=Bo(function(s,a){return Uo(s,ie,t,t,t,a)});function JU(s,a){if(typeof s!="function")throw new Yi(n);return a=a===t?a:mt(a),bt(s,a)}function QU(s,a){if(typeof s!="function")throw new Yi(n);return a=a==null?0:Pi(mt(a),0),bt(function(p){var b=p[a],C=ws(p,0,a);return b&&Tn(C,b),fr(s,this,C)})}function eB(s,a,p){var b=!0,C=!0;if(typeof s!="function")throw new Yi(n);return si(p)&&(b="leading"in p?!!p.leading:b,C="trailing"in p?!!p.trailing:C),A1(s,a,{leading:b,maxWait:a,trailing:C})}function tB(s){return _1(s,1)}function iB(s,a){return _v(av(a),s)}function rB(){if(!arguments.length)return[];var s=arguments[0];return dt(s)?s:[s]}function nB(s){return un(s,g)}function oB(s,a){return a=typeof a=="function"?a:t,un(s,g,a)}function sB(s){return un(s,d|g)}function aB(s,a){return a=typeof a=="function"?a:t,un(s,d|g,a)}function lB(s,a){return a==null||gS(s,a,Ni(a))}function kn(s,a){return s===a||s!==s&&a!==a}var uB=Hp(Yg),cB=Hp(function(s,a){return s>=a}),wa=SS(function(){return arguments}())?SS:function(s){return di(s)&&Lt.call(s,"callee")&&!lS.call(s,"callee")},dt=ce.isArray,dB=eo?mr(eo):bH;function Tr(s){return s!=null&&Yp(s.length)&&!$o(s)}function vi(s){return di(s)&&Tr(s)}function pB(s){return s===!0||s===!1||di(s)&&vr(s)==_e}var xs=Pq||Ov,hB=gl?mr(gl):wH;function fB(s){return di(s)&&s.nodeType===1&&!xc(s)}function mB(s){if(s==null)return!0;if(Tr(s)&&(dt(s)||typeof s=="string"||typeof s.splice=="function"||xs(s)||Al(s)||wa(s)))return!s.length;var a=nr(s);if(a==Ie||a==_t)return!s.size;if(bc(s))return!Jg(s).length;for(var p in s)if(Lt.call(s,p))return!1;return!0}function gB(s,a){return gc(s,a)}function vB(s,a,p){p=typeof p=="function"?p:t;var b=p?p(s,a):t;return b===t?gc(s,a,t,p):!!b}function Ev(s){if(!di(s))return!1;var a=vr(s);return a==ot||a==qe||typeof s.message=="string"&&typeof s.name=="string"&&!xc(s)}function yB(s){return typeof s=="number"&&cS(s)}function $o(s){if(!si(s))return!1;var a=vr(s);return a==je||a==st||a==Ae||a==gt}function M1(s){return typeof s=="number"&&s==mt(s)}function Yp(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=V}function si(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function di(s){return s!=null&&typeof s=="object"}var R1=ps?mr(ps):SH;function bB(s,a){return s===a||Zg(s,a,fv(a))}function wB(s,a,p){return p=typeof p=="function"?p:t,Zg(s,a,fv(a),p)}function xB(s){return N1(s)&&s!=+s}function SB(s){if(o3(s))throw new tt(r);return _S(s)}function _B(s){return s===null}function EB(s){return s==null}function N1(s){return typeof s=="number"||di(s)&&vr(s)==lt}function xc(s){if(!di(s)||vr(s)!=ht)return!1;var a=Sp(s);if(a===null)return!0;var p=Lt.call(a,"constructor")&&a.constructor;return typeof p=="function"&&p instanceof p&&xl.call(p)==wq}var Cv=vp?mr(vp):_H;function CB(s){return M1(s)&&s>=-V&&s<=V}var k1=nn?mr(nn):EH;function Xp(s){return typeof s=="string"||!dt(s)&&di(s)&&vr(s)==Ht}function Gr(s){return typeof s=="symbol"||di(s)&&vr(s)==nt}var Al=tr?mr(tr):CH;function PB(s){return s===t}function IB(s){return di(s)&&nr(s)==Jt}function AB(s){return di(s)&&vr(s)==Co}var TB=Hp(Qg),MB=Hp(function(s,a){return s<=a});function O1(s){if(!s)return[];if(Tr(s))return Xp(s)?Ri(s):Ar(s);if(lc&&s[lc])return De(s[lc]());var a=nr(s),p=a==Ie?Ye:a==_t?Si:Tl;return p(s)}function Vo(s){if(!s)return s===0?s:0;if(s=pn(s),s===J||s===-J){var a=s<0?-1:1;return a*oe}return s===s?s:0}function mt(s){var a=Vo(s),p=a%1;return a===a?p?a-p:a:0}function D1(s){return s?ga(mt(s),0,U):0}function pn(s){if(typeof s=="number")return s;if(Gr(s))return $;if(si(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=si(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=ca(s);var p=sp.test(s);return p||Qi.test(s)?qg(s.slice(2),p?2:8):Ku.test(s)?$:+s}function L1(s){return io(s,Mr(s))}function RB(s){return s?ga(mt(s),-V,V):s===0?s:0}function Tt(s){return s==null?"":jr(s)}var NB=Cl(function(s,a){if(bc(a)||Tr(a)){io(a,Ni(a),s);return}for(var p in a)Lt.call(a,p)&&hc(s,p,a[p])}),F1=Cl(function(s,a){io(a,Mr(a),s)}),Zp=Cl(function(s,a,p,b){io(a,Mr(a),s,b)}),kB=Cl(function(s,a,p,b){io(a,Ni(a),s,b)}),OB=Bo(jg);function DB(s,a){var p=El(s);return a==null?p:mS(p,a)}var LB=bt(function(s,a){s=Ct(s);var p=-1,b=a.length,C=b>2?a[2]:t;for(C&&yr(a[0],a[1],C)&&(b=1);++p<b;)for(var R=a[p],q=Mr(R),B=-1,Z=q.length;++B<Z;){var ge=q[B],ye=s[ge];(ye===t||kn(ye,Ir[ge])&&!Lt.call(s,ge))&&(s[ge]=R[ge])}return s}),FB=bt(function(s){return s.push(t,e1),fr(z1,t,s)});function zB(s,a){return Gi(s,Xe(a,3),to)}function qB(s,a){return Gi(s,Xe(a,3),Kg)}function HB(s,a){return s==null?s:Gg(s,Xe(a,3),Mr)}function UB(s,a){return s==null?s:wS(s,Xe(a,3),Mr)}function BB(s,a){return s&&to(s,Xe(a,3))}function WB(s,a){return s&&Kg(s,Xe(a,3))}function $B(s){return s==null?[]:Np(s,Ni(s))}function VB(s){return s==null?[]:Np(s,Mr(s))}function Pv(s,a,p){var b=s==null?t:va(s,a);return b===t?p:b}function jB(s,a){return s!=null&&r1(s,a,mH)}function Iv(s,a){return s!=null&&r1(s,a,gH)}var GB=YS(function(s,a,p){a!=null&&typeof a.toString!="function"&&(a=bp.call(a)),s[a]=p},Tv(Rr)),KB=YS(function(s,a,p){a!=null&&typeof a.toString!="function"&&(a=bp.call(a)),Lt.call(s,a)?s[a].push(p):s[a]=[p]},Xe),YB=bt(mc);function Ni(s){return Tr(s)?hS(s):Jg(s)}function Mr(s){return Tr(s)?hS(s,!0):PH(s)}function XB(s,a){var p={};return a=Xe(a,3),to(s,function(b,C,R){Ho(p,a(b,C,R),b)}),p}function ZB(s,a){var p={};return a=Xe(a,3),to(s,function(b,C,R){Ho(p,C,a(b,C,R))}),p}var JB=Cl(function(s,a,p){kp(s,a,p)}),z1=Cl(function(s,a,p,b){kp(s,a,p,b)}),QB=Bo(function(s,a){var p={};if(s==null)return p;var b=!1;a=$t(a,function(R){return R=bs(R,s),b||(b=R.length>1),R}),io(s,pv(s),p),b&&(p=un(p,d|f|g,GH));for(var C=a.length;C--;)nv(p,a[C]);return p});function eW(s,a){return q1(s,Kp(Xe(a)))}var tW=Bo(function(s,a){return s==null?{}:AH(s,a)});function q1(s,a){if(s==null)return{};var p=$t(pv(s),function(b){return[b]});return a=Xe(a),MS(s,p,function(b,C){return a(b,C[0])})}function iW(s,a,p){a=bs(a,s);var b=-1,C=a.length;for(C||(C=1,s=t);++b<C;){var R=s==null?t:s[ro(a[b])];R===t&&(b=C,R=p),s=$o(R)?R.call(s):R}return s}function rW(s,a,p){return s==null?s:vc(s,a,p)}function nW(s,a,p,b){return b=typeof b=="function"?b:t,s==null?s:vc(s,a,p,b)}var H1=JS(Ni),U1=JS(Mr);function oW(s,a,p){var b=dt(s),C=b||xs(s)||Al(s);if(a=Xe(a,4),p==null){var R=s&&s.constructor;C?p=b?new R:[]:si(s)?p=$o(R)?El(Sp(s)):{}:p={}}return(C?Cr:to)(s,function(q,B,Z){return a(p,q,B,Z)}),p}function sW(s,a){return s==null?!0:nv(s,a)}function aW(s,a,p){return s==null?s:DS(s,a,av(p))}function lW(s,a,p,b){return b=typeof b=="function"?b:t,s==null?s:DS(s,a,av(p),b)}function Tl(s){return s==null?[]:Pr(s,Ni(s))}function uW(s){return s==null?[]:Pr(s,Mr(s))}function cW(s,a,p){return p===t&&(p=a,a=t),p!==t&&(p=pn(p),p=p===p?p:0),a!==t&&(a=pn(a),a=a===a?a:0),ga(pn(s),a,p)}function dW(s,a,p){return a=Vo(a),p===t?(p=a,a=0):p=Vo(p),s=pn(s),vH(s,a,p)}function pW(s,a,p){if(p&&typeof p!="boolean"&&yr(s,a,p)&&(a=p=t),p===t&&(typeof a=="boolean"?(p=a,a=t):typeof s=="boolean"&&(p=s,s=t)),s===t&&a===t?(s=0,a=1):(s=Vo(s),a===t?(a=s,s=0):a=Vo(a)),s>a){var b=s;s=a,a=b}if(p||s%1||a%1){var C=dS();return rr(s+C*(a-s+zg("1e-"+((C+"").length-1))),a)}return tv(s,a)}var hW=Pl(function(s,a,p){return a=a.toLowerCase(),s+(p?B1(a):a)});function B1(s){return Av(Tt(s).toLowerCase())}function W1(s){return s=Tt(s),s&&s.replace(er,N).replace(hp,"")}function fW(s,a,p){s=Tt(s),a=jr(a);var b=s.length;p=p===t?b:ga(mt(p),0,b);var C=p;return p-=a.length,p>=0&&s.slice(p,C)==a}function mW(s){return s=Tt(s),s&&Wu.test(s)?s.replace(Uu,ae):s}function gW(s){return s=Tt(s),s&&Rg.test(s)?s.replace($u,"\\$&"):s}var vW=Pl(function(s,a,p){return s+(p?"-":"")+a.toLowerCase()}),yW=Pl(function(s,a,p){return s+(p?" ":"")+a.toLowerCase()}),bW=jS("toLowerCase");function wW(s,a,p){s=Tt(s),a=mt(a);var b=a?ci(s):0;if(!a||b>=a)return s;var C=(a-b)/2;return qp(Pp(C),p)+s+qp(Cp(C),p)}function xW(s,a,p){s=Tt(s),a=mt(a);var b=a?ci(s):0;return a&&b<a?s+qp(a-b,p):s}function SW(s,a,p){s=Tt(s),a=mt(a);var b=a?ci(s):0;return a&&b<a?qp(a-b,p)+s:s}function _W(s,a,p){return p||a==null?a=0:a&&(a=+a),Mq(Tt(s).replace(Vu,""),a||0)}function EW(s,a,p){return(p?yr(s,a,p):a===t)?a=1:a=mt(a),iv(Tt(s),a)}function CW(){var s=arguments,a=Tt(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var PW=Pl(function(s,a,p){return s+(p?"_":"")+a.toLowerCase()});function IW(s,a,p){return p&&typeof p!="number"&&yr(s,a,p)&&(a=p=t),p=p===t?U:p>>>0,p?(s=Tt(s),s&&(typeof a=="string"||a!=null&&!Cv(a))&&(a=jr(a),!a&&He(s))?ws(Ri(s),0,p):s.split(a,p)):[]}var AW=Pl(function(s,a,p){return s+(p?" ":"")+Av(a)});function TW(s,a,p){return s=Tt(s),p=p==null?0:ga(mt(p),0,s.length),a=jr(a),s.slice(p,p+a.length)==a}function MW(s,a,p){var b=A.templateSettings;p&&yr(s,a,p)&&(a=t),s=Tt(s),a=Zp({},a,b,QS);var C=Zp({},a.imports,b.imports,QS),R=Ni(C),q=Pr(C,R),B,Z,ge=0,ye=a.interpolate||mi,we="__p += '",Te=Fo((a.escape||mi).source+"|"+ye.source+"|"+(ye===al?Ng:mi).source+"|"+(a.evaluate||mi).source+"|$","g"),Be="//# sourceURL="+(Lt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ml+"]")+`
`;s.replace(Te,function(rt,xt,Et,Kr,br,Yr){return Et||(Et=Kr),we+=s.slice(ge,Yr).replace(Mo,Se),xt&&(B=!0,we+=`' +
__e(`+xt+`) +
'`),br&&(Z=!0,we+=`';
`+br+`;
__p += '`),Et&&(we+=`' +
((__t = (`+Et+`)) == null ? '' : __t) +
'`),ge=Yr+rt.length,rt}),we+=`';
`;var it=Lt.call(a,"variable")&&a.variable;if(!it)we=`with (obj) {
`+we+`
}
`;else if(Zs.test(it))throw new tt(o);we=(Z?we.replace(ls,""):we).replace(sl,"$1").replace(Hu,"$1;"),we="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var yt=V1(function(){return wt(R,Be+"return "+we).apply(t,q)});if(yt.source=we,Ev(yt))throw yt;return yt}function RW(s){return Tt(s).toLowerCase()}function NW(s){return Tt(s).toUpperCase()}function kW(s,a,p){if(s=Tt(s),s&&(p||a===t))return ca(s);if(!s||!(a=jr(a)))return s;var b=Ri(s),C=Ri(a),R=x(b,C),q=M(b,C)+1;return ws(b,R,q).join("")}function OW(s,a,p){if(s=Tt(s),s&&(p||a===t))return s.slice(0,fs(s)+1);if(!s||!(a=jr(a)))return s;var b=Ri(s),C=M(b,Ri(a))+1;return ws(b,0,C).join("")}function DW(s,a,p){if(s=Tt(s),s&&(p||a===t))return s.replace(Vu,"");if(!s||!(a=jr(a)))return s;var b=Ri(s),C=x(b,Ri(a));return ws(b,C).join("")}function LW(s,a){var p=k,b=te;if(si(a)){var C="separator"in a?a.separator:C;p="length"in a?mt(a.length):p,b="omission"in a?jr(a.omission):b}s=Tt(s);var R=s.length;if(He(s)){var q=Ri(s);R=q.length}if(p>=R)return s;var B=p-ci(b);if(B<1)return b;var Z=q?ws(q,0,B).join(""):s.slice(0,B);if(C===t)return Z+b;if(q&&(B+=Z.length-B),Cv(C)){if(s.slice(B).search(C)){var ge,ye=Z;for(C.global||(C=Fo(C.source,Tt(Gu.exec(C))+"g")),C.lastIndex=0;ge=C.exec(ye);)var we=ge.index;Z=Z.slice(0,we===t?B:we)}}else if(s.indexOf(jr(C),B)!=B){var Te=Z.lastIndexOf(C);Te>-1&&(Z=Z.slice(0,Te))}return Z+b}function FW(s){return s=Tt(s),s&&Bu.test(s)?s.replace($i,bl):s}var zW=Pl(function(s,a,p){return s+(p?" ":"")+a.toUpperCase()}),Av=jS("toUpperCase");function $1(s,a,p){return s=Tt(s),a=p?t:a,a===t?et(s)?da(s):oc(s):s.match(a)||[]}var V1=bt(function(s,a){try{return fr(s,t,a)}catch(p){return Ev(p)?p:new tt(p)}}),qW=Bo(function(s,a){return Cr(a,function(p){p=ro(p),Ho(s,p,Sv(s[p],s))}),s});function HW(s){var a=s==null?0:s.length,p=Xe();return s=a?$t(s,function(b){if(typeof b[1]!="function")throw new Yi(n);return[p(b[0]),b[1]]}):[],bt(function(b){for(var C=-1;++C<a;){var R=s[C];if(fr(R[0],this,b))return fr(R[1],this,b)}})}function UW(s){return pH(un(s,d))}function Tv(s){return function(){return s}}function BW(s,a){return s==null||s!==s?a:s}var WW=KS(),$W=KS(!0);function Rr(s){return s}function Mv(s){return ES(typeof s=="function"?s:un(s,d))}function VW(s){return PS(un(s,d))}function jW(s,a){return IS(s,un(a,d))}var GW=bt(function(s,a){return function(p){return mc(p,s,a)}}),KW=bt(function(s,a){return function(p){return mc(s,p,a)}});function Rv(s,a,p){var b=Ni(a),C=Np(a,b);p==null&&!(si(a)&&(C.length||!b.length))&&(p=a,a=s,s=this,C=Np(a,Ni(a)));var R=!(si(p)&&"chain"in p)||!!p.chain,q=$o(s);return Cr(C,function(B){var Z=a[B];s[B]=Z,q&&(s.prototype[B]=function(){var ge=this.__chain__;if(R||ge){var ye=s(this.__wrapped__),we=ye.__actions__=Ar(this.__actions__);return we.push({func:Z,args:arguments,thisArg:s}),ye.__chain__=ge,ye}return Z.apply(s,Tn([this.value()],arguments))})}),s}function YW(){return xi._===this&&(xi._=xq),this}function Nv(){}function XW(s){return s=mt(s),bt(function(a){return AS(a,s)})}var ZW=uv($t),JW=uv(na),QW=uv(sa);function j1(s){return gv(s)?la(ro(s)):TH(s)}function e$(s){return function(a){return s==null?t:va(s,a)}}var t$=XS(),i$=XS(!0);function kv(){return[]}function Ov(){return!1}function r$(){return{}}function n$(){return""}function o$(){return!0}function s$(s,a){if(s=mt(s),s<1||s>V)return[];var p=U,b=rr(s,U);a=Xe(a),s-=U;for(var C=ua(b,a);++p<s;)a(p);return C}function a$(s){return dt(s)?$t(s,ro):Gr(s)?[s]:Ar(p1(Tt(s)))}function l$(s){var a=++bq;return Tt(s)+a}var u$=zp(function(s,a){return s+a},0),c$=cv("ceil"),d$=zp(function(s,a){return s/a},1),p$=cv("floor");function h$(s){return s&&s.length?Rp(s,Rr,Yg):t}function f$(s,a){return s&&s.length?Rp(s,Xe(a,2),Yg):t}function m$(s){return an(s,Rr)}function g$(s,a){return an(s,Xe(a,2))}function v$(s){return s&&s.length?Rp(s,Rr,Qg):t}function y$(s,a){return s&&s.length?Rp(s,Xe(a,2),Qg):t}var b$=zp(function(s,a){return s*a},1),w$=cv("round"),x$=zp(function(s,a){return s-a},0);function S$(s){return s&&s.length?Mn(s,Rr):0}function _$(s,a){return s&&s.length?Mn(s,Xe(a,2)):0}return A.after=VU,A.ary=_1,A.assign=NB,A.assignIn=F1,A.assignInWith=Zp,A.assignWith=kB,A.at=OB,A.before=E1,A.bind=Sv,A.bindAll=qW,A.bindKey=C1,A.castArray=rB,A.chain=w1,A.chunk=p3,A.compact=h3,A.concat=f3,A.cond=HW,A.conforms=UW,A.constant=Tv,A.countBy=SU,A.create=DB,A.curry=P1,A.curryRight=I1,A.debounce=A1,A.defaults=LB,A.defaultsDeep=FB,A.defer=jU,A.delay=GU,A.difference=m3,A.differenceBy=g3,A.differenceWith=v3,A.drop=y3,A.dropRight=b3,A.dropRightWhile=w3,A.dropWhile=x3,A.fill=S3,A.filter=EU,A.flatMap=IU,A.flatMapDeep=AU,A.flatMapDepth=TU,A.flatten=g1,A.flattenDeep=_3,A.flattenDepth=E3,A.flip=KU,A.flow=WW,A.flowRight=$W,A.fromPairs=C3,A.functions=$B,A.functionsIn=VB,A.groupBy=MU,A.initial=I3,A.intersection=A3,A.intersectionBy=T3,A.intersectionWith=M3,A.invert=GB,A.invertBy=KB,A.invokeMap=NU,A.iteratee=Mv,A.keyBy=kU,A.keys=Ni,A.keysIn=Mr,A.map=Vp,A.mapKeys=XB,A.mapValues=ZB,A.matches=VW,A.matchesProperty=jW,A.memoize=Gp,A.merge=JB,A.mergeWith=z1,A.method=GW,A.methodOf=KW,A.mixin=Rv,A.negate=Kp,A.nthArg=XW,A.omit=QB,A.omitBy=eW,A.once=YU,A.orderBy=OU,A.over=ZW,A.overArgs=XU,A.overEvery=JW,A.overSome=QW,A.partial=_v,A.partialRight=T1,A.partition=DU,A.pick=tW,A.pickBy=q1,A.property=j1,A.propertyOf=e$,A.pull=O3,A.pullAll=y1,A.pullAllBy=D3,A.pullAllWith=L3,A.pullAt=F3,A.range=t$,A.rangeRight=i$,A.rearg=ZU,A.reject=zU,A.remove=z3,A.rest=JU,A.reverse=wv,A.sampleSize=HU,A.set=rW,A.setWith=nW,A.shuffle=UU,A.slice=q3,A.sortBy=$U,A.sortedUniq=j3,A.sortedUniqBy=G3,A.split=IW,A.spread=QU,A.tail=K3,A.take=Y3,A.takeRight=X3,A.takeRightWhile=Z3,A.takeWhile=J3,A.tap=hU,A.throttle=eB,A.thru=$p,A.toArray=O1,A.toPairs=H1,A.toPairsIn=U1,A.toPath=a$,A.toPlainObject=L1,A.transform=oW,A.unary=tB,A.union=Q3,A.unionBy=eU,A.unionWith=tU,A.uniq=iU,A.uniqBy=rU,A.uniqWith=nU,A.unset=sW,A.unzip=xv,A.unzipWith=b1,A.update=aW,A.updateWith=lW,A.values=Tl,A.valuesIn=uW,A.without=oU,A.words=$1,A.wrap=iB,A.xor=sU,A.xorBy=aU,A.xorWith=lU,A.zip=uU,A.zipObject=cU,A.zipObjectDeep=dU,A.zipWith=pU,A.entries=H1,A.entriesIn=U1,A.extend=F1,A.extendWith=Zp,Rv(A,A),A.add=u$,A.attempt=V1,A.camelCase=hW,A.capitalize=B1,A.ceil=c$,A.clamp=cW,A.clone=nB,A.cloneDeep=sB,A.cloneDeepWith=aB,A.cloneWith=oB,A.conformsTo=lB,A.deburr=W1,A.defaultTo=BW,A.divide=d$,A.endsWith=fW,A.eq=kn,A.escape=mW,A.escapeRegExp=gW,A.every=_U,A.find=CU,A.findIndex=f1,A.findKey=zB,A.findLast=PU,A.findLastIndex=m1,A.findLastKey=qB,A.floor=p$,A.forEach=x1,A.forEachRight=S1,A.forIn=HB,A.forInRight=UB,A.forOwn=BB,A.forOwnRight=WB,A.get=Pv,A.gt=uB,A.gte=cB,A.has=jB,A.hasIn=Iv,A.head=v1,A.identity=Rr,A.includes=RU,A.indexOf=P3,A.inRange=dW,A.invoke=YB,A.isArguments=wa,A.isArray=dt,A.isArrayBuffer=dB,A.isArrayLike=Tr,A.isArrayLikeObject=vi,A.isBoolean=pB,A.isBuffer=xs,A.isDate=hB,A.isElement=fB,A.isEmpty=mB,A.isEqual=gB,A.isEqualWith=vB,A.isError=Ev,A.isFinite=yB,A.isFunction=$o,A.isInteger=M1,A.isLength=Yp,A.isMap=R1,A.isMatch=bB,A.isMatchWith=wB,A.isNaN=xB,A.isNative=SB,A.isNil=EB,A.isNull=_B,A.isNumber=N1,A.isObject=si,A.isObjectLike=di,A.isPlainObject=xc,A.isRegExp=Cv,A.isSafeInteger=CB,A.isSet=k1,A.isString=Xp,A.isSymbol=Gr,A.isTypedArray=Al,A.isUndefined=PB,A.isWeakMap=IB,A.isWeakSet=AB,A.join=R3,A.kebabCase=vW,A.last=dn,A.lastIndexOf=N3,A.lowerCase=yW,A.lowerFirst=bW,A.lt=TB,A.lte=MB,A.max=h$,A.maxBy=f$,A.mean=m$,A.meanBy=g$,A.min=v$,A.minBy=y$,A.stubArray=kv,A.stubFalse=Ov,A.stubObject=r$,A.stubString=n$,A.stubTrue=o$,A.multiply=b$,A.nth=k3,A.noConflict=YW,A.noop=Nv,A.now=jp,A.pad=wW,A.padEnd=xW,A.padStart=SW,A.parseInt=_W,A.random=pW,A.reduce=LU,A.reduceRight=FU,A.repeat=EW,A.replace=CW,A.result=iW,A.round=w$,A.runInContext=G,A.sample=qU,A.size=BU,A.snakeCase=PW,A.some=WU,A.sortedIndex=H3,A.sortedIndexBy=U3,A.sortedIndexOf=B3,A.sortedLastIndex=W3,A.sortedLastIndexBy=$3,A.sortedLastIndexOf=V3,A.startCase=AW,A.startsWith=TW,A.subtract=x$,A.sum=S$,A.sumBy=_$,A.template=MW,A.times=s$,A.toFinite=Vo,A.toInteger=mt,A.toLength=D1,A.toLower=RW,A.toNumber=pn,A.toSafeInteger=RB,A.toString=Tt,A.toUpper=NW,A.trim=kW,A.trimEnd=OW,A.trimStart=DW,A.truncate=LW,A.unescape=FW,A.uniqueId=l$,A.upperCase=zW,A.upperFirst=Av,A.each=x1,A.eachRight=S1,A.first=v1,Rv(A,function(){var s={};return to(A,function(a,p){Lt.call(A.prototype,p)||(s[p]=a)}),s}(),{chain:!1}),A.VERSION=e,Cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){A[s].placeholder=A}),Cr(["drop","take"],function(s,a){St.prototype[s]=function(p){p=p===t?1:Pi(mt(p),0);var b=this.__filtered__&&!a?new St(this):this.clone();return b.__filtered__?b.__takeCount__=rr(p,b.__takeCount__):b.__views__.push({size:rr(p,U),type:s+(b.__dir__<0?"Right":"")}),b},St.prototype[s+"Right"]=function(p){return this.reverse()[s](p).reverse()}}),Cr(["filter","map","takeWhile"],function(s,a){var p=a+1,b=p==K||p==Q;St.prototype[s]=function(C){var R=this.clone();return R.__iteratees__.push({iteratee:Xe(C,3),type:p}),R.__filtered__=R.__filtered__||b,R}}),Cr(["head","last"],function(s,a){var p="take"+(a?"Right":"");St.prototype[s]=function(){return this[p](1).value()[0]}}),Cr(["initial","tail"],function(s,a){var p="drop"+(a?"":"Right");St.prototype[s]=function(){return this.__filtered__?new St(this):this[p](1)}}),St.prototype.compact=function(){return this.filter(Rr)},St.prototype.find=function(s){return this.filter(s).head()},St.prototype.findLast=function(s){return this.reverse().find(s)},St.prototype.invokeMap=bt(function(s,a){return typeof s=="function"?new St(this):this.map(function(p){return mc(p,s,a)})}),St.prototype.reject=function(s){return this.filter(Kp(Xe(s)))},St.prototype.slice=function(s,a){s=mt(s);var p=this;return p.__filtered__&&(s>0||a<0)?new St(p):(s<0?p=p.takeRight(-s):s&&(p=p.drop(s)),a!==t&&(a=mt(a),p=a<0?p.dropRight(-a):p.take(a-s)),p)},St.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},St.prototype.toArray=function(){return this.take(U)},to(St.prototype,function(s,a){var p=/^(?:filter|find|map|reject)|While$/.test(a),b=/^(?:head|last)$/.test(a),C=A[b?"take"+(a=="last"?"Right":""):a],R=b||/^find/.test(a);C&&(A.prototype[a]=function(){var q=this.__wrapped__,B=b?[1]:arguments,Z=q instanceof St,ge=B[0],ye=Z||dt(q),we=function(xt){var Et=C.apply(A,Tn([xt],B));return b&&Te?Et[0]:Et};ye&&p&&typeof ge=="function"&&ge.length!=1&&(Z=ye=!1);var Te=this.__chain__,Be=!!this.__actions__.length,it=R&&!Te,yt=Z&&!Be;if(!R&&ye){q=yt?q:new St(this);var rt=s.apply(q,B);return rt.__actions__.push({func:$p,args:[we],thisArg:t}),new ln(rt,Te)}return it&&yt?s.apply(this,B):(rt=this.thru(we),it?b?rt.value()[0]:rt.value():rt)})}),Cr(["pop","push","shift","sort","splice","unshift"],function(s){var a=Rn[s],p=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",b=/^(?:pop|shift)$/.test(s);A.prototype[s]=function(){var C=arguments;if(b&&!this.__chain__){var R=this.value();return a.apply(dt(R)?R:[],C)}return this[p](function(q){return a.apply(dt(q)?q:[],C)})}}),to(St.prototype,function(s,a){var p=A[a];if(p){var b=p.name+"";Lt.call(_l,b)||(_l[b]=[]),_l[b].push({name:a,func:p})}}),_l[Fp(t,_).name]=[{name:"wrapper",func:t}],St.prototype.clone=Fq,St.prototype.reverse=zq,St.prototype.value=qq,A.prototype.at=fU,A.prototype.chain=mU,A.prototype.commit=gU,A.prototype.next=vU,A.prototype.plant=bU,A.prototype.reverse=wU,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=xU,A.prototype.first=A.prototype.head,lc&&(A.prototype[lc]=yU),A},ir=Vr();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(xi._=ir,define(function(){return ir})):hr?((hr.exports=ir)._=ir,ic._=ir):xi._=ir}).call(Ll)});var Ze={};ti(Ze,{closest:()=>Ra,collapseOptions:()=>at,constrain:()=>Q6,contentIsIndexable:()=>Fh,convertTransformIntoMatrixStyleString:()=>K6,decompose:()=>Oh,deviceType:()=>Ny,easeInOutCubic:()=>ky,easeInOutSine:()=>Dy,easeOutCubic:()=>Oy,filterZoomLinks:()=>t4,getCSSValueAndUnit:()=>Kt,getCorrectRenderContextForGivenPID:()=>Ly,getFiletypeAndOembedFromURL:()=>Y6,getHeight:()=>J6,getWidth:()=>Z6,isAdminEdit:()=>Ai,isChrome:()=>U6,isDateInFuture:()=>r4,isDevEnv:()=>F6,isEdge:()=>B6,isFirefox:()=>H6,isIE:()=>FC,isIE8:()=>W6,isIOS:()=>Yc,isIOSWebView:()=>$6,isLocalEnv:()=>Ty,isMac:()=>Kc,isMobile:()=>ao,isMobileWindowSize:()=>j6,isProduction:()=>Lh,isProductionTestingAcct:()=>My,isPromoCodeTransitionPeriod:()=>e4,isSafari:()=>Is,isServer:()=>ue,isServerRendered:()=>z6,isSitePreview:()=>Ma,mergeRefs:()=>X6,parseMatrixStyleString:()=>G6,sitePreviewHostname:()=>Ry,stringReplaceMultiple:()=>V6,stripTLD:()=>i4,viewportOrientation:()=>q6});var Dh,Ty,F6,Lh,My,ue,z6,OC,Ai,DC,LC,Ma,Ry,ao,q6,Ny,Kc,H6,Is,U6,FC,B6,W6,Yc,$6,V6,Fh,j6,G6,K6,Oh,Kt,ky,Oy,Dy,at,Y6,X6,Z6,J6,Ra,Q6,e4,t4,i4,r4,Ly,Re=T(()=>{Dh=he(xe()),Ty=/^local.*/.test("production"),F6=/^dev.*/.test("production"),Lh=!0,My=t=>[1,12,14494300,14502618,18,39,75,13933487,14497410,14065331,14229062,14313249].includes(t)||!1,ue=!(typeof window<"u"&&window.document&&window.document.createElement),z6=!ue&&window.hasOwnProperty("__PRELOADED_STATE__"),OC=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(OC=!0)}catch{}Ai=OC,DC=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let t=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);t?.groups?.hostname&&(LC=t.groups?.hostname,DC=!0)}}catch{}Ma=DC,Ry=LC,ao=function(){if(ue)return!1;var t=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(e),t=t||!t&&/(android)/i.test(e.substr(0,40)),t}(),q6=()=>{let t=window.matchMedia("(max-aspect-ratio: 1:1)");return ue?!1:t?"portrait":"landscape"},Ny=()=>{if(ue)return"mouse";let t=window.matchMedia("(hover:hover)"),e=window.matchMedia("(hover:none)"),i=window.matchMedia("(any-pointer:fine)"),r=window.matchMedia("(pointer:coarse)"),n=window.matchMedia("(pointer:none)");if(e.matches&&r.matches&&!i.matches)return"touch";if(t.matches&&i.matches)return"mouse"},Kc=()=>navigator?.userAgent?.includes("Mac"),H6=()=>/Firefox\/\d+\.\d+/.test(navigator.userAgent),Is=()=>navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,U6=()=>window.chrome!==null&&navigator.userAgent.indexOf("Chrome")!=-1&&navigator.vendor==="Google Inc."&&typeof window.opr>"u"&&navigator.userAgent.indexOf("Edg")==-1,FC=()=>/MSIE (\d+\.\d+);/.test(navigator.userAgent),B6=()=>/Edge/.test(navigator.userAgent),W6=()=>{var t=-1;if(FC()){var e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");e.exec(navigator.userAgent)!=null&&(t=parseFloat(RegExp.$1))}return t<9&&t>0},Yc=()=>!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),$6=()=>{var t=window.navigator.standalone,e=window.navigator.userAgent.toLowerCase(),i=/safari/.test(e),r=/iphone|ipod|ipad/.test(e);if(r){if(!t&&i)return!1;if(t&&!i)return!1;if(!t&&!i)return!0}return!1},V6=(t,e)=>{for(var i in e)t=t.replace(new RegExp(i,"g"),e[i]);return t},Fh=t=>t?t.page_type==="set"?!0:!(t.display===!1||t.pin||t.overlay):!1,j6=t=>t<770,G6=t=>{let e=t.indexOf("matrix(")>-1,i=t.indexOf("matrix3d(")>-1,r,n;return e?(r=t.replace("matrix(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Oh(r[0],r[1],r[2],r[3],r[4],r[5],!1)):i?(r=t.replace("matrix3d(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Oh(r[0],r[1],r[4],r[5],r[12],r[13],!1),n.translate.z=r[14]):n=Oh(0,0,0,0,0,0,!1),n},K6=t=>{let e=t.hasOwnProperty("translate"),i=t.hasOwnProperty("scale"),r=i&&t.scale.x||1,n=i&&t.scale.y||1,o=e&&t.translate.x||0,l=e&&t.translate.y||0,u=e&&t.translate.z||0,c=t.rotation||0,d=e&&t.translate.hasOwnProperty("z"),f;if(d){let g=[Math.cos(c)/r,-Math.sin(c),0,o,Math.sin(c),Math.cos(c)/n,0,l,0,0,1,u,0,0,0,1];f=`matrix3d(${g[0]}, ${g[4]}, ${g[8]}, ${g[12]}, ${g[1]}, ${g[5]}, ${g[9]}, ${g[13]}, ${g[2]}, ${g[6]}, ${g[10]}, ${g[14]}, ${g[3]}, ${g[7]}, ${g[11]}, ${g[15]})`}else{let g=[Math.cos(c)/r,-Math.sin(c),o,Math.sin(c),Math.cos(c)/n,l,0,0,1];f=`matrix(${g[0]}, ${g[3]}, ${g[1]}, ${g[4]}, ${g[2]}, ${g[5]})`}return f},Oh=(t=0,e=0,i=0,r=0,n=0,o=0,l=!1)=>{var u=Math.acos,c=Math.atan,d=Math.sqrt,f=Math.PI,g={x:n,y:o},v=0,S={x:1,y:1},E={x:0,y:0},_=t*r-e*i;if(l)t?(E={x:c(i/t),y:c(e/t)},S={x:t,y:_/t}):e?(v=f*.5,S={x:e,y:_/e},E.x=c(r/e)):(S={x:i,y:r},E.x=f*.25);else if(t||e){var P=d(t*t+e*e);v=e>0?u(t/P):-u(t/P),S={x:P,y:_/P},E.x=c((t*i+e*r)/(P*P))}else if(i||r){var I=d(i*i+r*r);v=f*.5-(r>0?u(-i/I):-u(i/I)),S={x:_/I,y:I},E.y=c((t*i+e*r)/(I*I))}else S={x:0,y:0};return{scale:S,translate:g,rotation:v,skew:E}},Kt=(t,e)=>{t=t?.toString()||"",t=t.replace(/^\.(\d+)/,"0.$1");let i=t.replace(/[^\d.-]/g,""),r=t.replace(i+"","").trim();return i=parseFloat(i),r===""&&e!==void 0?r=e:(r.indexOf("var(")>-1||r.indexOf("calc(")>-1)&&(i="",r=t),[i,r]},ky=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,Oy=t=>1-Math.pow(-1*t+1,3),Dy=t=>t>=1?1:-(Math.cos(Math.PI*t)-1)/2,at=t=>{let e={},i=r=>{r.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(o=>{e[o.name]=o.value}):n.type=="checkbox-color"&&i([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(l=>l.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let o;n.defaultUnit!==void 0&&(o=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[o]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[o]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[o]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&i([n.toggle]),n.children&&i(n.children)})};return i(t),e},Y6=(t,e={width:250})=>{let i=null,r=null,n=t.toLowerCase();if(n.endsWith(".mov")||n.endsWith(".mp4")||n.endsWith(".webm"))return{fileType:"video",oembedURL:null,id:null};if(n.endsWith(".png")||n.endsWith(".webp")||n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".gif")||n.endsWith(".avif")||n.endsWith(".apng")||n.endsWith(".svg"))return{fileType:"image",oembedURL:null,id:null};i="url";var o="",l="",u="",c=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,g=t.match(c);if(g&&g[0]){let v=g[0].split(/\/|\?h=|&|\?/);for(var d=0;d<v.length;d++)!v[d].includes(":")&&!v[d].includes(".")&&!v[d].includes("vimeo")&&!v[d].includes("=")&&!v[d].includes("video")&&!v[d].includes("showcase")&&!v[d].includes("player")&&v[d].length>3&&(o.length==0?o=v[d]:o+="/"+v[d]);i="vimeo",r="https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+o+"&width="+e.width}var f=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,g=t.match(f);return g&&g[7].length==11&&(o=g[7],i="youtube",o?r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+o:r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+(t.indexOf("?")>-1?t.split("?")[0]:t)),{fileType:i,oembedURL:r,id:o}},X6=(...t)=>{let e=t.filter(Boolean);return e.length?e.length===0?e[0]:i=>{for(let r of e)typeof r=="function"?r(i):r&&(r.current=i)}:null},Z6=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.width)-((parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0)):parseFloat(e.width)},J6=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.height)-((parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)):parseFloat(e.height)},Ra=(t,e)=>{var i=t&&(e(t)?t:Ra(t.parentNode,e));return i||null},Q6=(t,e,i)=>t>i?i:t<e?e:t,e4=t=>{let e=new Date,r=new Date(t).getTime()-e.getTime(),n=Math.floor(r/(1e3*60*60*24));return n>0&&n<=15},t4=t=>(t=Dh.default.filter(t,e=>{var i=e.getAttribute("href");return!(i&&(i===""||i=="#"||i.indexOf("mailto:")==0||i.indexOf("tel:")==0))}),t),i4=t=>{if(!t)return[null,null];let e=/(\.[^.]+)$/,i=t.match(e);if(i){let r=i[1],n=t.slice(0,-r.length);return[r,n]}else return[null,t]},r4=t=>{if(!t)return!0;let e=new Date(t),i=Math.floor(e.getTime()/1e3),n=Math.floor(Date.now()/1e3)-15*24*60*60;return i>=n},Ly=(t,e,i)=>{let r=t.pages.byId[i],n=e.getHomepageId(t),o=e.getHiddenHomepageId(t),l=t.sets.byId[Dh.default.findKey(t.structure.byParent,d=>d.includes(n))],u=t.sets.byId[Dh.default.findKey(t.structure.byParent,d=>d.includes(i))],c=i;if(t.sets.byId.root?.stack===!0)r?.display===!1?c=r.id:c=u?.id||"root";else if(r){if(r.pin||r.overlay||u?.stack)if(c=u?.id,(r.pin||r.overlay)&&u?.stack===!1){if(u?.id===l?.id&&(c="root"),u.page_count>=1){let d=t.structure.byParent[u.id]?.filter(f=>t.structure.indexById[f]!==null&&t.sets.byId[f]===void 0&&t.pages.byId[f]?.password_enabled!==!0&&f!==o);d.length>0&&(d.includes(n)?c=n:c=d[0])}}else r?.display===!1&&u?.stack===!0&&(c=r.id);else c=r.id;c==="root"&&n&&(c=n)}return c}});var Fy=W((kue,zC)=>{"use strict";zC.exports=function(e,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(i,n)}}});var Di=W((Oue,UC)=>{"use strict";var n4=Fy(),qy=Object.prototype.toString,Hy=function(t){return function(e){var i=qy.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function Na(t){return t=t.toLowerCase(),function(i){return Hy(i)===t}}function Uy(t){return Array.isArray(t)}function qh(t){return typeof t>"u"}function o4(t){return t!==null&&!qh(t)&&t.constructor!==null&&!qh(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var qC=Na("ArrayBuffer");function s4(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qC(t.buffer),e}function a4(t){return typeof t=="string"}function l4(t){return typeof t=="number"}function HC(t){return t!==null&&typeof t=="object"}function zh(t){if(Hy(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var u4=Na("Date"),c4=Na("File"),d4=Na("Blob"),p4=Na("FileList");function By(t){return qy.call(t)==="[object Function]"}function h4(t){return HC(t)&&By(t.pipe)}function f4(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||qy.call(t)===e||By(t.toString)&&t.toString()===e)}var m4=Na("URLSearchParams");function g4(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function v4(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Wy(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Uy(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function zy(){var t={};function e(n,o){zh(t[o])&&zh(n)?t[o]=zy(t[o],n):zh(n)?t[o]=zy({},n):Uy(n)?t[o]=n.slice():t[o]=n}for(var i=0,r=arguments.length;i<r;i++)Wy(arguments[i],e);return t}function y4(t,e,i){return Wy(e,function(n,o){i&&typeof n=="function"?t[o]=n4(n,i):t[o]=n}),t}function b4(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function w4(t,e,i,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,i&&Object.assign(t.prototype,i)}function x4(t,e,i){var r,n,o,l={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)o=r[n],l[o]||(e[o]=t[o],l[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e}function S4(t,e,i){t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;var r=t.indexOf(e,i);return r!==-1&&r===i}function _4(t){if(!t)return null;var e=t.length;if(qh(e))return null;for(var i=new Array(e);e-- >0;)i[e]=t[e];return i}var E4=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));UC.exports={isArray:Uy,isArrayBuffer:qC,isBuffer:o4,isFormData:f4,isArrayBufferView:s4,isString:a4,isNumber:l4,isObject:HC,isPlainObject:zh,isUndefined:qh,isDate:u4,isFile:c4,isBlob:d4,isFunction:By,isStream:h4,isURLSearchParams:m4,isStandardBrowserEnv:v4,forEach:Wy,merge:zy,extend:y4,trim:g4,stripBOM:b4,inherits:w4,toFlatObject:x4,kindOf:Hy,kindOfTest:Na,endsWith:S4,toArray:_4,isTypedArray:E4,isFileList:p4}});var $y=W((Due,WC)=>{"use strict";var Fl=Di();function BC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}WC.exports=function(e,i,r){if(!i)return e;var n;if(r)n=r(i);else if(Fl.isURLSearchParams(i))n=i.toString();else{var o=[];Fl.forEach(i,function(c,d){c===null||typeof c>"u"||(Fl.isArray(c)?d=d+"[]":c=[c],Fl.forEach(c,function(g){Fl.isDate(g)?g=g.toISOString():Fl.isObject(g)&&(g=JSON.stringify(g)),o.push(BC(d)+"="+BC(g))}))}),n=o.join("&")}if(n){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var VC=W((Lue,$C)=>{"use strict";var C4=Di();function Hh(){this.handlers=[]}Hh.prototype.use=function(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Hh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Hh.prototype.forEach=function(e){C4.forEach(this.handlers,function(r){r!==null&&e(r)})};$C.exports=Hh});var GC=W((Fue,jC)=>{"use strict";var P4=Di();jC.exports=function(e,i){P4.forEach(e,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(e[i]=n,delete e[o])})}});var ka=W((zue,ZC)=>{"use strict";var KC=Di();function zl(t,e,i,r,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}KC.inherits(zl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var YC=zl.prototype,XC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){XC[t]={value:t}});Object.defineProperties(zl,XC);Object.defineProperty(YC,"isAxiosError",{value:!0});zl.from=function(t,e,i,r,n,o){var l=Object.create(YC);return KC.toFlatObject(t,l,function(c){return c!==Error.prototype}),zl.call(l,t.message,e,i,r,n),l.name=t.name,o&&Object.assign(l,o),l};ZC.exports=zl});var Vy=W((que,JC)=>{"use strict";JC.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var jy=W((Hue,QC)=>{"use strict";var zn=Di();function I4(t,e){e=e||new FormData;var i=[];function r(o){return o===null?"":zn.isDate(o)?o.toISOString():zn.isArrayBuffer(o)||zn.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,l){if(zn.isPlainObject(o)||zn.isArray(o)){if(i.indexOf(o)!==-1)throw Error("Circular reference detected in "+l);i.push(o),zn.forEach(o,function(c,d){if(!zn.isUndefined(c)){var f=l?l+"."+d:d,g;if(c&&!l&&typeof c=="object"){if(zn.endsWith(d,"{}"))c=JSON.stringify(c);else if(zn.endsWith(d,"[]")&&(g=zn.toArray(c))){g.forEach(function(v){!zn.isUndefined(v)&&e.append(f,r(v))});return}}n(c,f)}}),i.pop()}else e.append(l,r(o))}return n(t),e}QC.exports=I4});var tP=W((Uue,eP)=>{"use strict";var Gy=ka();eP.exports=function(e,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):i(new Gy("Request failed with status code "+r.status,[Gy.ERR_BAD_REQUEST,Gy.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var rP=W((Bue,iP)=>{"use strict";var Uh=Di();iP.exports=Uh.isStandardBrowserEnv()?function(){return{write:function(i,r,n,o,l,u){var c=[];c.push(i+"="+encodeURIComponent(r)),Uh.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Uh.isString(o)&&c.push("path="+o),Uh.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var oP=W((Wue,nP)=>{"use strict";nP.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var aP=W(($ue,sP)=>{"use strict";sP.exports=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}});var Ky=W((Vue,lP)=>{"use strict";var A4=oP(),T4=aP();lP.exports=function(e,i){return e&&!A4(i)?T4(e,i):i}});var cP=W((jue,uP)=>{"use strict";var Yy=Di(),M4=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];uP.exports=function(e){var i={},r,n,o;return e&&Yy.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),r=Yy.trim(u.substr(0,o)).toLowerCase(),n=Yy.trim(u.substr(o+1)),r){if(i[r]&&M4.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i}});var hP=W((Gue,pP)=>{"use strict";var dP=Di();pP.exports=dP.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(o){var l=o;return e&&(i.setAttribute("href",l),l=i.href),i.setAttribute("href",l),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(l){var u=dP.isString(l)?n(l):l;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}()});var Xc=W((Kue,mP)=>{"use strict";var Xy=ka(),R4=Di();function fP(t){Xy.call(this,t??"canceled",Xy.ERR_CANCELED),this.name="CanceledError"}R4.inherits(fP,Xy,{__CANCEL__:!0});mP.exports=fP});var vP=W((Yue,gP)=>{"use strict";gP.exports=function(e){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}});var Zy=W((Xue,yP)=>{"use strict";var Zc=Di(),N4=tP(),k4=rP(),O4=$y(),D4=Ky(),L4=cP(),F4=hP(),z4=Vy(),Xo=ka(),q4=Xc(),H4=vP();yP.exports=function(e){return new Promise(function(r,n){var o=e.data,l=e.headers,u=e.responseType,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}Zc.isFormData(o)&&Zc.isStandardBrowserEnv()&&delete l["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(g+":"+v)}var S=D4(e.baseURL,e.url);f.open(e.method.toUpperCase(),O4(S,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function E(){if(f){var I="getAllResponseHeaders"in f?L4(f.getAllResponseHeaders()):null,L=!u||u==="text"||u==="json"?f.responseText:f.response,F={data:L,status:f.status,statusText:f.statusText,headers:I,config:e,request:f};N4(function(H){r(H),d()},function(H){n(H),d()},F),f=null}}if("onloadend"in f?f.onloadend=E:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(E)},f.onabort=function(){f&&(n(new Xo("Request aborted",Xo.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Xo("Network Error",Xo.ERR_NETWORK,e,f,f)),f=null},f.ontimeout=function(){var L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",F=e.transitional||z4;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),n(new Xo(L,F.clarifyTimeoutError?Xo.ETIMEDOUT:Xo.ECONNABORTED,e,f)),f=null},Zc.isStandardBrowserEnv()){var _=(e.withCredentials||F4(S))&&e.xsrfCookieName?k4.read(e.xsrfCookieName):void 0;_&&(l[e.xsrfHeaderName]=_)}"setRequestHeader"in f&&Zc.forEach(l,function(L,F){typeof o>"u"&&F.toLowerCase()==="content-type"?delete l[F]:f.setRequestHeader(F,L)}),Zc.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),u&&u!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(I){f&&(n(!I||I&&I.type?new q4:I),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),o||(o=null);var P=H4(S);if(P&&["http","https","file"].indexOf(P)===-1){n(new Xo("Unsupported protocol "+P+":",Xo.ERR_BAD_REQUEST,e));return}f.send(o)})}});var wP=W((Zue,bP)=>{bP.exports=null});var Wh=W((Jue,EP)=>{"use strict";var Li=Di(),xP=GC(),SP=ka(),U4=Vy(),B4=jy(),W4={"Content-Type":"application/x-www-form-urlencoded"};function _P(t,e){!Li.isUndefined(t)&&Li.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function $4(){var t;return typeof XMLHttpRequest<"u"?t=Zy():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=Zy()),t}function V4(t,e,i){if(Li.isString(t))try{return(e||JSON.parse)(t),Li.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}var Bh={transitional:U4,adapter:$4(),transformRequest:[function(e,i){if(xP(i,"Accept"),xP(i,"Content-Type"),Li.isFormData(e)||Li.isArrayBuffer(e)||Li.isBuffer(e)||Li.isStream(e)||Li.isFile(e)||Li.isBlob(e))return e;if(Li.isArrayBufferView(e))return e.buffer;if(Li.isURLSearchParams(e))return _P(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Li.isObject(e),n=i&&i["Content-Type"],o;if((o=Li.isFileList(e))||r&&n==="multipart/form-data"){var l=this.env&&this.env.FormData;return B4(o?{"files[]":e}:e,l&&new l)}else if(r||n==="application/json")return _P(i,"application/json"),V4(e);return e}],transformResponse:[function(e){var i=this.transitional||Bh.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||n&&Li.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?SP.from(l,SP.ERR_BAD_RESPONSE,this,null,this.response):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wP()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Li.forEach(["delete","get","head"],function(e){Bh.headers[e]={}});Li.forEach(["post","put","patch"],function(e){Bh.headers[e]=Li.merge(W4)});EP.exports=Bh});var PP=W((Que,CP)=>{"use strict";var j4=Di(),G4=Wh();CP.exports=function(e,i,r){var n=this||G4;return j4.forEach(r,function(l){e=l.call(n,e,i)}),e}});var Jy=W((ece,IP)=>{"use strict";IP.exports=function(e){return!!(e&&e.__CANCEL__)}});var MP=W((tce,TP)=>{"use strict";var AP=Di(),Qy=PP(),K4=Jy(),Y4=Wh(),X4=Xc();function eb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new X4}TP.exports=function(e){eb(e),e.headers=e.headers||{},e.data=Qy.call(e,e.data,e.headers,e.transformRequest),e.headers=AP.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),AP.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var i=e.adapter||Y4.adapter;return i(e).then(function(n){return eb(e),n.data=Qy.call(e,n.data,n.headers,e.transformResponse),n},function(n){return K4(n)||(eb(e),n&&n.response&&(n.response.data=Qy.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var tb=W((ice,RP)=>{"use strict";var Zr=Di();RP.exports=function(e,i){i=i||{};var r={};function n(f,g){return Zr.isPlainObject(f)&&Zr.isPlainObject(g)?Zr.merge(f,g):Zr.isPlainObject(g)?Zr.merge({},g):Zr.isArray(g)?g.slice():g}function o(f){if(Zr.isUndefined(i[f])){if(!Zr.isUndefined(e[f]))return n(void 0,e[f])}else return n(e[f],i[f])}function l(f){if(!Zr.isUndefined(i[f]))return n(void 0,i[f])}function u(f){if(Zr.isUndefined(i[f])){if(!Zr.isUndefined(e[f]))return n(void 0,e[f])}else return n(void 0,i[f])}function c(f){if(f in i)return n(e[f],i[f]);if(f in e)return n(void 0,e[f])}var d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return Zr.forEach(Object.keys(e).concat(Object.keys(i)),function(g){var v=d[g]||o,S=v(g);Zr.isUndefined(S)&&v!==c||(r[g]=S)}),r}});var ib=W((rce,NP)=>{NP.exports={version:"0.27.2"}});var DP=W((nce,OP)=>{"use strict";var Z4=ib().version,As=ka(),rb={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){rb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var kP={};rb.transitional=function(e,i,r){function n(o,l){return"[Axios v"+Z4+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return function(o,l,u){if(e===!1)throw new As(n(l," has been removed"+(i?" in "+i:"")),As.ERR_DEPRECATED);return i&&!kP[l]&&(kP[l]=!0,console.warn(n(l," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,l,u):!0}};function J4(t,e,i){if(typeof t!="object")throw new As("options must be an object",As.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),n=r.length;n-- >0;){var o=r[n],l=e[o];if(l){var u=t[o],c=u===void 0||l(u,o,t);if(c!==!0)throw new As("option "+o+" must be "+c,As.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new As("Unknown option "+o,As.ERR_BAD_OPTION)}}OP.exports={assertOptions:J4,validators:rb}});var UP=W((oce,HP)=>{"use strict";var zP=Di(),Q4=$y(),LP=VC(),FP=MP(),$h=tb(),e9=Ky(),qP=DP(),ql=qP.validators;function Hl(t){this.defaults=t,this.interceptors={request:new LP,response:new LP}}Hl.prototype.request=function(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=$h(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&qP.assertOptions(r,{silentJSONParsing:ql.transitional(ql.boolean),forcedJSONParsing:ql.transitional(ql.boolean),clarifyTimeoutError:ql.transitional(ql.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(i)===!1||(o=o&&S.synchronous,n.unshift(S.fulfilled,S.rejected))});var l=[];this.interceptors.response.forEach(function(S){l.push(S.fulfilled,S.rejected)});var u;if(!o){var c=[FP,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(l),u=Promise.resolve(i);c.length;)u=u.then(c.shift(),c.shift());return u}for(var d=i;n.length;){var f=n.shift(),g=n.shift();try{d=f(d)}catch(v){g(v);break}}try{u=FP(d)}catch(v){return Promise.reject(v)}for(;l.length;)u=u.then(l.shift(),l.shift());return u};Hl.prototype.getUri=function(e){e=$h(this.defaults,e);var i=e9(e.baseURL,e.url);return Q4(i,e.params,e.paramsSerializer)};zP.forEach(["delete","get","head","options"],function(e){Hl.prototype[e]=function(i,r){return this.request($h(r||{},{method:e,url:i,data:(r||{}).data}))}});zP.forEach(["post","put","patch"],function(e){function i(r){return function(o,l,u){return this.request($h(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Hl.prototype[e]=i(),Hl.prototype[e+"Form"]=i(!0)});HP.exports=Hl});var WP=W((sce,BP)=>{"use strict";var t9=Xc();function Ul(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var i=this;this.promise.then(function(r){if(i._listeners){var n,o=i._listeners.length;for(n=0;n<o;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,o=new Promise(function(l){i.subscribe(l),n=l}).then(r);return o.cancel=function(){i.unsubscribe(n)},o},t(function(n){i.reason||(i.reason=new t9(n),e(i.reason))})}Ul.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ul.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Ul.prototype.unsubscribe=function(e){if(this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};Ul.source=function(){var e,i=new Ul(function(n){e=n});return{token:i,cancel:e}};BP.exports=Ul});var VP=W((ace,$P)=>{"use strict";$P.exports=function(e){return function(r){return e.apply(null,r)}}});var GP=W((lce,jP)=>{"use strict";var i9=Di();jP.exports=function(e){return i9.isObject(e)&&e.isAxiosError===!0}});var XP=W((uce,nb)=>{"use strict";var KP=Di(),r9=Fy(),Vh=UP(),n9=tb(),o9=Wh();function YP(t){var e=new Vh(t),i=r9(Vh.prototype.request,e);return KP.extend(i,Vh.prototype,e),KP.extend(i,e),i.create=function(n){return YP(n9(t,n))},i}var kr=YP(o9);kr.Axios=Vh;kr.CanceledError=Xc();kr.CancelToken=WP();kr.isCancel=Jy();kr.VERSION=ib().version;kr.toFormData=jy();kr.AxiosError=ka();kr.Cancel=kr.CanceledError;kr.all=function(e){return Promise.all(e)};kr.spread=VP();kr.isAxiosError=GP();nb.exports=kr;nb.exports.default=kr});var yn=W((cce,ZP)=>{ZP.exports=XP()});function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}var ob=T(()=>{});function sb(t,e){if(Ts(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JP=T(()=>{ob()});function ab(t){var e=sb(t,"string");return Ts(e)=="symbol"?e:String(e)}var QP=T(()=>{ob();JP()});function lb(t,e,i){return e=ab(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var eI=T(()=>{QP()});function tI(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function jh(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(i),!0).forEach(function(r){lb(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tI(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var iI=T(()=>{eI()});var oI={};ti(oI,{__DO_NOT_USE__ActionTypes:()=>Jc,applyMiddleware:()=>cb,bindActionCreators:()=>Pt,combineReducers:()=>qn,compose:()=>Gh,createStore:()=>Qc,legacy_createStore:()=>a9});function Zi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}function s9(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Qc(t,e,i){var r;if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Zi(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Zi(1));return i(Qc)(t,e)}if(typeof t!="function")throw new Error(Zi(2));var n=t,o=e,l=[],u=l,c=!1;function d(){u===l&&(u=l.slice())}function f(){if(c)throw new Error(Zi(3));return o}function g(_){if(typeof _!="function")throw new Error(Zi(4));if(c)throw new Error(Zi(5));var P=!0;return d(),u.push(_),function(){if(P){if(c)throw new Error(Zi(6));P=!1,d();var L=u.indexOf(_);u.splice(L,1),l=null}}}function v(_){if(!s9(_))throw new Error(Zi(7));if(typeof _.type>"u")throw new Error(Zi(8));if(c)throw new Error(Zi(9));try{c=!0,o=n(o,_)}finally{c=!1}for(var P=l=u,I=0;I<P.length;I++){var L=P[I];L()}return _}function S(_){if(typeof _!="function")throw new Error(Zi(10));n=_,v({type:Jc.REPLACE})}function E(){var _,P=g;return _={subscribe:function(L){if(typeof L!="object"||L===null)throw new Error(Zi(11));function F(){L.next&&L.next(f())}F();var z=P(F);return{unsubscribe:z}}},_[rI]=function(){return this},_}return v({type:Jc.INIT}),r={dispatch:v,subscribe:g,getState:f,replaceReducer:S},r[rI]=E,r}function l9(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:Jc.INIT});if(typeof r>"u")throw new Error(Zi(12));if(typeof i(void 0,{type:Jc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zi(13))})}function qn(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var n=e[r];typeof t[n]=="function"&&(i[n]=t[n])}var o=Object.keys(i),l,u;try{l9(i)}catch(c){u=c}return function(d,f){if(d===void 0&&(d={}),u)throw u;if(0)var g;for(var v=!1,S={},E=0;E<o.length;E++){var _=o[E],P=i[_],I=d[_],L=P(I,f);if(typeof L>"u"){var F=f&&f.type;throw new Error(Zi(14))}S[_]=L,v=v||L!==I}return v=v||o.length!==Object.keys(d).length,v?S:d}}function nI(t,e){return function(){return e(t.apply(this,arguments))}}function Pt(t,e){if(typeof t=="function")return nI(t,e);if(typeof t!="object"||t===null)throw new Error(Zi(16));var i={};for(var r in t){var n=t[r];typeof n=="function"&&(i[r]=nI(n,e))}return i}function Gh(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function cb(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return function(){var n=r.apply(void 0,arguments),o=function(){throw new Error(Zi(15))},l={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=e.map(function(c){return c(l)});return o=Gh.apply(void 0,u)(n.dispatch),jh(jh({},n),{},{dispatch:o})}}}var rI,ub,Jc,a9,ai=T(()=>{iI();rI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ub=function(){return Math.random().toString(36).substring(7).split("").join(".")},Jc={INIT:"@@redux/INIT"+ub(),REPLACE:"@@redux/REPLACE"+ub(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ub()}};a9=Qc});var db=W(Hn=>{"use strict";Hn.__esModule=!0;Hn.createDynamicMiddlewares=Hn.resetMiddlewares=Hn.removeMiddleware=Hn.addMiddleware=void 0;var u9=(ai(),Sc(oI)),sI=function(){var e=[],i=[],r=void 0,n=function(d){return r=d,function(f){return function(g){return u9.compose.apply(void 0,i)(f)(g)}}},o=function(){for(var d,f,g=arguments.length,v=Array(g),S=0;S<g;S++)v[S]=arguments[S];(d=i).push.apply(d,v.map(function(E){return E(r)})),(f=e).push.apply(f,v)},l=function(d){var f=e.findIndex(function(g){return g===d});if(f===-1){console.error("Middleware does not exist!",d);return}e=e.filter(function(g,v){return v!==f}),i=i.filter(function(g,v){return v!==f})},u=function(){i=[],e=[]};return{enhancer:n,addMiddleware:o,removeMiddleware:l,resetMiddlewares:u}},Kh=sI();Hn.default=Kh.enhancer;var c9=Kh.addMiddleware,d9=Kh.removeMiddleware,p9=Kh.resetMiddlewares;Hn.addMiddleware=c9;Hn.removeMiddleware=d9;Hn.resetMiddlewares=p9;Hn.createDynamicMiddlewares=sI});function aI(t){var e=function(r){var n=r.dispatch,o=r.getState;return function(l){return function(u){return typeof u=="function"?u(n,o,t):l(u)}}};return e}var lI,uI,cI=T(()=>{lI=aI();lI.withExtraArgument=aI;uI=lI});var pI=W((Ece,dI)=>{function h9(){this.__data__=[],this.size=0}dI.exports=h9});var Bl=W((Cce,hI)=>{function f9(t,e){return t===e||t!==t&&e!==e}hI.exports=f9});var ed=W((Pce,fI)=>{var m9=Bl();function g9(t,e){for(var i=t.length;i--;)if(m9(t[i][0],e))return i;return-1}fI.exports=g9});var gI=W((Ice,mI)=>{var v9=ed(),y9=Array.prototype,b9=y9.splice;function w9(t){var e=this.__data__,i=v9(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():b9.call(e,i,1),--this.size,!0}mI.exports=w9});var yI=W((Ace,vI)=>{var x9=ed();function S9(t){var e=this.__data__,i=x9(e,t);return i<0?void 0:e[i][1]}vI.exports=S9});var wI=W((Tce,bI)=>{var _9=ed();function E9(t){return _9(this.__data__,t)>-1}bI.exports=E9});var SI=W((Mce,xI)=>{var C9=ed();function P9(t,e){var i=this.__data__,r=C9(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}xI.exports=P9});var td=W((Rce,_I)=>{var I9=pI(),A9=gI(),T9=yI(),M9=wI(),R9=SI();function Wl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Wl.prototype.clear=I9;Wl.prototype.delete=A9;Wl.prototype.get=T9;Wl.prototype.has=M9;Wl.prototype.set=R9;_I.exports=Wl});var CI=W((Nce,EI)=>{var N9=td();function k9(){this.__data__=new N9,this.size=0}EI.exports=k9});var II=W((kce,PI)=>{function O9(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}PI.exports=O9});var TI=W((Oce,AI)=>{function D9(t){return this.__data__.get(t)}AI.exports=D9});var RI=W((Dce,MI)=>{function L9(t){return this.__data__.has(t)}MI.exports=L9});var pb=W((Lce,NI)=>{var F9=typeof global=="object"&&global&&global.Object===Object&&global;NI.exports=F9});var Un=W((Fce,kI)=>{var z9=pb(),q9=typeof self=="object"&&self&&self.Object===Object&&self,H9=z9||q9||Function("return this")();kI.exports=H9});var id=W((zce,OI)=>{var U9=Un(),B9=U9.Symbol;OI.exports=B9});var zI=W((qce,FI)=>{var DI=id(),LI=Object.prototype,W9=LI.hasOwnProperty,$9=LI.toString,rd=DI?DI.toStringTag:void 0;function V9(t){var e=W9.call(t,rd),i=t[rd];try{t[rd]=void 0;var r=!0}catch{}var n=$9.call(t);return r&&(e?t[rd]=i:delete t[rd]),n}FI.exports=V9});var HI=W((Hce,qI)=>{var j9=Object.prototype,G9=j9.toString;function K9(t){return G9.call(t)}qI.exports=K9});var Oa=W((Uce,WI)=>{var UI=id(),Y9=zI(),X9=HI(),Z9="[object Null]",J9="[object Undefined]",BI=UI?UI.toStringTag:void 0;function Q9(t){return t==null?t===void 0?J9:Z9:BI&&BI in Object(t)?Y9(t):X9(t)}WI.exports=Q9});var lo=W((Bce,$I)=>{function e8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}$I.exports=e8});var Yh=W((Wce,VI)=>{var t8=Oa(),i8=lo(),r8="[object AsyncFunction]",n8="[object Function]",o8="[object GeneratorFunction]",s8="[object Proxy]";function a8(t){if(!i8(t))return!1;var e=t8(t);return e==n8||e==o8||e==r8||e==s8}VI.exports=a8});var GI=W(($ce,jI)=>{var l8=Un(),u8=l8["__core-js_shared__"];jI.exports=u8});var XI=W((Vce,YI)=>{var hb=GI(),KI=function(){var t=/[^.]+$/.exec(hb&&hb.keys&&hb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function c8(t){return!!KI&&KI in t}YI.exports=c8});var fb=W((jce,ZI)=>{var d8=Function.prototype,p8=d8.toString;function h8(t){if(t!=null){try{return p8.call(t)}catch{}try{return t+""}catch{}}return""}ZI.exports=h8});var QI=W((Gce,JI)=>{var f8=Yh(),m8=XI(),g8=lo(),v8=fb(),y8=/[\\^$.*+?()[\]{}|]/g,b8=/^\[object .+?Constructor\]$/,w8=Function.prototype,x8=Object.prototype,S8=w8.toString,_8=x8.hasOwnProperty,E8=RegExp("^"+S8.call(_8).replace(y8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C8(t){if(!g8(t)||m8(t))return!1;var e=f8(t)?E8:b8;return e.test(v8(t))}JI.exports=C8});var tA=W((Kce,eA)=>{function P8(t,e){return t?.[e]}eA.exports=P8});var Ms=W((Yce,iA)=>{var I8=QI(),A8=tA();function T8(t,e){var i=A8(t,e);return I8(i)?i:void 0}iA.exports=T8});var Xh=W((Xce,rA)=>{var M8=Ms(),R8=Un(),N8=M8(R8,"Map");rA.exports=N8});var nd=W((Zce,nA)=>{var k8=Ms(),O8=k8(Object,"create");nA.exports=O8});var aA=W((Jce,sA)=>{var oA=nd();function D8(){this.__data__=oA?oA(null):{},this.size=0}sA.exports=D8});var uA=W((Qce,lA)=>{function L8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}lA.exports=L8});var dA=W((ede,cA)=>{var F8=nd(),z8="__lodash_hash_undefined__",q8=Object.prototype,H8=q8.hasOwnProperty;function U8(t){var e=this.__data__;if(F8){var i=e[t];return i===z8?void 0:i}return H8.call(e,t)?e[t]:void 0}cA.exports=U8});var hA=W((tde,pA)=>{var B8=nd(),W8=Object.prototype,$8=W8.hasOwnProperty;function V8(t){var e=this.__data__;return B8?e[t]!==void 0:$8.call(e,t)}pA.exports=V8});var mA=W((ide,fA)=>{var j8=nd(),G8="__lodash_hash_undefined__";function K8(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=j8&&e===void 0?G8:e,this}fA.exports=K8});var vA=W((rde,gA)=>{var Y8=aA(),X8=uA(),Z8=dA(),J8=hA(),Q8=mA();function $l(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}$l.prototype.clear=Y8;$l.prototype.delete=X8;$l.prototype.get=Z8;$l.prototype.has=J8;$l.prototype.set=Q8;gA.exports=$l});var wA=W((nde,bA)=>{var yA=vA(),e7=td(),t7=Xh();function i7(){this.size=0,this.__data__={hash:new yA,map:new(t7||e7),string:new yA}}bA.exports=i7});var SA=W((ode,xA)=>{function r7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}xA.exports=r7});var od=W((sde,_A)=>{var n7=SA();function o7(t,e){var i=t.__data__;return n7(e)?i[typeof e=="string"?"string":"hash"]:i.map}_A.exports=o7});var CA=W((ade,EA)=>{var s7=od();function a7(t){var e=s7(this,t).delete(t);return this.size-=e?1:0,e}EA.exports=a7});var IA=W((lde,PA)=>{var l7=od();function u7(t){return l7(this,t).get(t)}PA.exports=u7});var TA=W((ude,AA)=>{var c7=od();function d7(t){return c7(this,t).has(t)}AA.exports=d7});var RA=W((cde,MA)=>{var p7=od();function h7(t,e){var i=p7(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}MA.exports=h7});var Zh=W((dde,NA)=>{var f7=wA(),m7=CA(),g7=IA(),v7=TA(),y7=RA();function Vl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=f7;Vl.prototype.delete=m7;Vl.prototype.get=g7;Vl.prototype.has=v7;Vl.prototype.set=y7;NA.exports=Vl});var OA=W((pde,kA)=>{var b7=td(),w7=Xh(),x7=Zh(),S7=200;function _7(t,e){var i=this.__data__;if(i instanceof b7){var r=i.__data__;if(!w7||r.length<S7-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new x7(r)}return i.set(t,e),this.size=i.size,this}kA.exports=_7});var Jh=W((hde,DA)=>{var E7=td(),C7=CI(),P7=II(),I7=TI(),A7=RI(),T7=OA();function jl(t){var e=this.__data__=new E7(t);this.size=e.size}jl.prototype.clear=C7;jl.prototype.delete=P7;jl.prototype.get=I7;jl.prototype.has=A7;jl.prototype.set=T7;DA.exports=jl});var mb=W((fde,LA)=>{var M7=Ms(),R7=function(){try{var t=M7(Object,"defineProperty");return t({},"",{}),t}catch{}}();LA.exports=R7});var Qh=W((mde,zA)=>{var FA=mb();function N7(t,e,i){e=="__proto__"&&FA?FA(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}zA.exports=N7});var gb=W((gde,qA)=>{var k7=Qh(),O7=Bl();function D7(t,e,i){(i!==void 0&&!O7(t[e],i)||i===void 0&&!(e in t))&&k7(t,e,i)}qA.exports=D7});var UA=W((vde,HA)=>{function L7(t){return function(e,i,r){for(var n=-1,o=Object(e),l=r(e),u=l.length;u--;){var c=l[t?u:++n];if(i(o[c],c,o)===!1)break}return e}}HA.exports=L7});var WA=W((yde,BA)=>{var F7=UA(),z7=F7();BA.exports=z7});var KA=W((sd,Gl)=>{var q7=Un(),GA=typeof sd=="object"&&sd&&!sd.nodeType&&sd,$A=GA&&typeof Gl=="object"&&Gl&&!Gl.nodeType&&Gl,H7=$A&&$A.exports===GA,VA=H7?q7.Buffer:void 0,jA=VA?VA.allocUnsafe:void 0;function U7(t,e){if(e)return t.slice();var i=t.length,r=jA?jA(i):new t.constructor(i);return t.copy(r),r}Gl.exports=U7});var vb=W((bde,YA)=>{var B7=Un(),W7=B7.Uint8Array;YA.exports=W7});var JA=W((wde,ZA)=>{var XA=vb();function $7(t){var e=new t.constructor(t.byteLength);return new XA(e).set(new XA(t)),e}ZA.exports=$7});var eT=W((xde,QA)=>{var V7=JA();function j7(t,e){var i=e?V7(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}QA.exports=j7});var iT=W((Sde,tT)=>{function G7(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}tT.exports=G7});var oT=W((_de,nT)=>{var K7=lo(),rT=Object.create,Y7=function(){function t(){}return function(e){if(!K7(e))return{};if(rT)return rT(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();nT.exports=Y7});var yb=W((Ede,sT)=>{function X7(t,e){return function(i){return t(e(i))}}sT.exports=X7});var ef=W((Cde,aT)=>{var Z7=yb(),J7=Z7(Object.getPrototypeOf,Object);aT.exports=J7});var tf=W((Pde,lT)=>{var Q7=Object.prototype;function ej(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Q7;return t===i}lT.exports=ej});var cT=W((Ide,uT)=>{var tj=oT(),ij=ef(),rj=tf();function nj(t){return typeof t.constructor=="function"&&!rj(t)?tj(ij(t)):{}}uT.exports=nj});var Rs=W((Ade,dT)=>{function oj(t){return t!=null&&typeof t=="object"}dT.exports=oj});var hT=W((Tde,pT)=>{var sj=Oa(),aj=Rs(),lj="[object Arguments]";function uj(t){return aj(t)&&sj(t)==lj}pT.exports=uj});var rf=W((Mde,gT)=>{var fT=hT(),cj=Rs(),mT=Object.prototype,dj=mT.hasOwnProperty,pj=mT.propertyIsEnumerable,hj=fT(function(){return arguments}())?fT:function(t){return cj(t)&&dj.call(t,"callee")&&!pj.call(t,"callee")};gT.exports=hj});var uo=W((Rde,vT)=>{var fj=Array.isArray;vT.exports=fj});var nf=W((Nde,yT)=>{var mj=9007199254740991;function gj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mj}yT.exports=gj});var ad=W((kde,bT)=>{var vj=Yh(),yj=nf();function bj(t){return t!=null&&yj(t.length)&&!vj(t)}bT.exports=bj});var xT=W((Ode,wT)=>{var wj=ad(),xj=Rs();function Sj(t){return xj(t)&&wj(t)}wT.exports=Sj});var _T=W((Dde,ST)=>{function _j(){return!1}ST.exports=_j});var of=W((ld,Kl)=>{var Ej=Un(),Cj=_T(),PT=typeof ld=="object"&&ld&&!ld.nodeType&&ld,ET=PT&&typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,Pj=ET&&ET.exports===PT,CT=Pj?Ej.Buffer:void 0,Ij=CT?CT.isBuffer:void 0,Aj=Ij||Cj;Kl.exports=Aj});var TT=W((Lde,AT)=>{var Tj=Oa(),Mj=ef(),Rj=Rs(),Nj="[object Object]",kj=Function.prototype,Oj=Object.prototype,IT=kj.toString,Dj=Oj.hasOwnProperty,Lj=IT.call(Object);function Fj(t){if(!Rj(t)||Tj(t)!=Nj)return!1;var e=Mj(t);if(e===null)return!0;var i=Dj.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&IT.call(i)==Lj}AT.exports=Fj});var RT=W((Fde,MT)=>{var zj=Oa(),qj=nf(),Hj=Rs(),Uj="[object Arguments]",Bj="[object Array]",Wj="[object Boolean]",$j="[object Date]",Vj="[object Error]",jj="[object Function]",Gj="[object Map]",Kj="[object Number]",Yj="[object Object]",Xj="[object RegExp]",Zj="[object Set]",Jj="[object String]",Qj="[object WeakMap]",eG="[object ArrayBuffer]",tG="[object DataView]",iG="[object Float32Array]",rG="[object Float64Array]",nG="[object Int8Array]",oG="[object Int16Array]",sG="[object Int32Array]",aG="[object Uint8Array]",lG="[object Uint8ClampedArray]",uG="[object Uint16Array]",cG="[object Uint32Array]",Yt={};Yt[iG]=Yt[rG]=Yt[nG]=Yt[oG]=Yt[sG]=Yt[aG]=Yt[lG]=Yt[uG]=Yt[cG]=!0;Yt[Uj]=Yt[Bj]=Yt[eG]=Yt[Wj]=Yt[tG]=Yt[$j]=Yt[Vj]=Yt[jj]=Yt[Gj]=Yt[Kj]=Yt[Yj]=Yt[Xj]=Yt[Zj]=Yt[Jj]=Yt[Qj]=!1;function dG(t){return Hj(t)&&qj(t.length)&&!!Yt[zj(t)]}MT.exports=dG});var kT=W((zde,NT)=>{function pG(t){return function(e){return t(e)}}NT.exports=pG});var DT=W((ud,Yl)=>{var hG=pb(),OT=typeof ud=="object"&&ud&&!ud.nodeType&&ud,cd=OT&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,fG=cd&&cd.exports===OT,bb=fG&&hG.process,mG=function(){try{var t=cd&&cd.require&&cd.require("util").types;return t||bb&&bb.binding&&bb.binding("util")}catch{}}();Yl.exports=mG});var sf=W((qde,zT)=>{var gG=RT(),vG=kT(),LT=DT(),FT=LT&&LT.isTypedArray,yG=FT?vG(FT):gG;zT.exports=yG});var wb=W((Hde,qT)=>{function bG(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}qT.exports=bG});var xb=W((Ude,HT)=>{var wG=Qh(),xG=Bl(),SG=Object.prototype,_G=SG.hasOwnProperty;function EG(t,e,i){var r=t[e];(!(_G.call(t,e)&&xG(r,i))||i===void 0&&!(e in t))&&wG(t,e,i)}HT.exports=EG});var BT=W((Bde,UT)=>{var CG=xb(),PG=Qh();function IG(t,e,i,r){var n=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?PG(i,u,c):CG(i,u,c)}return i}UT.exports=IG});var $T=W((Wde,WT)=>{function AG(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}WT.exports=AG});var dd=W(($de,VT)=>{var TG=9007199254740991,MG=/^(?:0|[1-9]\d*)$/;function RG(t,e){var i=typeof t;return e=e??TG,!!e&&(i=="number"||i!="symbol"&&MG.test(t))&&t>-1&&t%1==0&&t<e}VT.exports=RG});var Sb=W((Vde,jT)=>{var NG=$T(),kG=rf(),OG=uo(),DG=of(),LG=dd(),FG=sf(),zG=Object.prototype,qG=zG.hasOwnProperty;function HG(t,e){var i=OG(t),r=!i&&kG(t),n=!i&&!r&&DG(t),o=!i&&!r&&!n&&FG(t),l=i||r||n||o,u=l?NG(t.length,String):[],c=u.length;for(var d in t)(e||qG.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||LG(d,c)))&&u.push(d);return u}jT.exports=HG});var KT=W((jde,GT)=>{function UG(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}GT.exports=UG});var ZT=W((Gde,XT)=>{var BG=lo(),WG=tf(),$G=KT(),VG=Object.prototype,jG=VG.hasOwnProperty;function GG(t){if(!BG(t))return $G(t);var e=WG(t),i=[];for(var r in t)r=="constructor"&&(e||!jG.call(t,r))||i.push(r);return i}XT.exports=GG});var af=W((Kde,JT)=>{var KG=Sb(),YG=ZT(),XG=ad();function ZG(t){return XG(t)?KG(t,!0):YG(t)}JT.exports=ZG});var eM=W((Yde,QT)=>{var JG=BT(),QG=af();function eK(t){return JG(t,QG(t))}QT.exports=eK});var sM=W((Xde,oM)=>{var tM=gb(),tK=KA(),iK=eT(),rK=iT(),nK=cT(),iM=rf(),rM=uo(),oK=xT(),sK=of(),aK=Yh(),lK=lo(),uK=TT(),cK=sf(),nM=wb(),dK=eM();function pK(t,e,i,r,n,o,l){var u=nM(t,i),c=nM(e,i),d=l.get(c);if(d){tM(t,i,d);return}var f=o?o(u,c,i+"",t,e,l):void 0,g=f===void 0;if(g){var v=rM(c),S=!v&&sK(c),E=!v&&!S&&cK(c);f=c,v||S||E?rM(u)?f=u:oK(u)?f=rK(u):S?(g=!1,f=tK(c,!0)):E?(g=!1,f=iK(c,!0)):f=[]:uK(c)||iM(c)?(f=u,iM(u)?f=dK(u):(!lK(u)||aK(u))&&(f=nK(c))):g=!1}g&&(l.set(c,f),n(f,c,r,o,l),l.delete(c)),tM(t,i,f)}oM.exports=pK});var uM=W((Zde,lM)=>{var hK=Jh(),fK=gb(),mK=WA(),gK=sM(),vK=lo(),yK=af(),bK=wb();function aM(t,e,i,r,n){t!==e&&mK(e,function(o,l){if(n||(n=new hK),vK(o))gK(t,e,l,i,aM,r,n);else{var u=r?r(bK(t,l),o,l+"",t,e,n):void 0;u===void 0&&(u=o),fK(t,l,u)}},yK)}lM.exports=aM});var lf=W((Jde,cM)=>{function wK(t){return t}cM.exports=wK});var pM=W((Qde,dM)=>{function xK(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}dM.exports=xK});var mM=W((epe,fM)=>{var SK=pM(),hM=Math.max;function _K(t,e,i){return e=hM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=hM(r.length-e,0),l=Array(o);++n<o;)l[n]=r[e+n];n=-1;for(var u=Array(e+1);++n<e;)u[n]=r[n];return u[e]=i(l),SK(t,this,u)}}fM.exports=_K});var vM=W((tpe,gM)=>{function EK(t){return function(){return t}}gM.exports=EK});var wM=W((ipe,bM)=>{var CK=vM(),yM=mb(),PK=lf(),IK=yM?function(t,e){return yM(t,"toString",{configurable:!0,enumerable:!1,value:CK(e),writable:!0})}:PK;bM.exports=IK});var SM=W((rpe,xM)=>{var AK=800,TK=16,MK=Date.now;function RK(t){var e=0,i=0;return function(){var r=MK(),n=TK-(r-i);if(i=r,n>0){if(++e>=AK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}xM.exports=RK});var EM=W((npe,_M)=>{var NK=wM(),kK=SM(),OK=kK(NK);_M.exports=OK});var PM=W((ope,CM)=>{var DK=lf(),LK=mM(),FK=EM();function zK(t,e){return FK(LK(t,e,DK),t+"")}CM.exports=zK});var AM=W((spe,IM)=>{var qK=Bl(),HK=ad(),UK=dd(),BK=lo();function WK(t,e,i){if(!BK(i))return!1;var r=typeof e;return(r=="number"?HK(i)&&UK(e,i.length):r=="string"&&e in i)?qK(i[e],t):!1}IM.exports=WK});var MM=W((ape,TM)=>{var $K=PM(),VK=AM();function jK(t){return $K(function(e,i){var r=-1,n=i.length,o=n>1?i[n-1]:void 0,l=n>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(n--,o):void 0,l&&VK(i[0],i[1],l)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var u=i[r];u&&t(e,u,r,o)}return e})}TM.exports=jK});var NM=W((lpe,RM)=>{var GK=uM(),KK=MM(),YK=KK(function(t,e,i){GK(t,e,i)});RM.exports=YK});function Da(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var _b=T(()=>{});function Eb(t={}){let e=t.promiseTypeSuffixes||XK,i=t.promiseTypeDelimiter||"_";return r=>{let{dispatch:n}=r;return o=>l=>{let u,c;if(l.payload){let I=l.payload;if(Da(I))u=I;else if(Da(I.promise))u=I.promise,c=I.data;else if(typeof I=="function"||typeof I.promise=="function"){if(u=I.promise?I.promise():I(),c=I.promise?I.data:void 0,!Da(u))return o({...l,payload:u})}else return o(l)}else return o(l);let d=l.type,f=l.meta,[g,v,S]=e,E=(I,L)=>({type:[d,L?S:v].join(i),...I===null||typeof I>"u"?{}:{payload:I},...f!==void 0?{meta:f}:{},...L?{error:!0}:{}}),_=I=>{let L=E(I,!0);n(L)},P=(I=null)=>{let L=E(I,!1);return n(L),{value:I,action:L}};return o({type:[d,g].join(i),...c!==void 0?{payload:c}:{},...f!==void 0?{meta:f}:{}}),u.then(P,_).catch(I=>{if(ue&&I.response)console.error("Request to",I.response.config.url,"failed with code",I.response.status);else{if(I&&I.response&&I.response.status===401){console.warn("No auth for request to",I.response.config.url);return}console.error(I)}}),u}}}var uf,cf,df,XK,Cb=T(()=>{_b();Re();uf="PENDING",cf="FULFILLED",df="REJECTED",XK=[uf,cf,df]});var Xl,Pb,La,pi,Ib,Fa,Ab,Tb,Ns=T(()=>{Xl="cargo.site",Pb="wss://w.s.cargo.site",La="https://u.cargo.site",pi="https://api.cargo.site/v1",Ib="https://cargo.site/_api",Fa="https://cargo.site",Ab="https://cargo.site/_api/v1-p",Tb="yjhpd2ug";switch("production"){case"localhost":case"local-ssr":Xl="local.dev.cargo.site",Pb="wss://ws.dev.cargo.site",La="https://u.local.dev.cargo.site",pi="https://api.dev.cargo.site/v1",Ib="https://dev.cargo.site/_api",Fa="https://dev.cargo.site",Ab="https://dev.cargo.site/_api/v1-p",Tb="na91uuyv";break;case"local-crdt":Xl="local.dev.cargo.site",Pb="wss://ws.local.dev.cargo.site:4443",La="https://u.local.dev.cargo.site",pi="https://api.dev.cargo.site/v1",Ib="https://dev.cargo.site/_api",Fa="https://dev.cargo.site",Ab="https://dev.cargo.site/_api/v1-p",Tb="na91uuyv";break;case"dev":Xl="dev.cargo.site",Pb="wss://ws.dev.cargo.site",La="https://u.dev.cargo.site",pi="https://api.dev.cargo.site/v1",Ib="https://dev.cargo.site/_api",Fa="https://dev.cargo.site",Ab="https://dev.cargo.site/_api/v1-p",Tb="na91uuyv";break}});function ZK(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:pf},put:function(r,n){e={key:r,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function JK(t,e){var i=[];function r(u){var c=i.findIndex(function(f){return e(u,f.key)});if(c>-1){var d=i[c];return c>0&&(i.splice(c,1),i.unshift(d)),d.value}return pf}function n(u,c){r(u)===pf&&(i.unshift({key:u,value:c}),i.length>t&&i.pop())}function o(){return i}function l(){i=[]}return{get:r,put:n,getEntries:o,clear:l}}function QK(t){return function(i,r){if(i===null||r===null||i.length!==r.length)return!1;for(var n=i.length,o=0;o<n;o++)if(!t(i[o],r[o]))return!1;return!0}}function OM(t,e){var i=typeof e=="object"?e:{equalityCheck:e},r=i.equalityCheck,n=r===void 0?kM:r,o=i.maxSize,l=o===void 0?1:o,u=i.resultEqualityCheck,c=QK(n),d=l===1?ZK(c):JK(l,c);function f(){var g=d.get(arguments);if(g===pf){if(g=t.apply(null,arguments),u){var v=d.getEntries(),S=v.find(function(E){return u(E.value,g)});S&&(g=S.value)}d.put(arguments,g)}return g}return f.clearCache=function(){return d.clear()},f}var pf,kM,DM=T(()=>{pf="NOT_FOUND";kM=function(e,i){return e===i}});function eY(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var i=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return e}function Mb(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var n=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=0,f,g={memoizeOptions:void 0},v=u.pop();if(typeof v=="object"&&(g=v,v=u.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var S=g,E=S.memoizeOptions,_=E===void 0?i:E,P=Array.isArray(_)?_:[_],I=eY(u),L=t.apply(void 0,[function(){return d++,v.apply(null,arguments)}].concat(P)),F=t(function(){for(var H=[],ie=I.length,X=0;X<ie;X++)H.push(I[X].apply(null,arguments));return f=L.apply(null,H),f});return Object.assign(F,{resultFunc:v,memoizedResultFunc:L,dependencies:I,lastResult:function(){return f},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),F};return n}var LM,FM=T(()=>{DM();LM=Mb(OM)});var Rb={};ti(Rb,{ADMIN_FRAME:()=>be,CRDTState:()=>Ut,FRONTEND_DATA:()=>hf});var be,hf,Ut,qt=T(()=>{be={adminWindow:null},hf={},Ut=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var bi,Je,hi,Qe,Ei=T(()=>{FM();bi=he(xe(),1);Re();qt();Je={};ue?hi=Mb(t=>t):hi=function(){return LM.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};Je.getItemParentId=(t,e)=>Je.flatByParentList(t)[e];Je.getHomepageId=t=>t.frontendState.isMobile?t.site?.mobile_homepage_id:t.site?.homepage_id;Je.getHomepagePurl=t=>Je.getContentById(t,Je.getHomepageId(t))?.purl?.toLowerCase();Je.getHiddenHomepageId=t=>{let e=t.site?.mobile_homepage_id,i=t.site?.homepage_id;return e===i?null:t.frontendState.isMobile?i:e};Je.flatByParentList=hi(t=>t.structure.byParent,t=>{let e={};for(let i in t)for(let r in t[i])e[t[i][r]]=i;return e});Je.getSetsByParent=hi(t=>t.structure.byParent,t=>t.sets.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});Je.getPagesByParent=hi(t=>t.structure.byParent,t=>t.pages.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});Je.getParentSetList=hi(Je.getItemParentId,Je.flatByParentList,(t,e)=>{let i=[];for(;t;)i.push(t),t=t!==e[t]?e[t]:null;return i});Je.getSetContents=hi((t,e)=>e,Je.getHomepageId,(t,e,i)=>i,(t,e,i)=>t.structure.bySort,(t,e)=>t.structure.byParent[e],t=>t.pages.byId,t=>t.sets.byId,(t,e,i={},r,n=[],o,l)=>{let u;return bi.default.without(n.map(c=>{if(u=o[c]||l[c],i.includeNotIndexable===!0||u&&(u.id===e||Fh(u)))return u}).sort((c,d)=>r[c.id]-r[d.id]),void 0)});Je.getSetContentsByIndex=hi(Je.getSetContents,(t,e,i)=>t.structure.indexById,(t,e)=>t.reduce((i,r)=>(i[e[r.id]]=r,i),{}));Je.getSetDepthsById=hi(t=>t.sets.byId,Je.flatByParentList,(t,e)=>{let i={};return Object.keys(t).forEach(r=>{let n=0,o=r;for(;e[o];)n++,o=e[o];i[r]=n}),i});Je.getPinsForSet=hi(Je.getParentSetList,Je.getSetDepthsById,(t,e,i,r)=>e,(t,e,i,r)=>i,(t,e,i,r)=>r,(t,e,i,r)=>t.structure.bySort,(t,e,i,r)=>t.pages.byId,Je.getPagesByParent,t=>t.frontendState.isMobile,(t,e,i,r,n,o,l={},u={},c)=>{if(!i)return[];let d=i,f=0,g={},v=[];return t.concat([i]).forEach(E=>{u[E]&&u[E].forEach(_=>{if(l[_]&&l[_].pin&&l[_].pin_options&&l[_].pin_options.position===r){if(_!==n&&(l[_].pin_options.screen_visibility==="mobile"&&!c||l[_].pin_options.screen_visibility==="desktop"&&c))return;v.push(l[_]),g[_]=l[_].pin_options.fixed?0:e[E]}})}),v.sort((E,_)=>{let P=o[E.id],I=o[_.id];return E.pin_options.fixed?P+=r==="bottom"?9e9:-9e9:E.pin_options.overlay&&(P+=r==="bottom"?9e5:-9e5),_.pin_options.fixed?I+=r==="bottom"?9e9:-9e9:_.pin_options.overlay&&(I+=r==="bottom"?9e5:-9e5),P-I}),v.sort((E,_)=>r==="bottom"?g[_.id]-g[E.id]:g[E.id]-g[_.id]),v});Je.getAutoRenderableOverlaysForSet=hi(Je.getParentSetList,Je.getSetDepthsById,(t,e,i)=>e,(t,e,i)=>i,(t,e,i)=>t.pages.byId,(t,e,i)=>t.frontendState.PIDToEdit,Je.getPagesByParent,(t,e,i,r,n={},o,l={})=>{if(!i||ue)return[];let u=i,c=0,d=[];return t.concat([i]).forEach(g=>{l[g]&&l[g].forEach(v=>{n[v]&&n[v].overlay&&(n[v].id===o||n[v].overlay_options?.openOnLoad||n[v].purl?.toLowerCase()===r?.toLowerCase())&&d.push(n[v])})}),d});Je.getContentById=hi((t,e)=>e,(t,e)=>t.pages.byId[e]||t.sets.byId[e],(t,e)=>e);Je.getContentByPurl=hi((t,e)=>e,(t,e)=>t.pages.byId[Je.getPagesByUrl(t)[e?.toLowerCase()]]||t.sets.byId[Je.getSetsByUrl(t)[e?.toLowerCase()]],(t,e)=>e);Je.getLoadedIndexesForSet=hi(Je.getSetContents,t=>t.structure.indexById,(t,e)=>bi.default.without(t.map(i=>{if(Fh(i))return e[i.id]}),void 0));Je.getMissingIndexesForSet=hi((t,e)=>t.sets.byId[e],Je.getLoadedIndexesForSet,(t,e)=>t?bi.default.difference([...Array(Math.max(t.page_count||0,0)).keys()],e):[]);Je.getSortedListOfIndexPairs=hi(t=>t,(t,e)=>e,(t,e)=>t.sets.byId,(t,e)=>t.structure.indexById,Je.getSetsByParent,(t,e,i,r,n)=>{let o=l=>{let u=Je.getContentById(t,l);if(!u)return[];let c=[...Array(Math.max(u.page_count||0,0)).keys()].map(d=>[u.id,d]);return n[u.id]&&(n[u.id]||[]).map(d=>i[d]).reverse().forEach(d=>{c.splice(r[d.id]+1,0,o(d.id))}),c};return bi.default.chunk(bi.default.flattenDeep(o(e)),2)});Je.getSortedListOfMissingIndexPairs=hi(t=>t,Je.getSortedListOfIndexPairs,(t,e)=>t.sets.byId,Je.getSetsByParent,(t,e,i,r)=>{let n=[];return bi.default.uniq(e.map(o=>o[0])).forEach(o=>{n=n.concat(Je.getLoadedIndexesForSet(t,o).map(l=>[o,l]))}),bi.default.differenceWith(e,n,bi.default.isEqual)});Je.getGappedSetMap=hi(t=>t,Je.getSortedListOfIndexPairs,Je.getSortedListOfMissingIndexPairs,(t,e,i)=>{let r=i[0];if(r){let n=bi.default.uniq(e.map(u=>u[0])).reduce((u,c)=>(u[c]=0,u),{}),o=bi.default.findIndex(e,u=>bi.default.isEqual(u,r)),l=bi.default.fromPairs(e.slice(0,o));return bi.default.merge(n,l)}return{}});Je.getPagesByUrl=hi(t=>t.pages.byId,t=>bi.default.transform(bi.default.omitBy(t,e=>e.crdt_state===Ut.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));Je.getSetsByUrl=hi(t=>t.sets.byId,t=>bi.default.transform(bi.default.omitBy(t,e=>e.crdt_state===Ut.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));Je.getMediaByHash=t=>{let e={};return bi.default.each(t.pages.byId,i=>{bi.default.each(i.media,r=>{r.crdt_state!==Ut.Deleted&&(e[r.hash]=r)})}),e};Je.getMediaByParent=hi(t=>t.pages.byId,t=>{let e={};return bi.default.each(t,i=>{e[i.id]=i.media?.filter(r=>r.crdt_state!==Ut.Deleted)}),e});Je.getRenderedPageModels=hi(t=>t.pages.byId,t=>t.frontendState.renderedPages,(t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0));Qe=Je});var Ob={};ti(Ob,{actionTypes:()=>Pe,actions:()=>Fe});var Jr,Ha,kb,Fe,tY,zM,Pe,ff,Nb,za,qa,Bt=T(()=>{Jr=he(yn(),1),Ha=he(xe(),1);Cb();Re();Ns();Ei();kb=he(xe(),1),Fe={},tY=ue?3e4:1e4,zM={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,Ha.each)(zM,function(t,e,i){i[t+"_"+cf]=e+"_"+cf,i[t+"_"+uf]=e+"_"+uf,i[t+"_"+df]=e+"_"+df});Pe=(0,Ha.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},zM);Fe.getAuthToken=function(t={}){let e=new Promise((i,r)=>{let n="https://cargo.site/accesstoken";if(t.reverse_bounce_jwt){parent.location.href=n+"/bounce?jwt="+t.reverse_bounce_jwt;return}if(t.bounce){parent.location.href=n+"/bounce?site_url="+t.site_url;return}let o={};t.site_url&&(o.site_url=t.site_url),t.site_id&&(o.site_id=t.site_id),t.jwt&&(o.jwt=t.jwt);let l={};t.nonce&&(l["x-cargo-access-token-nonce"]=t.nonce),Jr.default.get(n,{use_auth:!1,withCredentials:!0,params:o,headers:l,timeout:t?.timeout||tY}).then(function(u){if(!u||u.token===null)return r("No token found.");i(u)}).catch(u=>{r(u)})});return{type:Pe.AUTHENTICATE_USER,payload:e}};Fe.setAuthentication=t=>({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:t});Fe.rejectAuthentication=()=>({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}});Fe.fetchScaffolding=function(){return function(t,e){let r=`/pages/${e().site.id}/scaffolding`;return t({type:Pe.FETCH_SCAFFOLDING,payload:Jr.default.get(pi+r)})}};Fe.fetchFiles=function(){return function(t,e){let r=`/sites/${e().site.id}/media/files`;return t({type:Pe.FETCH_MEDIA,payload:Jr.default.get(pi+r)})}};Fe.fetchCommerceProducts=function(t={}){return t=kb.default.defaults(t,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,i){let r=i(),n=`/commerce/${r.site.id}/products`,o;if(t.idArray){n+="/list";let l=new FormData;if(t.idArray){let u=t.idArray.filter(c=>!(t.onlyNew===!0&&r.commerce.products.hasOwnProperty(c)));if(u.length===0)return Promise.resolve();u.forEach(c=>{l.append("ids[]",c)})}o=Jr.default.post(pi+n,l,{use_auth:!1})}else o=Jr.default.get(pi+n,{use_auth:!1,params:{order_by:t.orderBy,order_dir:t.orderDir,limit:t.limit}});return e({type:Pe.FETCH_COMMERCE_PRODUCTS,payload:o,meta:{options:t}})}};Fe.fetchShopModel=function(t={}){return function(e,i){let r=i();if(!r.site.shop_id)return Promise.resolve();let n=`/commerce/${r.site.id}/shop/${r.site.shop_id}`;return e({type:Pe.FETCH_SHOP_MODEL,payload:Jr.default.get(pi+n,{use_cache:t.force!==!0})})}};Fe.resetCommerceCart=function(){return{type:Pe.RESET_COMMERCE_CART,payload:{}}};Fe.addCommerceProductToCart=function(t,e,i={}){return function(r,n){let o=n(),l=o.commerce.products[t],u=l?.variants.find(c=>c.variant_id==e);if(!l||!u){i.failureCallback?.("Product not found");return}if((i.amount===void 0||isNaN(i.amount))&&(i.amount=1),u.inventory!==null&&i.amount>u.inventory)if(u.inventory<=0){i.failureCallback?.("Product is out of stock");return}else i.amount=u.inventory;return typeof i.callback=="function"&&i.callback(),r({type:Pe.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:u.product_id,variant_id:u.variant_id,quantity:i.amount},meta:{is_template:o.site.is_template}})}};ff=null,Nb=!1,za=[],qa=[];Fe.pageMounted=function(t){if(qa.includes(t)&&(qa=qa.filter(e=>e!==t)),!za.includes(t))return(e,i)=>(za.push(t),ff||(ff=new Promise(r=>{requestAnimationFrame(()=>{e({type:Pe.PAGES_MOUNTED,payload:{pages:[...za]}}),r(),ff=null,za=[]})})),ff)};Fe.pageUnMounted=function(t){if(za.includes(t)&&(za=za.filter(e=>e!==t)),!qa.includes(t))return(e,i)=>{if(i().frontendState.PIDBeingEdited===t?.id)return e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[t]}});qa.push(t),Nb||(Nb=!0,requestAnimationFrame(()=>{e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[...qa]}}),Nb=!1,qa=[]}))}};Fe.fetchSiteModel=function(){return function(t,e){let r=`/sites/${e().site.id}`,n=Jr.default.get(pi+r);return t({type:Pe.FETCH_SITE_MODEL,payload:n})}};Fe.fetchSiteCSS=function(){return function(t,e){let r=`/sites/${e().site.id}/css`,n=Jr.default.get(pi+r);return t({type:Pe.FETCH_SITE_CSS,payload:n})}};Fe.fetchSitePackage=function(){return function(t,e){let i=e(),r;ue?r=i.frontendState.hostname:r=Ma?Ry:window.location.hostname,Ty&&(r=r.replace("local.dev.cargo.site","dev.cargo.site"));let n=Jr.default.get(pi+`/package/${r}`);return t({type:Pe.FETCH_SITE_PACKAGE,payload:n})}};Fe.fetchSiteDesignModel=function(){return function(t,e){let r=`/sites/${e().site.id}/design`,n=Jr.default.get(pi+r);return t({type:Pe.FETCH_SITEDESIGN_MODEL,payload:n})}};Fe.fetchPagesByTag=function(t,e={}){return function(i,r){let n=store.getState(),o=Jr.default.get(pi+`/pages/${n.site.id}/tag/${t}`,{withCredentials:!0,use_cache:e.force!==!0});return i({type:Pe.FETCH_CONTENT,payload:o})}};Fe.fetchContent=function(t,e={}){return e.idType||(e.idType="pid"),function(i,r){let n=r(),o;if(e.indexes&&n.frontendState.inAdminFrame===!0){let f=n.structure.byParent[t]?.reduce((g,v)=>(g[n.structure.indexById[v]]=v,g),{});f&&(o={},e.indexes.forEach(g=>{let v=f[g],S=n.structure.liveIndexes[v];if(S){let[E,_]=S.split("/");o[E]||(o[E]=[]),o[E].push(parseInt(_))}}),o=kb.default.map(o,(g,v)=>({set_id:v,index:g})))}if(e.force!==!0&&(e.idType==="purl"?Qe.getContentByPurl(n,t):Qe.getContentById(n,t)||t==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return i({type:Pe.FETCH_CONTENT,payload:Promise.resolve()});let l=`/pages/${n.site.id}/url/${t}`;e.next===!0?l=`/pages/${n.site.id}/next/${t}`:e.prev===!0?l=`/pages/${n.site.id}/prev/${t}`:e.idType==="pid"&&(l=`/pages/${n.site.id}/id/${t}`);let u={};(0,Ha.isArray)(e.indexes)&&(l=`/pages/${n.site.id}/filter/`,o&&Object.keys(o).length>0?u.indexBySet=JSON.stringify(o):u.indexBySet=JSON.stringify([{set_id:t,index:e.indexes}]));let c=Jr.default.get(pi+l,{withCredentials:!0,use_cache:e.force!==!0,params:u,validateStatus:function(f){return f>=200&&f<300&&f!==204},contentIdentifier:{idType:e.idType,id:t}}),d=new Promise((f,g)=>{c.then(v=>{(0,Ha.isArray)(v.data)||(v.data=[v.data]),e.cb?.(v),f(v)}).catch(g)});return i({type:Pe.FETCH_CONTENT,payload:d})}};Fe.updateFrontendState=function(t){return function(e,i){return e({type:Pe.UPDATE_FRONTEND_STATE,payload:t})}};Fe.deleteContent=function(t){return function(e,i){let r=new Promise().resolve({id:t});return{type:Pe.DELETE_CONTENT,payload:r}}};ue||(window.actions=Fe)});function Db(){return t=>e=>(Da(e.payload)&&e.payload.catch(function(i){if(ue&&i.response)console.error("Request to",i.response.config.url,"failed with code",i.response.status);else{if(i&&i.response&&i.response.status===401){console.warn("No auth for request to",i.response.config.url);return}console.error(i)}return i}),t(e))}var _pe,qM=T(()=>{_b();_pe=he(xe(),1);Re()});function HM(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITE_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.site),i){if(Ma&&(i.domain_active=!1),!ue)try{localStorage.setItem("c3-site",JSON.stringify({id:i.id,host:window.location.host}))}catch(r){console.error(r)}return{...t,...i,crdt_state:Ut.Published}}break}return t}var Ape,UM=T(()=>{Bt();Re();qt();Ape=he(xe(),1)});function iY(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return mf.default.isArray(i)||(i=[i]),{...t,...i.reduce((r,n)=>(n.page_type!=="page"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Ut.Published,r[n.id]=n),r),{})};break;case Pe.DELETE_CONTENT:if(t[e.payload.id]){let r={...t};return delete r[e.payload.id],r}break;case Pe.UPDATE_PAGE:return{...t,[e.meta.id]:mf.default.merge({},mf.default.cloneDeep(t[e.meta.id]),e.payload)}}return t}var mf,Lb,BM,WM=T(()=>{Bt();ai();qt();mf=he(xe(),1);Re();Lb={byId:iY},BM=qn(Lb)});function rY(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return{...t,...i.reduce((r,n)=>(n.page_type!=="set"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Ut.Published,r[n.id]=n),r),{})};break}return t}var Fb,$M,VM=T(()=>{Bt();ai();qt();Fb={byId:rY},$M=qn(Fb)});function nY(t=GM,e){switch(e.type){case Pe.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case Pe.ADD_COMMERCE_PRODUCT_TO_CART:let i=e.payload,r;i.quantity===null?(r={...t},delete r[i.variant_id]):(t[i.variant_id]&&(i={...t[i.variant_id],quantity:Math.max(0,(t[i.variant_id].quantity||0)+i.quantity)}),r={...t,[i.variant_id]:i});try{e.meta?.is_template!==!0&&localStorage.setItem("cargo-commerce-cart",JSON.stringify(r))}catch(n){console.error("Unable to store cart",n)}return r}return t}function oY(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_COMMERCE_PRODUCTS_FULFILLED:let i=e.meta?.options||{},r=(e.payload.data?.data||[]).reduce((o,l,u)=>{let c=t[l?.product_id];return i.onlyNew&&c?(i.idArray===null&&c.sort_index===void 0&&(c.sort_index=u),o):(i.idArray===null&&(l.sort_index=u),jM(l),{...o,[l.product_id]:l})},{});return{...t,...r};case Pe.COMMERCE_PRODUCT_UPDATED:return jM(e.payload),{...t,[e.payload.product_id]:e.payload};break;case Pe.COMMERCE_PRODUCT_DESTROYED:let n={...t};return delete n[e.payload.product_id],n;break}return t}function sY(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...t,...e.payload.data};case Pe.SHOP_MODEL_UPDATED:return{...t,...e.payload}}return t}var ks,GM,jM,zb,KM,YM=T(()=>{ks=he(xe(),1);ai();Bt();Re();GM={};if(!ue)try{GM=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}jM=t=>{t.name&&(t.name=ks.default.unescape(t.name)),t.variants?.forEach(e=>{ks.default.each(e.attributes,(i,r)=>{let n=ks.default.unescape(i);delete e.attributes[r],e.attributes[ks.default.unescape(r)]=n})}),ks.default.each(t.attributes,(e,i)=>{let r=e.map(n=>ks.default.unescape(n));delete t.attributes[i],t.attributes[ks.default.unescape(i)]=r})};zb={products:oY,cart:nY,shop:sY},KM=qn(zb)});function ZM(t=aY,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_MEDIA_FULFILLED:let i=e.payload.data;if(i)return{...t,data:XM.default.uniqBy([...t.data,...i],"id")};break}return t}var XM,aY,JM=T(()=>{Bt();qt();XM=he(xe(),1),aY={data:[],crdt_state:Ut.Published}});function QM(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITE_CSS_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.css),i)return{...t,...i,crdt_state:Ut.Published};break}return t}var Kpe,eR=T(()=>{Bt();qt();Kpe=he(xe(),1)});function qb(t=lY,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i){let r={...t},n={};return(0,Os.each)(i,function(o){o.page_type==="set"&&(n.hasOwnProperty(o.id)||(n[o.id]=[])),o.id!=="root"&&o.hasOwnProperty("set_id")&&(n.hasOwnProperty(o.set_id)||(n[o.set_id]=[]),n[o.set_id].push(o.id))}),r.byParent=(0,Os.mergeWith)({},t.byParent,n,(o,l)=>{if((0,Os.isArray)(o))return(0,Os.uniq)(o.concat(l))}),r.bySort={...t.bySort,...i.reduce((o,l)=>(l.id!=="root"&&l.hasOwnProperty("sort")&&(o[l.id]=l.sort),o),{})},r.indexById={...t.indexById,...i.reduce((o,l)=>(l.id!=="root"&&l.hasOwnProperty("index")&&(o[l.id]=l.index),o),{})},r}break}return t}var Os,lY,tR=T(()=>{Bt();Os=he(xe(),1);qt();lY={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:Ut.Published}});function cY(t=uY,e){switch(e.type){case Pe.AUTHENTICATE_USER_PENDING:return{...t,authenticating:!0};case Pe.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!ue)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!ue)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}case Pe.AUTHENTICATE_USER_REJECTED:if(!ue)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}return t}var ehe,uY,iR,rR=T(()=>{ehe=he(xe(),1);Re();Bt();uY={authenticating:!1,authenticated:!1};iR=cY});function pY(t=dY,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.design),i)return Hb.default.merge(Hb.default.cloneDeep(t),i.site_design);break}return t}var Hb,dY,nR,oR=T(()=>{Bt();Hb=he(xe(),1);qt();dY={images:{},quick_view:{},site:{enableColorFilter:!1,enableHomeLinkActiveStates:!1},cart:{theme:"light"},contact_form:{theme:"light"},crdt_state:Ut.Published};nR=pY});function aR(t=sR,e){if(!e.payload)return t;let i;switch(e.type){case Pe.UPDATE_FRONTEND_STATE:return Ub.default.mergeWith({},sR,t,e.payload,(r,n,o,l,u)=>{n===void 0&&u.hasOwnProperty(o)&&delete l[o]});case Pe.FETCH_SITE_PACKAGE_FULFILLED:return{...t,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case Pe.FETCH_SCAFFOLDING_FULFILLED:return{...t,hasScaffolding:!0};case Pe.FETCH_SITE_MODEL_FULFILLED:return{...t,hasSiteModel:!0};case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...t,hasShopModel:!0};case Pe.FETCH_SITE_CSS_FULFILLED:return{...t,hasSiteCSS:!0};case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...t,hasSiteDesign:!0};case Pe.PAGES_MOUNTED:return i=[...t.renderedPages,...e.payload.pages],{...t,renderedPages:i};case Pe.PAGES_UNMOUNTED:return{...t,renderedPages:Ub.default.difference(t.renderedPages,e.payload.pages)};case Pe.FETCH_CONTENT_REJECTED:return{...t,networkErrors:[...t.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return t}var Ub,hY,sR,lR=T(()=>{Bt();Re();Re();Ub=he(xe(),1),hY=Ny(),sR={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:Ai,inAdminFrame:Ai,renderedPages:[],networkErrors:[],pageNotFound:!1,fontsLoaded:[],deviceType:hY}});var Wb={};ti(Wb,{default:()=>Bb,rawReducers:()=>fY});var Bb,fY,$b=T(()=>{UM();WM();VM();YM();JM();eR();tR();rR();oR();lR();Bt();Bb={structure:qb,site:HM,pages:BM,sets:$M,media:ZM,css:QM,auth:iR,siteDesign:nR,frontendState:aR,commerce:KM},fY={pages:Lb,sets:Fb,commerce:zb}});var uR,Ehe,cR,dR=T(()=>{uR=he(db(),1);ai();cI();Ehe=he(NM(),1);Bt();qM();Cb();$b();Re();cR=()=>{let t=[],e=(0,uR.createDynamicMiddlewares)(),i=[uI,Db,Eb(),e.enhancer],r=Gh(cb(...i),...t),n=ue?{}:window.__PRELOADED_STATE__||{},o=Qc(qn(Bb),n,r);return ue||(window.store=o,delete window.__PRELOADED_STATE__),{store:o}}});function m(t,e,i,r,n,o){var l,u,c={};for(u in e)u=="ref"?l=e[u]:c[u]=e[u];var d={type:t,props:c,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--mY,__source:n,__self:o};if(typeof t=="function"&&(l=t.defaultProps))for(u in l)c[u]===void 0&&(c[u]=l[u]);return Le.vnode&&Le.vnode(d),d}var mY,ne=T(()=>{Ee();Ee();mY=0});var pR=T(()=>{Ee();ne()});var hR=T(()=>{});var Zo,gf=T(()=>{$e();hR();ne();Zo=({customStyle:t,className:e})=>m("div",{style:t,className:`caution-processing${e?" "+e:""}`})});var fR=T(()=>{});var mR,gR,Vb,vR,yR=T(()=>{$e();pt();ai();Ns();gf();fR();ne();mR=0,gR=null;typeof window<"u"&&window.__ACCESS_TOKEN_NONCE__&&(gR=window.__ACCESS_TOKEN_NONCE__,delete window.__ACCESS_TOKEN_NONCE__);Vb=class extends se{constructor(e){super(e);let i=new URLSearchParams(window.location.search.replaceAll("+","%2B"));this.state={error:null,loading:!1,checkingCookieAuth:!0,formView:e.canCreateNewAccount?"newAcct":"login",resetEmail:null,prevFormState:null,prefilledEmail:i.get("email")},this.containerRef=We.createRef();let r=i.get("t");if(this.redirectURL=i.get("rd"),i.has("t")){i.delete("t");let n=i.toString();n.length>0&&(n="?"+n),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+n)}if(this.props.loginToUdotCargoOnly){this.state.checkingCookieAuth=!1;return}if(mR>=1){this.state.checkingCookieAuth=!1;return}if(r==="")this.state.checkingCookieAuth=!1;else{let n=!1;this.props.domain_active&&r===null&&(n=!0);let o={timeout:3e3,jwt:r,bounce:n,nonce:gR};this.props.site_url&&(o.site_url=this.props.site_url),this.props.site_id&&(o.site_id=this.props.site_id),this.props.getAuthToken(o).catch(l=>{console.log("Failed to fetch auth token.")}).finally(()=>{mR++,!n&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingCookieAuth:!1})})})}}render(){return this.state.checkingCookieAuth||this.props.cookieAuthOnly?null:m("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:e=>{if(this.props.canClickout&&!e.target.closest(".login-modal")){let i=new CustomEvent("remove-login-form");document.dispatchEvent(i),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:m("div",{className:"login-modal custom login-frame",children:[m("div",{className:"login-header",children:[m("div",{className:"logo-box",children:m("div",{className:"logo",children:m("svg",{width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.521458 11.5988H4.49769C4.90909 11.5988 5.2426 11.9403 5.2426 12.3615C5.2426 12.4348 5.23229 12.5076 5.212 12.5779L3.26311 19.3227C3.21643 19.4842 3.3065 19.6539 3.46431 19.7017C3.58148 19.7372 3.70795 19.6959 3.78333 19.5974L11.8889 9.01082C12.0666 8.77877 12.0269 8.44319 11.8002 8.26129C11.7084 8.18761 11.5952 8.14758 11.4785 8.14758H7.64746C7.23606 8.14758 6.90255 7.80611 6.90255 7.3849C6.90255 7.31158 6.91287 7.23865 6.9332 7.16835L8.89307 0.391703C8.93979 0.23015 8.84976 0.0604064 8.69197 0.0125694C8.57559 -0.0227134 8.44994 0.0178057 8.37431 0.115005L0.113608 10.7323C-0.065826 10.9629 -0.0286851 11.2988 0.196564 11.4825C0.288885 11.5578 0.403425 11.5988 0.521458 11.5988Z",fill:"var(--ui-color-flat-reverse)"})})})}),m("div",{className:"title",children:this.state.formView==="newAcct"?"Login or Sign Up":this.state.formView==="login"?"Login":"Reset Password"})]}),this.state.loading&&"",this.state.formView==="newAcct"?m("form",{children:[m("div",{className:"input-fields",children:[this.state.prefilledEmail?null:m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.validateLogin(i)&&this.login(i)},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"newAcct"})},children:"Forgot?"})]})]}):null,this.state.formView==="login"?m("form",{children:[m("div",{className:"input-fields",children:[this.state.prefilledEmail?null:m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.login(i)},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})]})]}):null,this.state.formView==="forgot"?m(re,{children:m("form",{children:[m("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.forgot(i)},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"Submit"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?m(re,{children:m("form",{children:[m("div",{className:"enter-email",children:[this.state.resetEmail?m(re,{children:["We\u2019ve sent a reset code to ",m("br",{}),this.state.resetEmail]}):m(re,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",autocomplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password_reset_confirm",autocomplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault();let i=new FormData(this.containerRef.current.querySelector("form")),r=this.validateForm(i);r&&(this.setState({error:null,loading:!0}),this.forgot(i)),r||this.setState({loading:!1})},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null]})})}login=e=>{let r=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),this.state.prefilledEmail&&e.append("email",this.state.prefilledEmail),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),o=Fa==="https://cargo.site"?1597765:1791886;if(n){let l=n.templates?n.templates.flatMap(u=>u.sites):[];if(l.length>0){let u=l.length-1,c=Math.floor(Math.random()*u),d=l[c];d&&(o=d?.id?d.id:o)}}e.append("site_id",o)}fetch(Fa+r,{method:"post",body:e,credentials:"include"}).then(async n=>{let o=await n.json(),{access_token:l,id:u,bounce_jwt:c}=o.jdata||{};l&&u?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(l,u),this.props.domain_active&&c?this.props.getAuthToken({reverse_bounce_jwt:c}).then(()=>{this.redirectURL?window.location.href=this.redirectURL:this.props.onLoginSuccess?.(o.jdata)}):this.redirectURL?window.location.href=this.redirectURL:this.props.onLoginSuccess?.(o.jdata)):this.setState({error:o?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch(Fa+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async i=>{let r=await i.json();if(r.error&&r.error?.[0]?.length>0)this.setState({error:r.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(i=>{console.log(i),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateLogin(e){let i=null;for(let r of e.entries()){let[n,o]=r;n==="email"&&(o===""||!o)&&!this.state.prefilledEmail&&(i="Incorrect Username or Password."),n==="password"&&(o===""||!o)&&i===null&&(i="Password cannot be empty.")}return i?(this.setState({error:i,loading:!1}),!1):!0}validateForm(e){var i=e.get("pwreset").trim(),r=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return i==""?(this.setState({error:"Reset code cannot be empty."}),!1):r==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):r!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer()};componentDidUpdate=()=>{this.animateContainer()};animateContainer=()=>{this.props.animateIn===!1?setTimeout(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&setTimeout(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})}},vR=ke(t=>({site_url:t.site?.site_url,site_id:t.site?.id,domain_active:t.site?.domain_active}),(t,e)=>Pt({getAuthToken:e.getAuthTokenAction,setAuthData:(i,r)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:i,id:r}}})},t))(Vb)});var bn,Ua=T(()=>{pt();ne();bn=t=>e=>m(t,{store:Eh(),...e})});function gY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bY(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(r){return r}).join(" ")}var yfe,bfe,jb,Gb,Kb,Zl,vY,yY,bR,vf,wfe,wR=T(()=>{Yo();Yo();Ph();$e();Mh();Pa();Nl();Ah();yfe=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=Th(r.props),r}var i=e.prototype;return i.render=function(){return We.createElement(Ps,{history:this.history,children:this.props.children})},e}(We.Component),bfe=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=gC(r.props),r}var i=e.prototype;return i.render=function(){return We.createElement(Ps,{history:this.history,children:this.props.children})},e}(We.Component),jb=function(e,i){return typeof e=="function"?e(i):e},Gb=function(e,i){return typeof e=="string"?xr(e,null,null,i):e},Kb=function(e){return e},Zl=We.forwardRef;typeof Zl>"u"&&(Zl=Kb);vY=Zl(function(t,e){var i=t.innerRef,r=t.navigate,n=t.onClick,o=wr(t,["innerRef","navigate","onClick"]),l=o.target,u=Ft({},o,{onClick:function(d){try{n&&n(d)}catch(f){throw d.preventDefault(),f}!d.defaultPrevented&&d.button===0&&(!l||l==="_self")&&!gY(d)&&(d.preventDefault(),r())}});return Kb!==Zl?u.ref=e||i:u.ref=i,We.createElement("a",u)}),yY=Zl(function(t,e){var i=t.component,r=i===void 0?vY:i,n=t.replace,o=t.to,l=t.innerRef,u=wr(t,["component","replace","to","innerRef"]);return We.createElement(Cs.Consumer,null,function(c){c||Ln(!1);var d=c.history,f=Gb(jb(o,c.location),c.location),g=f?d.createHref(f):"",v=Ft({},u,{href:g,navigate:function(){var E=jb(o,c.location),_=or(c.location)===or(Gb(E)),P=n||_?d.replace:d.push;P(E)}});return Kb!==Zl?v.ref=e||l:v.innerRef=l,We.createElement(r,v)})}),bR=function(e){return e},vf=We.forwardRef;typeof vf>"u"&&(vf=bR);wfe=vf(function(t,e){var i=t["aria-current"],r=i===void 0?"page":i,n=t.activeClassName,o=n===void 0?"active":n,l=t.activeStyle,u=t.className,c=t.exact,d=t.isActive,f=t.location,g=t.sensitive,v=t.strict,S=t.style,E=t.to,_=t.innerRef,P=wr(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return We.createElement(Cs.Consumer,null,function(I){I||Ln(!1);var L=f||I.location,F=Gb(jb(E,L),L),z=F.pathname,H=z&&z.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ie=H?Ta(L.pathname,{path:H,exact:c,sensitive:g,strict:v}):null,X=!!(d?d(ie,L):ie),k=typeof u=="function"?u(X):u,te=typeof S=="function"?S(X):S;X&&(k=bY(k,o),te=Ft({},te,l));var le=Ft({"aria-current":X&&r||null,className:k,style:te,to:F},P);return bR!==vf?le.ref=e||_:le.innerRef=_,We.createElement(yY,le)})})});function wf(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++)if(!hasOwnProperty.call(e,i[n])||!Object.is(t[i[n]],e[i[n]]))return!1;return!0}function Qr(t){if(ue)return t;let e,i,r,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},i=!1,r=void 0};n();let o=function(){let u=arguments.length-1;if(u===-1)return i===!1&&(r=t.call(this),i=!0),r;let c=e;for(let S=0;S<u;S+=1){let E=arguments[S],_=E===null||typeof E!="object"&&typeof E!="function",P;_?c.primitiveArgs===null?P=c.primitiveArgs=new Map:P=c.primitiveArgs:c.referenceArgs===null?P=c.referenceArgs=new WeakMap:P=c.referenceArgs,P.has(E)===!1?(c={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},P.set(E,c)):c=P.get(E)}let d,f=arguments[u],g=f===null||typeof f!="object"&&typeof f!="function",v;return g?c.primitiveResults===null?v=c.primitiveResults=new Map:v=c.primitiveResults:c.referenceResults===null?v=c.referenceResults=new WeakMap:v=c.referenceResults,v.has(f)?d=v.get(f):(d=t.apply(this,arguments),v.set(f,d)),d};return o.clear=function(){let u=arguments.length-1;if(u===-1){n();return}let c=e;for(let g=0;g<u;g+=1){let v=arguments[g],E=v===null||typeof v!="object"&&typeof v!="function"?c.primitiveArgs:c.referenceArgs;if(E===null)return;c=E.get(v)}let d=arguments[u];d===null||typeof d!="object"&&typeof d!="function"?(c.primitiveArgs!==null&&c.primitiveArgs.delete(d),c.primitiveResults!==null&&c.primitiveResults.delete(d)):(c.referenceArgs!==null&&c.referenceArgs.delete(d),c.referenceResults!==null&&c.referenceResults.delete(d))},o}var Ds,Ql,wY,Yb,Jl,xY,yf,SR,_R,bf,xR,ER,eu,Sr=T(()=>{Ds=he(xe(),1);Ei();Re();Ee();Ql=(t={},e)=>{let i={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:t.hasOwnProperty("t")&&t.t=="webgl"};t=Ds.default.extend(i,t),t.t==="original"&&(t.retina=!1),t.retina===!0&&!t.webgl&&(t.q==null&&(t.q=75),t.hasOwnProperty("w")&&(t.w=Math.min(t.w*2,e.width)),t.hasOwnProperty("h")&&(t.h=Math.min(t.h*2,e.height))),t.w&&t.w>e.width&&(t.w=e.width),t.h&&t.h>e.height&&(t.h=e.height);var r=wY(t.w,t.h,e);t.w=r.w,t.h=r.h;var n=["t","w","h","q","c"],o=[];return Ds.default.each(t,function(l,u){n.indexOf(u)===-1||l===""||(u==="c"?o.push("c/"+l.x+"/"+l.y+"/"+l.w+"/"+l.h):o.push(u+"/"+l))},void 0),e.hash!==void 0&&e.name!==void 0&&r.w>0?t.url="https://freight.cargo.site/"+o.join("/")+"/i/"+e.hash+"/"+e.name:t.url="",t},wY=(t,e,i)=>{let r=t,n=e,o=parseInt(i.width),l=parseInt(i.height);if(o==l)r=t||e||o,n=r;else if(t&&!e){let u=o/t;n=Math.floor(l/u),r=t}else if(e&&!t){let u=l/e;r=Math.floor(o/u),n=e}else{let u=Math.min(l/e,o/t);r=Math.floor(o/u),n=Math.floor(l/u)}return{w:r,h:n}},Yb=(t=1,e)=>{!t||t<1||requestAnimationFrame(()=>{e?.(),Yb(--t,e)})};Jl=(t,e,i,r,n=0,o={})=>{o.shared=o.shared||{};let l=(t.byParent[r.id]||[]).reduce((u,c)=>(u[t.indexById[c]]=c,u),{});for(;n>=0&&n<r.page_count&&o.shared.hasBreak!==!0;){let u=l[n],c=u&&(e.byId[u]||i.byId[u]);if(!(c?.page_type==="set"&&o.includeSets!==!0)&&o.callback?.(r.id,n,c)==="break"){o.shared.hasBreak=!0;break}c?.page_type==="set"&&Jl(t,e,i,c,o.reverse===!0?c.page_count-1:0,{...o,traverseUp:!1}),o.reverse===!0?n--:n++}if(o.traverseUp!==!1&&(o.reverse===!0&&n<0||o.reverse===!1&&n>r.page_count-1)){let u=i.byId[Ds.default.findKey(t.byParent,d=>d.includes(r.id))],c=t.indexById[r.id];u&&c!==void 0&&Jl(t,e,i,u,c+(o.reverse===!0?-1:1),o)}};xY=Le.debounceRendering,yf=null,SR=()=>{Le.debounceRendering=t=>{yf=t}},_R=t=>{yf&&!t&&yf(),yf=null,Le.debounceRendering=xY},bf=new WeakMap,xR=Le.diffed;Le.diffed=t=>{bf.has(t)&&bf.get(t)(t.__e),xR&&xR(t)};ER=(t,e)=>(bf.set(t,e),()=>{bf.delete(t)}),eu=(t,e)=>{if(!t)return null;let i="",r=(o,l)=>{let u=l.style?.getPropertyValue(o);return u!==""&&u!==void 0?u:null},n=[];return Ds.default.each(t.rules,o=>{let l=o.selectorText,u={},c=!1,d=!1,f=!1;o.cssText&&o.cssText.includes("--text-style")&&(d=!0,n.push(l+" a"),n.push(l+" a:hover")),o.cssText&&Ds.default.each(n,S=>{o.cssText.includes(S)&&(d=!0)}),o?.selectorText?.includes(".mobile")&&(f=!0),Ds.default.each(e,S=>{let E=!1;Array.isArray(S.denyList)&&S.denyList.forEach(P=>{P.includes("match:")&&l?.match(P.replace("match:",""))&&(E=!0),l&&l===P&&(E=!0)});let _=!1;Array.isArray(S.allowList)?S.allowList.forEach(P=>{P.includes("match:")&&l?.match(P.replace("match:",""))&&(_=!0),l&&l===P&&(_=!0)}):_=!0,(d||f)&&(E=!0),!(E===!0||_===!1)&&(u=S.properties.reduce((P,I)=>(I&&(P[I]=r(I,o)),P),u))});let g=".mobile "+l,v=Array.from(t.rules).find(S=>S.selectorText===g);v&&Object.keys(u).forEach(S=>{r(S,v)&&(u[S]=null)}),!(Object.values(u).every(S=>S===null)||Object.values(u).length===0)&&(i+=g+" { ",Ds.default.each(u,(S,E)=>{if(S){let _=S.split(" ").reduce((P,I,L)=>P+` calc(${I} * var(--mobile-padding-offset))`,"");i+=`${E}: ${_};`}}),i+=" } ")}),i}});function CY(t,e){let i=EY(t.pages.byId,tu),r=_Y(i,t.structure.bySort),n=SY(i);return{renderedPages:i,renderedPins:r,nestingMap:n,sortMap:t.structure.bySort,adminMode:t.frontendState.adminMode}}var fi,Ba,Zb,tu,Xb,SY,_Y,EY,CR,pd=T(()=>{Ee();$e();Ei();fi=he(xe(),1);pt();Sr();ne();Ba=hn(),Zb=()=>{},tu=[],Xb=class extends _i{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:i=>{tu=[...tu,i]},onPageUnmount:i=>{tu=tu.filter(r=>r!==i)}},Zb=this.updateHeights}updateHeights=e=>{this.setState(i=>({pageHeights:{...i.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let i=null,r=[];fi.default.each(e,o=>{r.push({pageID:o.id,pageName:o.title,pageHeight:this.getHeightById(o.id)})});let n=fi.default.maxBy(r,o=>o.pageHeight);return n!==void 0?fi.default.filter(e,o=>o.id===n.pageID)[0]:!1};componentDidUpdate=(e,i)=>{this.makePinAdjustments(e,i)};findTallestOverlayAdjusterPageInLevel=(e,i)=>{let r=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return r.length>0?this.getTallestOfAdjusterCandidates(r):null};getAdjustOnlyPageHeights=(e,i)=>{let r=fi.default.filter(this.props.nestingMap[i][e],o=>o.pin_options?.adjust&&!o.pin_options?.overlay),n=0;return fi.default.each(r,o=>{n+=this.getHeightById(o.id)}),n};getAdjustOnlyPinsByLevel=(e,i)=>fi.default.filter(this.props.nestingMap[i][e],r=>!r?.pin_options?.overlay);getOverlayPinsByLevel=(e,i)=>fi.default.filter(this.props.nestingMap[i][e],r=>r?.pin_options?.overlay);getClosestPageByProximity=(e,i)=>e.sort((r,n)=>i==="top"?this.props.sortMap[r.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[r.id])[0];getPagesToAdjust=(e,i)=>{let r=[],n=null,o=this.getAdjustOnlyPinsByLevel(e,i);if(o.length>0?r.push(this.getClosestPageByProximity(o,e)):fi.default.each(this.props.nestingMap,(l,u)=>{if(parseInt(u)>i&&l[e].length>0){let c=l[e].filter(f=>f.pin_options?.overlay===!0),d=l[e].filter(f=>f.pin_options?.overlay===!1);if(r=c.length>0?c:[],r.length===0&&d?.length>0&&r.push(this.getClosestPageByProximity(d,e)),n=u,r.length>0)return!1}}),r[0]===void 0){let l=this.props.renderedPages.filter(c=>c.pin===!1).sort((c,d)=>this.props.sortMap[c.id]-this.props.sortMap[d.id]),u=e==="top"?0:l.length-1;l.length>0&&r.push(l[u])}return{adjustedPages:r,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??tu.find(i=>i.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,i)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||fi.default.isEqual(this.props.renderedPins,e.renderedPins)&&fi.default.isEqual(this.state.pageHeights,i.pageHeights)&&fi.default.isEqual(this.props.renderedPages,e.renderedPages))return;let r=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};fi.default.each(this.props.nestingMap,(o,l)=>{let u={};l=parseInt(l),u.level=l,fi.default.each(o,(c,d)=>{if(d==="center")return;u[d]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let f=u[d];f.hasOverlayPins=this.getOverlayPinsByLevel(d,l).length>0;let g=this.findTallestOverlayAdjusterPageInLevel(c,d);if(g){f.adjusterId=g.id,f.adjusterHeight=this.getHeightById(g.id),f.adjustsSelf=this.getAdjustOnlyPinsByLevel(d,l).length>0;let _=this.getPagesToAdjust(d,l).adjustedPages;_?.length>0&&(f.adjustedLevel=this.props.renderedPins[_[0].id]?.depth??"content",f.adjusteeIDs=fi.default.map(_,"id"),r[g.id]={adjusts:fi.default.map(_,"id"),location:d,adjustedHeight:this.getHeightById(g.id)})}let v=0,S=g?this.getHeightById(g.id):0,E=!0;f.totalHeight=(E?S:0)+this.getAdjustOnlyPageHeights(d,l),fi.default.each(n.levels,function(_,P){P<l&&(v+=_[d].totalHeight)}),f.startingHeight=v===0?null:v}),n.levels[l]=u}),(!fi.default.isEqual(i.adjustPairs,r)||!fi.default.isEqual(i.renderedPins,this.props.renderedPins)||!fi.default.isEqual(i.levelData,n))&&this.setState({adjustPairs:r,renderedPins:this.props.renderedPins,levelData:n})};getAdjustingLevelHeight=(e,i,r)=>{let n=null;return fi.default.each(e.levels,o=>{o[r].adjustedLevel===i&&(n=o[r].totalHeight)}),n};render(){return m(Ba.Provider,{value:this.state,children:this.props.children||null})}},SY=Qr(t=>{let e=store.getState();return t.reduceRight((i,r)=>{let n=Qe.getParentSetList(e,r.id).length-1;r.pin===!0&&r.pin_options.fixed===!0&&(n=0),i[n]||(i[n]={top:[],bottom:[],center:[]});let o=i[n],l=r.pin?r.pin_options.position:"center",u=o[l];return u.push(r),u.sort((c,d)=>e.structure.bySort[c.id]-e.structure.bySort[d.id]),i},{})}),_Y=Qr((t,e)=>{let i=store.getState(),r=t.map(n=>({depth:Qe.getParentSetList(i,n.id).length-1,pageListSort:e[n.id],id:n.id,fixed:n.pin_options?.fixed&&n.pin_options?.fixed===!0})).sort((n,o)=>n.pageListSort-o.pageListSort).sort((n,o)=>{if(n.fixed||o.fixed)return n.depth-o.depth});return t.reduceRight((n,o,l)=>{if(o.pin===!0&&fi.default.isPlainObject(o.pin_options)){let u=Qe.getParentSetList(i,o.id).length-1;n[o.id]={depth:o.pin_options.fixed?0:Qe.getParentSetList(i,o.id).length-1,originalDepth:u,location:o.pin_options?.position,type:o.pin_options.fixed?"fixed":o.pin_options.overlay?"overlay":"adjust",adjusts:o.pin_options?.adjust,sort:e[o.id],pinSort:r.findIndex(c=>c.id===o.id)+1}}return n},{})}),EY=Qr((t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0&&i.overlay!==!0));CR=ke(CY)(Xb)});function Wt(t){class e extends se{constructor(r){super(r)}render(r){return m(t,{...this.props,pageInfo:this.context})}}return e.contextType=PR,e}var xf,PR,Jb,Sf,Fi=T(()=>{Ee();pt();ne();xf=new Map,PR=hn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),Jb=class extends se{constructor(e){super(e)}setPageData=(e={},i)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(i.tagName)).indexOf(i);if(n!==-1){let o=xf.get(this.props.value.pid+"-"+i.tagName+"-"+n);o?o={...o,...e}:o=e,xf.set(this.props.value.pid+"-"+i.tagName+"-"+n,o)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let r=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return r!==-1?xf.get(this.props.value.pid+"-"+e.tagName+"-"+r)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return m(PR.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&xf.clear()}};Sf=ke((t,e)=>({adminMode:t.frontendState.adminMode}))(Jb)});var _f,IR,AR=T(()=>{_f=()=>new Map,IR=(t,e,i)=>{let r=t.get(e);return r===void 0&&t.set(e,r=i()),r}});var TR,MR=T(()=>{TR=()=>new Set});var RR,Hfe,NR=T(()=>{RR=Array.from,Hfe=Array.isArray});var Ef,kR=T(()=>{AR();MR();NR();Ef=class{constructor(){this._observers=_f()}on(e,i){IR(this._observers,e,TR).add(i)}once(e,i){let r=(...n)=>{this.off(e,r),i(...n)};this.on(e,r)}off(e,i){let r=this._observers.get(e);r!==void 0&&(r.delete(i),r.size===0&&this._observers.delete(e))}emit(e,i){return RR((this._observers.get(e)||_f()).values()).forEach(r=>r(...i))}destroy(){this._observers=_f()}}});var DR,iu,OR,Qb,Ke,Ti=T(()=>{DR=he(xe(),1);kR();Re();Qb=class extends Ef{constructor(){super(),this.data={baseUnit:-1,mobile:{portrait:!0,active:!1,chrome:0,maxHeight:720},window:{w:1280,h:720}},ue||(this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.mobilePortraitMediaQuery=window.matchMedia("(max-aspect-ratio: 4/5)"),this.mobileLandscapeMediaQuery=window.matchMedia("(min-aspect-ratio: 2/3) and (max-height: 500px)"),this.setupMobileListener(),this.onWindowResize(),window._windowInfo=this,window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let i=e.getState();i.frontendState&&i.frontendState.adminMode!==OR&&(setTimeout(()=>{this.onWindowResize()},150),OR=i.frontendState.adminMode),i.adminState&&i.adminState.viewport!==iu&&(iu=i.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mobilePortraitMediaQuery.removeEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange(),this.mobilePortraitMediaQuery.addEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;iu?e=iu==="mobile":e=this.mobilePortraitMediaQuery.matches||this.mobileLandscapeMediaQuery.matches;let i=this.mobilePortraitMediaQuery.matches||iu&&iu==="mobile"||!1;(e!==this.data.mobile.active||e&&i!==this.data.mobile.portrait)&&(this.data.mobile.active=e,this.data.mobile.portrait=i,this.onWindowResize(),this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var i=0;return e=DR.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),i=e.width<e.height?e.width:e.height,i/=100/e.weight,e.min&&i<e.min&&(i=e.min),e.max&&i>e.max&&(i=e.max),i}onWindowResize=()=>{let{data:e}=this,i=document.documentElement.clientWidth,r=window.innerHeight,n=0,o=0,l=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)o=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let g=100;o=0;let v;for(;;){let S=window.matchMedia.call(window,"(min-height:"+o+"px)").matches;if(v!==void 0&&S!==v&&(g/=2,g*=-1),o+=g,v=S,Math.abs(g)<.01){o=Math.round(o);break}}}n=l-o;let u=0,c=5,d=0,f=9;o+n>i&&(u=(o+n)/i-1),u=u/.777777778,u>1&&(u=1),e.mobile.active&&!e.mobile.portrait&&(f=18),d=this.getBaseUnit({weight:f+c*u,min:20,width:i,height:o+n}),d!==e.size&&(document.documentElement.style.setProperty("--base-size",d*.16+"px"),document.documentElement.style.setProperty("--viewport-height",r+"px")),e.window.h=r,e.window.w=i,e.mobile.maxHeight=l,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=d,this.data=e,this.emit("window-resize",[])}},Ke=new Qb});var co,Mt,Xt,ii,_r=T(()=>{co=new Map;typeof window<"u"&&(window.listeners=co);Mt=(t,e,i,r={})=>{let n=t;for(;n&&(co.has(n)&&co.get(n).has(e)&&co.get(n).get(e).forEach(o=>o(i)),r.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},Xt=(t,e,i)=>{if(!t){console.error("Unable to subscribe to non-existing element");return}co.has(t)||co.set(t,new Map);let r=co.get(t);r.has(e)||r.set(e,[]);let n=r.get(e);n.includes(i)||n.push(i)},ii=(t,e,i)=>{if(!co.has(t))return;let r=co.get(t);if(r.has(e)){if(!i){r.delete(e);return}r.set(e,r.get(e).filter(n=>n!==i)),r.get(e).length===0&&r.delete(e),r.size===0&&co.delete(t)}}});function po(t){class e extends se{constructor(r){super(r),this.lastScrollUIDRef=me()}render(){return m(t,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=r=>{r.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(r,n){this.props.baseNode!==r.baseNode?(r.baseNode&&this.context.removeElementFromScrollContext(r.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=t0,e}function MY(t){return Pt({updateFrontendState:Fe.updateFrontendState},t)}var e0,TY,t0,ru,nu,Wa,hd,LR,Cf,ou,ho=T(()=>{Ee();e0=he(xe(),1);Re();Bt();Ee();$e();ai();pt();Ti();_r();ne();TY={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},t0=hn(e0.default.cloneDeep(TY)),ru={},nu={},Wa={default:new Set};ue||(hd=new ResizeObserver(function(t){t.forEach(function(e){Mt(e.target,"elementResize",null,{bubbles:!1})})}));LR=(t,e)=>{t.forEach(function(i){let r="inside";i.boundingClientRect.bottom<0&&!i.isIntersecting?r="above":i.boundingClientRect.top>=0&&!i.isIntersecting&&(r="below"),Mt(i.target,e,{hasLayout:i.boundingClientRect.width>0&&i.boundingClientRect.height>0,visible:i.isIntersecting,position:r},{bubbles:!1})})},Cf=class extends _i{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,i)=>{if(i=="default")return;let r=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",o=e.parentNode?.nodeName==="MARQUEE-INNER",l=e.hasAttribute("uses")&&e.getAttribute("uses").includes("flying-object");r||n||o||l?(r||l)&&(Mt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),Mt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):Wa[i].has(e)||(Wa[i].add(e),nu[i].observe(e),ru[i].observe(e))};removeElementFromScrollContext=(e,i)=>{nu[i]?.unobserve(e),ru[i]?.unobserve(e),Wa[i]?.delete(e)};updateScrollPosition=e=>{if(ue||!this.state.scrollingElement)return;let i=e.x||this.scrollData.x,r=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo(i,r):this.state.scrollingElement.scrollTo(i,r)};onScrollRequest=e=>{e.defaultPrevented||(e.stopPropagation(),e.preventDefault(),this.scrollIntoView(e.target,e.detail?.transitionTime,e.detail?.preventQuickViewClose,e.detail?.lazyScroll,e.detail.callback||null,e.detail.verticalAlign))};scrollIntoView=(e,i=1e3,r=!0,n=!1,o=null,l="center")=>{if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){o&&o();return}let c=e.getBoundingClientRect();for(;c.width===0&&c.height==0&&e;)e=e.parentElement,c=e.getBoundingClientRect();let d=c.left+c.width*.5,f=c.top+c.height*.5;switch(l){case"center":f=c.top+c.height*.5;break;case"bottom":f=c.top+c.height;break;case"top":f=c.top;break}let g=document.documentElement.clientWidth,v=document.documentElement.clientHeight;if(n&&c.bottom>=20&&c.right>=20&&c.top<=v-20&&c.left<=g-20){o&&o();return}let S=this.scrollData.x,E=this.scrollData.y,_=Math.max(0,Math.min(this.scrollData.scrollHeight-v,E-(v*.5-f))),P=Math.max(0,Math.min(this.scrollData.scrollWidth-g,S-(g*.5-d))),I=_-E,L=P-S,F=0,z=0;cancelAnimationFrame(this.scrollAnimationFrame);var H=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",H),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),o&&o()};this.state.scrollingElement.addEventListener("mousewheel",H);let ie=X=>{let k=z===0?0:X-z;z=X,F=F+k;let te=ky(F/i);F<=i?(this.updateScrollPosition({x:S+L*te,y:E+I*te}),this.scrollAnimationFrame=requestAnimationFrame(ie)):(this.updateScrollPosition({x:S+L,y:E+I}),H())};this.props.updateFrontendState({quickView:{autoScrolling:r}}),requestAnimationFrame(()=>{requestAnimationFrame(ie)})};render(){return m(t0.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,i,r){ue||(this.checkScrollElement(),this.state.scrollingElement!=i.scrollingElement&&this.removeListeners(i))}setNewElement=e=>{let i=e0.default.uniqueId();Wa[i]=new Set,e==window?(Xt(document.scrollingElement,"elementResize",this.onResize),hd.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(Xt(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),hd.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})),nu[i]=new IntersectionObserver(r=>LR(r,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),ru[i]=new IntersectionObserver(r=>LR(r,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:i,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{e.scrollingElement&&(e.scrollingElement==window?(window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),hd.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(ii(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0}),hd.unobserve(e.scrollingElement)),Object.keys(Wa[e.scrollUid]).forEach(i=>{ru[e.scrollUid].unobserve(i),nu[e.scrollUid].unobserve(i),Wa[e.scrollUid].delete(i)})),e.scrollUid!="default"&&(ru[e.scrollUid].disconnect(),nu[e.scrollUid].disconnect(),delete ru[e.scrollUid],delete nu[e.scrollUid],delete Wa[e.scrollUid])};checkScrollElement=()=>{!ue&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){ue||this.checkScrollElement()}componentWillUnmount(){ue||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{ue||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{ue||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};Cf.contextType=t0;ou=ke((t,e)=>({quickView:t.frontendState.quickView}),MY)(Cf)});function RY(t,e,i,r){if(ue)return;i=i||t.observedAttributes||Object.keys(t.propTypes||{});function n(){let l=Reflect.construct(HTMLElement,[],n);l.__observedAttributes=i,l._editorProperties={},l._vdomComponent=t,l.attachShadow({mode:"open",delegatesFocus:r&&r.delegatesFocus}),l._customSlots=r&&r.customSlots?r.customSlots:[],l._replaceChild=r&&r.replaceChild,l._props={},l._uid=su.default.uniqueId(),l._initialMount=!0;let u=c=>{let d=new WeakMap;c.forEach(f=>{switch(f.type){case"childList":l._customElementComponent&&(d.has(l.children)||d.set(l.children,Array.from(l.children)),l._customElementComponent.setState({childArray:d.get(l.children)}));break;case"attributes":let g=f.target.getAttribute(f.attributeName);f.attributeName!=="style"&&f.attributeName!=="class"&&g!==l[f.attributeName]&&(g==null&&(g=void 0),l.__observedAttributes?.indexOf(f.attributeName)>-1?l[f.attributeName]=g:l._customElementComponent&&l._customElementComponent.setState(v=>{let S={...v.baseNodeProps};if(S[f.attributeName]!==g)return S[f.attributeName]=g,{baseNodeProps:S}}),l._props[f.attributeName]=g);break}})};return l.__observer=new MutationObserver(u),l.flushMutationQueue=function(){let c=l.__observer.takeRecords();c.length>0&&u(c)},i.forEach(c=>{let d=su.default.camelCase(c),f=function(){return l._customElementComponent?l._customElementComponent.state.baseNodeProps[c]:l._props?.[c]??void 0},g=function(v){let S=v;S=S==null||S===""?void 0:S,S=S==="true"?!0:S,S=S==="false"?!1:S;let E=!1,_=typeof S;if((S==null||_==="string"||_==="boolean"||_==="number")&&(E=!0),l._customElementComponent&&l._customElementComponent.setState(P=>{let I={...P.baseNodeProps};if(I[c]!==S)return I[c]=S,{baseNodeProps:I}}),l._props[c]=S,E){let P=c.toLowerCase();v===""||v===void 0||v==null?l._customElementComponent.props.baseNode.hasAttribute(P)&&P!=="tag-text"&&l.removeAttribute(P):v!==""&&v!==l.getAttribute(P)&&l.setAttribute(P,v)}};Object.defineProperty(l,c,{get:f,set:g,configurable:!0}),Object.defineProperty(l,d,{get:f,set:g,configurable:!0})}),l}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=NY,n.prototype.disconnectedCallback=OY,n.prototype.adoptedCallback=kY;let o=e||t.tagName||t.displayName||t.name;return r?.extends?customElements.get(o)||customElements.define(o,n,{extends:r.extends}):customElements.get(o)||customElements.define(o,n)}function NY(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component"))return;let t=this.nodeName=="TEXT-ICON";if(this._initialMount){let i=document.createElement("style");i.id="space-filler",t?i.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:i.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(i)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};t?e.component=m(Pf,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=m(DY,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),Mt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&i0.push(this)}function kY(){}function OY(){this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component")||(this.__observer.disconnect(),this._portalHost&&Mt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var su,i0,Pf,DY,fo,ri,Ji=T(()=>{Ee();$e();Sr();su=he(xe(),1);Re();pt();ho();_r();ne();i0=[];Pf=class extends se{constructor(e){super(e);let i=this.getPropsFromAttributes();this.state={baseNodeProps:{...i,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,i=0,r={};for(i=e.length;i--;){let n=e[i].value==="true"?!0:e[i].value;n=n==="false"?!1:n,r[e[i].name]=n}return{...r,...this.props.baseNode._props}};componentDidMount(){if(ue)return;let e=this.getPropsFromAttributes();this.setState(i=>su.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),Xt(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){ii(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let i=this.getPropsFromAttributes();this.setState(r=>su.default.isEqual(i,this.state.baseNodeProps)?null:{baseNodeProps:i})}};render(e,i){let{baseNodeProps:r,childArray:n}=i;return It(this.props.customElementComponent,{...e,...r,childArray:n})}},DY=po(Pf),fo=class extends _i{constructor(e){super(e),this.state={portals:[]},!ue&&(Pc(this.props.portalHost)?this.stopListeningToVnodeDiff=ER(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return m(re,{children:this.state.portals.map(([i,r],n)=>i&&r?Ge(i,r):Ge(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:i,element:r}=e;if(!i||!r)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(o=>{let l=o.portals.findIndex(([c,d])=>d===r&&c!==null),u=[...o.portals];return l===-1?u.push([i,r]):(u[l]=[null,null],n=!0),{portals:u}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(i=>{let r=[...i.portals],n=r.findIndex(([o,l])=>l===e.element);return n!==-1?(r[n][1]=null,{portals:[...r]}):null},()=>{})};onElementHostConnected=e=>{let i=e.element,r=[];this.setState(n=>{let o=[...n.portals];return o.forEach(([l,u],c)=>{i.contains(u)&&(r.push(u),o[c]=[null,null])}),{portals:o}},()=>{r.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,Mt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),Xt(this.portalHostElement,"custom-element-connected",this.addPortal),Xt(this.portalHostElement,"custom-element-disconnected",this.removePortal),Xt(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let i=i0.filter(r=>this.portalHostElement.contains(r));i.forEach(r=>r.connectedCallback()),su.default.pullAll(i0,i)};componentDidMount(){}componentDidUpdate(e,i){ue||this.state.portals.forEach(r=>{if(r[1]?.shadowRoot?.children){let n=Array.from(r[1].shadowRoot.children).find(o=>o.id==="space-filler");n&&n.remove()}})}componentWillUnmount(){ue||(this.portalHostElement&&(ii(this.portalHostElement,"element-host-connected",this.onElementHostConnected),ii(this.portalHostElement,"custom-element-disconnected",this.removePortal),ii(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.())}},ri=RY});var FR,r0,zR,qR=T(()=>{Ee();qt();zi();ho();Ei();FR=he(xe(),1);ne();r0=class extends se{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null,readyForDrop:!1,draggingOverItem:!1,rect:{top:0,left:0,width:0,height:0}},this.dropRef=me(),this.onDragOver=FR.default.throttle(this.onDragOver,80)}showDropTarget=()=>{if(Math.abs(this.state.dragPos.x-this.state.referenceDragPos.x)>10||Math.abs(this.state.dragPos.y-this.state.referenceDragPos.y)>10){this.setState({swapTarget:null});return}be.globalDragEventController.customDropTarget!==this.dropRef.current&&(be.globalDragEventController.releaseCustomDropTarget(be.globalDragEventController.customDropTarget),be.globalDragEventController.setCustomDropTarget(this.dropRef.current)),this.setState({readyForDrop:!0})};getRect=()=>{this.state.swapTarget&&this.setState({rect:this.state.swapTarget.getBoundingClientRect()})};render(e,i){let{draggingOverItem:r,readyForDrop:n,rect:o}=i,l={frame:{display:n?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.6)",position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",pointerEvents:"none",zIndex:999},replace:{pointerEvents:"none",position:"relative",top:"unset",left:"unset"}};return m("div",{ref:this.dropRef,style:l.frame,children:m("button",{className:"media-options-button multiple",style:l.replace,children:"Replace"})})}onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:!1})};onDragDrop=(e,i,r)=>{clearTimeout(this.showDropTargetTimer),this.onDragOver.cancel(),!(this.dropRef.current!==r.customDropTarget||!this.state.swapTarget||r.inAdmin)&&(CargoEditor.mutationManager.execute(()=>{let n=window.store.getState(),o=this.state.swapTarget,l=r.draggedMediaItems[0],u=o.closest("[thumbnail-index]"),c=o.getAttribute("hash"),d=l.getAttribute("hash"),f=o.closest("[id]")?.getAttribute("id");if(u){let P=o.getAttribute("href");f=Qe.getContentByPurl(n,P)?.id||null}if(!f||!d)return;let g=Qe.getMediaByHash(n)[d]||null,v=Qe.getMediaByHash(n)[c]||null;if(!g)return;let{CRDTItem:S}=be.getCRDTItem({reducer:"pages.byId",item:f});if(!(n.pages.byId[f].media||[]).find(P=>P.hash==g.hash)){if(!(S.get("media")instanceof be.adminWindow.Y.Array)){let I=new be.adminWindow.Y.Array;I.insert(0,S.get("media")||[]),S.set("media",I)}let P=be.convertStateToSharedType(g,new be.adminWindow.Y.Map);S.get("media").push([P])}if(u)be.applyChangesToYType(S,{thumb_media_id:g.id});else{let P=g&&v&&(g.is_video!==v.is_video||g.is_image!==v.is_image||g.is_video!==v.is_video);v&&P&&(o.removeAttribute("autoplay"),o.removeAttribute("loop"),o.removeAttribute("muted"),o.removeAttribute("poster"),o.removeAttribute("browser-default"),g.is_video?(!g.has_audio_track||g.duration<15?(o.setAttribute("autoplay",!0),o.setAttribute("muted",!0),o.setAttribute("loop",!0)):(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),g.duration<20&&o.setAttribute("loop",!0)),o.setAttribute("autoplay",!0),o.setAttribute("loop",!0),o.setAttribute("muted",!0)):g.is_url&&(g.url_type=="vimeo"||g.url_type=="youtube")&&(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),o.setAttribute("muted",!1),o.setAttribute("loop",!1))),o.removeAttribute("src"),o.setAttribute("hash",d),o.removeAttribute("width"),o.removeAttribute("height")}}),this.setState({readyForDrop:!1,swapTarget:null,draggingOverItem:!1}))};onBeforeDrop=(e,i,r)=>{!r.fromAdmin&&!r.fromOutside||this.state.readyForDrop&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&r.draggedMediaItems.length===1&&(be.globalDragEventController.releaseCustomDropTarget(r.customDropTarget),be.globalDragEventController.setCustomDropTarget(this.dropRef.current))};onDragOver=(e,i,r)=>{let n=i.target.closest("MEDIA-ITEM"),o=r.draggedMediaItems.length===1&&r.draggedMediaItems[0]!==n&&!r.draggedMediaItems.some(u=>u.getAttribute("hash")==="placeholder"),l=!r.inAdmin&&r.fromAdmin;if(n&&l&&o){let u=Math.abs(this.state.dragPos.x-r.cursorPosition.x)>2||Math.abs(this.state.dragPos.y-r.cursorPosition.y)>2;this.state.swapTarget!==n||u?(be.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({dragPos:{...r.cursorPosition},referenceDragPos:{...r.cursorPosition},readyForDrop:!1,draggingOverItem:!0,swapTarget:n}),this.showDropTargetTimer=setTimeout(this.showDropTarget,400)):this.setState({dragPos:{...r.cursorPosition}}),this.getRect()}else be.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:null,dragPos:{...r.cursorPosition}})};componentDidMount(){this.findDragController().then(()=>{be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),this.getRect.cancel(),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("before-drop",this.onBeforeDrop)}componentDidUpdate(e,i){(this.state.swapTarget!==i.swapTarget||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&this.state.swapTarget?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=()=>{this.ticking||(this.rectFrame=requestAnimationFrame(()=>{this.getRect(),this.ticking=!1}),this.ticking=!0)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=be.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()})},zR=po(r0)});var If,n0,HR,UR=T(()=>{Ee();Ca();qt();zi();ho();Re();If=he(xe(),1);ne();n0=class extends se{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,hf.contentWindow?.CargoEditor&&Object.keys(hf.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,i){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let i=window.pageYOffset,r=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-r);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=If.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let r=document.querySelector('[editing="true"] bodycopy');if(!r)return null;let n,o=window.getComputedStyle(r);n=o.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let l=o.getPropertyValue("line-height");l=Number(l.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:l}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=If.default.debounce((e,i)=>{e=CargoEditor.getActiveRange(),i=CargoEditor?.getActiveEditor();let r=i?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),o=!!(r||n);this.isDebug&&console.log("checkAndSetVisible",o),this.setVisible(o)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let i=e.endContainer.childNodes[e.endOffset-1],r=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;i&&CargoEditor.helpers.isWhitespaceNode(i);)i=i.previousSibling;for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(i)&&this.checkNodeContent(n)||this.checkNodeContent(r)&&!i))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,i,r)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=Is(),o=r.fontSize*.15*-1,l=r.lineHeight*.15*-1,u=document.createElement("input");u.style.display="inline-block",u.style.fontSize=r.fontSize+"px",u.style.border="0",u.style.background="blue",u.style.outline="none",u.style.width="2px",n?(u.style.height=r.lineHeight+"px",u.style.lineHeight=r.lineHeight+"px",u.style.margin=`${l}px 0 0 0`,u.style.padding="0",u.style.verticalAlign="text-bottom"):(u.style.height=r.fontSize+"px",u.style.verticalAlign="middle",u.style.margin=`${o}px 0 0 0`,u.style.padding="0"),u.setAttribute("data-ignore-changes",""),u.setAttribute("data-prevent-copy",""),u.setAttribute("disabled",""),u.setAttribute("readonly",""),u.setAttribute("test-delete-visible",""),u.setSaveable(!1),e.insertNode(u);let c=CargoEditor?.getActiveEditor()?.getElement?.()?.getBoundingClientRect(),d=u.getBoundingClientRect();u.nextSibling&&u.nextSibling.nodeType===Node.TEXT_NODE&&u.nextSibling.setSaveable(!0),u.remove();let f=c.height-i.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:d.bottom-f,height:d.height,center:d.bottom-f-(d.top-f),left:d.left,right:d.right,top:d.top-f,width:d.width,x:d.x-f,y:d.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),i=!1,r=!1,n=null,o=null,l=null,u=null,c=null,d=null,f=0,g=0,v=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(v>20&&(v=20),v<10&&(v=10),!If.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(o=n.getElement()),i=n?.checkIfEmpty(),r=this.isEligibleEmptyLine(e)),d=o?o.getBoundingClientRect():null,r||i){let E=this.getTextCursorRect(e,d,this.state.parentFontInfo),_=0,P=0;if(!E){this.ticking=!1;return}let I=this.state.parentFontInfo,L=1-I.fontSize/I.lineHeight,F=I.lineHeight,z=I.fontSize;Is()?_=E.bottom-I.lineHeight*.5:_=E.bottom-E.height*.5,u=_,c=Math.ceil(E.left)}g=c?4:0,c=c+g,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:u,left:c},rect:{top:u,left:c}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let i=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),be.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:i})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,i=e>20?20:e;i=i<10?10:i;let r=i/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:i+"px",width:i+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${r}px)`},svg:{pointerEvents:"none",height:i+"px",width:i+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return m("div",{style:n.frame,children:m("button",{className:"insert-content-button",style:n.button,onContextMenu:o=>{o.preventDefault(),this.callContextMenu(o)},onMouseDown:o=>{this.callContextMenu(o)},children:m("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:i+"px",height:i+"px",viewBox:"0 0 20 20",fill:"none",children:[m("circle",{cx:"10",cy:"10",r:"8"}),m("g",{children:[m("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),m("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},HR=po(n0)});var mo,ze,o0,BR,zi=T(()=>{Ee();$e();pt();mo=he(xe(),1);qt();Re();qR();UR();Sr();ne();ze={},o0=class extends se{constructor(e){super(e),this.sR=document.createElement("div"),this.testHover=mo.default.throttle(this.testHover,60),this.lockedElements=[],this.state={selecting:!1,unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.onContentChange=mo.default.throttle(this.onContentChange,80,{leading:!0,tailing:!0}),window.addEventListener("scroll",this.onScroll),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{this.updateElementRect(r.target)})}),this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=me(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),this.findDragController().then(i=>{this.dragController=i,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(i=>{console.warn("Editor overlay failed to find drag controller.",i)}),ze.lock=this.lock,ze.unlock=this.unlock,ze.lockItem=this.lockItem,ze.unlockItem=this.unlockItem,ze.setHoveredElements=this.setHoveredElements,ze.deactivateHoverElement=this.deactivateHoverElement,ze.activateHoverElement=this.activateHoverElement,ze.getPortal=this.getPortal,ze.removePortal=this.removePortal,ze.portalMap=this.portalMap,ze.testHover=this.testHover,ze.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return m("div",{className:this.state.selecting?"selecting":"",id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:this.state.unattachedOverlayContainer&&Ge(m(re,{children:[m(zR,{}),e?m(HR,{}):null]}),this.state.unattachedOverlayContainer)})}componentDidMount(){if(!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheets" href="https://build.cargo.site/frontend/656a48/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(r=>{this.editorOverlayRef.current.shadowRoot.appendChild(r)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let i=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:i})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{be.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor Overlay failed to find Editor.",e)})}componentDidUpdate(e,i){let{hoveredElements:r}=i,{hoveredElements:n}=this.state,o=mo.default.difference(n,r);mo.default.difference(r,n).forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerOut?.()})}),o.forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerIn?.()})}),this.updatePageButtonPositions(),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),this.onContentChange.cancel(),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.CargoEditor&&(this.CargoEditor.events.off("mutation-start",this.onMutationStart),this.CargoEditor.events.off("mutation-end",this.onMutationEnd),this.CargoEditor.events.off("editor-keyup",this.onContentChange),this.CargoEditor.events.off("editor-summary-created",this.onContentChange)),this.portalMap.forEach((e,i,r)=>{this.removePortal(i)}),this.noPointerEventsArray=[],window.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),be.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=be.adminWindow;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i("not found."))};n=setInterval(o,300),o()});onMutationStart=()=>{SR()};onMutationEnd=()=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{_R(),this.ticking=!1}))};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("mutation-start",this.onMutationStart),this.CargoEditor.events.on("mutation-end",this.onMutationEnd),this.CargoEditor.events.on("editor-keyup",this.onContentChange),this.CargoEditor.events.on("editor-summary-created",this.onContentChange)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=be.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()});updateElementRect=e=>{let r=this.portalMap.get(e);if(r){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},o=e.getBoundingClientRect();Object.keys(n).forEach(l=>{n[l]=Math.round(o[l])}),n.height<10&&(n.height=10,n.bottom=n.top+10),r.extraMargins.forEach((l,u)=>{if(!(l===void 0||l===0))switch(u){case 0:n.top=n.y=n.top-l,n.height=n.height+l;break;case 1:n.right=n.right+l,n.width=n.width+l;break;case 2:n.height=n.height+l,n.bottom=n.bottom+l;break;case 3:n.left=n.x=n.left-l,n.width=n.width+l;break}}),this.portalMap.set(e,{portalHosts:r.portalHosts,rect:n,extraMargins:r.extraMargins}),r.portalHosts.forEach((l,u)=>{l?.updatePosition?.(n)})}};onContentChange=(e,i)=>{this.state.hoveredElements.forEach(r=>{this.updateElementRect(r)})};onScroll=()=>{this.noPointerEventsArray.forEach(this.updateElementRect),this.updatePageButtonPositions()};updatePageButtonPositions=()=>{let i=Array.from(this.portalMap).map(([u,c])=>{let d=null,f=Array.from(c?.portalHosts??[]).find(([E,_])=>_.props?.name=="EditPageButton"&&!_.props.isEditingPage?(d=E,!0):!1);if(!d?.querySelector("button.edit-page"))return!1;let g=d.querySelector("button.edit-page").getBoundingClientRect(),S=g.top<c.rect.top?{left:g.left+-f[1].state.shiftButtonX,width:g.width+1,top:g.top,height:g.height*2+1}:{left:g.left+-f[1].state.shiftButtonX,width:g.width+1,top:g.top-g.height+-2,height:g.height*2+1};return{mapRect:c.rect,portalHost:d,proposedRect:S,rect:S,component:f[1]}}).filter(u=>!!u),r=mo.default.sortBy(i,u=>u.mapRect.left),n=!0,o=4,l=0;for(;n&&l<o;)n=!1,r.forEach((u,c,d)=>{if(c===0)return;let f=u.rect,g=d.filter(v=>{if(v==u)return!1;let S=v.proposedRect;return f.left<S.left+S.width&&f.left+f.width>S.left&&f.top<S.top+S.height&&f.top+f.height>S.top});if(g.length>0){n=!0;let v=d[c-1],S=mo.default.sortBy(g,E=>-(E.proposedRect.left+E.proposedRect.width))[0];u.proposedRect={left:S.proposedRect.left+S.proposedRect.width,width:f.width,top:f.top,height:f.height},u.component.setState({shifted:!0,shiftButtonX:u.proposedRect.left-f.left}),c==1&&r[0].component.setState({shifted:!0,shiftButtonX:0})}else u.component.setState({shifted:!1,shiftButtonX:0}),c==1&&r[0].component.setState({shifted:!1,shiftButtonX:0})}),l++};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0}),this.dragContentChangeTimeout=setTimeout(()=>{this.onContentChange()},30)};getPortal=(e,i={})=>{if(e)if(this.portalMap.has(e)){var r=this.portalMap.get(e),n=null;if(r.portalHosts.forEach((o,l)=>{i.component===o&&(n=l)}),n)return n;{let o=document.createElement("div");return this.sR.appendChild(o),r.portalHosts.set(o,i.component),o}}else{let o=document.createElement("div");this.sR.appendChild(o);let l={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:i.extraMargins||[]};return o.setAttribute("editor-overlay-tag-name",e.tagName),o._editorBaseNode=e,l.portalHosts.set(o,i.component),this.portalMap.set(e,l),i.trackResize&&this.resizeObserver.observe(e),i.noPointerEvents&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),i.extraMargins&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),o}};removePortal=(e,i)=>{if(this.portalMap.has(e)){let r=this.portalMap.get(e);r.portalHosts.has(i)&&(r.portalHosts.delete(i),i.parentNode.removeChild(i)),r.portalHosts.size===0&&(this.resizeObserver.unobserve(e),this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let i=this.lockedElements.indexOf(e);i>-1&&this.lockedElements.splice(i,1)};deactivateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r],o=r.indexOf(e);if(o>-1)n=n.splice(o,1);else return null;return{...i,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r];if(n.indexOf(e)==-1)n.push(e);else return null;return{...i,hoveredElements:n}})};setHoveredElements=e=>{let i=Array.isArray(e)?e:[e];i=i.filter(r=>!!r),mo.default.isEqual(this.state.hoveredElements,i)||this.setState({hoveredElements:i})};testHover=()=>{let{locked:e}=this.state;if(e)return;let i=Array.from(document.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[],r=Array.from(this.editorOverlayRef.current.shadowRoot.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[];r=r.map(c=>c.closest("[editor-overlay-tag-name]")?._editorBaseNode).filter(c=>!!c),r=mo.default.difference(r,i),r.forEach(c=>{c&&i.indexOf(c)==-1&&i.push(c)}),this.noPointerEventsArray.forEach(c=>{let d=this.portalMap.get(c);d&&d.rect&&this.pointerPosition.x<=d.rect.left+d.rect.width&&this.pointerPosition.x>=d.rect.left&&this.pointerPosition.y<=d.rect.top+d.rect.height&&this.pointerPosition.y>=d.rect.top&&i.indexOf(c)==-1&&i.push(c)}),i=mo.default.uniq(i);let n=[...this.state.hoveredElements];this.lockedElements.forEach(c=>{let d=n.indexOf(c),f=i.indexOf(c);f===-1&&d>-1?i.push(c):d===-1&&f>-1&&i.splice(f,1)});let o=CargoEditor?.getActiveEditor?.()?.getElement(),l=o?o.closest(".overlay-content"):null,u=l&&i.some(c=>c.tagName==="BODYCOPY"&&l.contains(c));o&&l&&u&&(i=i.filter(c=>l.contains(c))),this.setHoveredElements(i)};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{this.setState({selecting:!1}),setTimeout(()=>{this.setHoveredElements([])},100)};onFirstSelectionChange=()=>{this.setState({selecting:!0})};onPointerDown=e=>{this.selectionWaitTimeout=setTimeout(()=>{document.addEventListener("selectionchange",this.onFirstSelectionChange,{once:!0})},60)};onPointerUp=e=>{clearTimeout(this.selectionWaitTimeout),document.removeEventListener("selectionchange",this.onFirstSelectionChange,{once:!0}),this.setState({selecting:!1})};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,this.testHover()}},BR=ke((t,e)=>({adminMode:t.frontendState.adminMode}))(o0)});var s0,fd,LY,Af,qi,go=T(()=>{Ee();zi();s0=he(xe(),1);ne();fd=[],LY=s0.default.debounce(()=>{if(CargoEditor&&Object.keys(CargoEditor).length>0){var t=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(t);let r=[],n=[];if(t&&!t.collapsed){var i=CargoEditor.helpers.getAllEffectivelyContainedNodes(t);i=i.filter(o=>o.shadowRoot),fd.forEach(o=>{i.includes(o.props.baseNode)?r.push(o):n.push(o)})}else n=fd;if(n.forEach(o=>{o.setState({selected:!1})}),r.forEach(o=>{o.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(o.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(o.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let o=fd.find(l=>l.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);o&&o.setState({selected:!0,collapseDirection:e.collapseDirection})}fd.length=0}},30),Af=class extends se{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+s0.default.uniqueId():"selection-status"}render(e,i){let r=i.collapseDirection?" "+i.collapseDirection+" collapsed-range":"";return m(re,{children:[m("style",{id:"selection-status",children:`
		${this.state.selected&&!this.props.onlyAllowCollapsedRange?`
		::slotted(*) {
			--selection-color: transparent;
		}
		`:""}

		${this.props.onlyAllowCollapsedRange?"":`::selection{
			background-color:transparent;
		}
		:host(::selection) {
			background-color:transparent;
		}`}

		.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: var(--selection-color);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),m("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${r}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()&&(fd.push(this),LY()),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,i){this.state.collapseDirection!==i.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&(ze.updateElementRect(this.props.baseNode),this.updateCurrentColor());let i=e?.detail?.collapsed||!1,r=!0;this.props.onlyAllowCollapsedRange&&(r=i),this.setState({selected:r,collapseDirection:i}),this.props.onSelectionChange&&(i?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let r=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:r})}}};Af.defaultProps={inFront:!0,overlayMode:!1};qi=Af});var Tf,md,WR,gd,$R,VR=T(()=>{Ee();Tf=he(xe(),1);ne();md=new Map,WR=t=>{let e=[],i=[],r=[];md.forEach((o,l)=>{o.locateEyeball();let{rect:u}=o.state;if(o.props["roll-independently"]==!0){let c=Math.atan2(t.clientY-(u.top+u.height*.5),t.clientX-(u.left+u.width*.5))*(180/Math.PI)+90;o.setState({eyeRotation:c})}else i.push(u.left+u.width*.5),r.push(u.top+u.height*.5),e.push(o)});let n={x:Tf.default.mean(i),y:Tf.default.mean(r)};e.forEach(o=>{let l=Math.atan2(t.clientY-n.y,t.clientX-n.x)*(180/Math.PI)+90;o.setState({eyeRotation:l})})},gd=class extends se{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=Tf.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,i){return m(re,{children:[e.children,m("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){md.size==0&&window.addEventListener("pointermove",WR),md.set(this.props.baseNode,this)}componentWillUnmount(){md.delete(this.props.baseNode),md.size===0&&window.removeEventListener("pointermove",WR)}};gd.defaultProps={"roll-independently":!0};gd.transformSlot="--rotate-transform";$R=gd});var jR,vd,GR,KR=T(()=>{Ee();jR=he(xe(),1);ne();vd=class extends se{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,i){let{animate:r}=e,n=Number(r)!==0,o=n?50/Number(r):1,l="var(--base-translate, translate(0))",u=l;return e.transformSlots.forEach(c=>{c==="--rotate-transform"?(l+=` rotate(${parseFloat(e.rotation)}deg)`,u+=` rotate(${parseFloat(e.rotation)+360}deg)`):(l+=` var(${c}, translate(0))`,u+=` var(${c}, translate(0))`)}),m(re,{children:[e.children,m("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${l};
                    }
                    to {
                        transform: ${u};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(o)}s linear ${Math.sign(Number(r))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=jR.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};vd.defaultProps={rotation:0,animate:0};vd.transformSlot="--rotate-transform";GR=vd});var YR,XR=T(()=>{YR={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var ZR,Bn,a0,Mf,JR,QR=T(()=>{ZR=he(xe(),1);Ee();$e();XR();_r();ne();a0=new Set,Mf=class extends se{constructor(e){super(e),this.flierID="-"+(0,ZR.uniqueId)(),this.flierRef=me();let i=this.generateRandomIntInclusive(1,1e4);this.state={portalElement:null,currentAnimation:"fly1",flightCount:i,calculatedAnimations:{fly1:this.calculateFlyAnimation(i,1),fly2:this.calculateFlyAnimation(i,2),fly3:this.calculateFlyAnimation(i,3),fly4:this.calculateFlyAnimation(i,4)}}}generateRandomIntInclusive(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var i=Math.sin(e)*1e4;return i-Math.floor(i)}shuffleFromSeed(e,i){for(var r=e.length,n,o;r;)o=Math.floor(this.generateRandomIntFromSeed(i)*r--),n=e[r],e[r]=e[o],e[o]=n,++i;return e}calculateFlyAnimation(e,i){let r=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),o=Number(this.props.scale.replace("vmax","")),l=this.props.rotation/5*180,u=[{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vh`},{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`}],c=[{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`},{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0:60,r?40:100+1.4*o)}vh`}],d=[{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`}],f=[{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`}],g=n.reduce((v,S)=>{switch(S){case"ltr":return v.concat(u);case"rtl":return v.concat(c);case"ttb":return v.concat(d);case"btt":return v.concat(f);default:return v}},[]);switch(i){case 1:return`
					0% {
						transform: translateX(${g[0].x}) translateY(${g[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${g[0].x}) translateY(${g[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[1].x}) translateY(${g[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[1].x}) translateY(${g[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${g[2].x}) translateY(${g[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${g[2].x}) translateY(${g[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[3].x}) translateY(${g[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[3].x}) translateY(${g[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${g[4].x}) translateY(${g[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${g[4].x}) translateY(${g[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[5].x}) translateY(${g[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[5].x}) translateY(${g[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${g[6].x}) translateY(${g[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${g[6].x}) translateY(${g[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[7].x}) translateY(${g[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[7].x}) translateY(${g[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let i=Number(e.animationName.substr(3,1)),r=i<4?i+1:1;this.setState({currentAnimation:`fly${r}`,...r===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){if(Bn||(Bn=document.createElement("media-item"),Bn.setAttribute("no-component",""),Bn.shadowRoot||Bn.attachShadow({mode:"open"}),Bn.shadowRoot.innerHTML=`
			<style>
				:host {
					all:unset!important;
					border:none!important;
					padding: 0!important;
					position: fixed!important;
					z-index: 5000!important;
					pointer-events:none!important;
					background:none!important;
					inset: 0!important;
					overflow: hidden!important;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border-radius:0!important;
					padding: 0!important;
					border: none !important;
					position: absolute;
					width: 100%;
					height: 100%;
					inset: 0;
				}

				.spinner img,
				.spinner video {
					object-fit: contain;
				}
				.spinner .frame,
				.spinner .sizing-frame {
					display: contents;
				}				
			</style>
			`,document.body.appendChild(Bn)),!this.state.portalElement){let e=document.createElement("div");e.style.display="contents",Bn.shadowRoot.appendChild(e),this.setState({portalElement:e},()=>{this.flierRef.current&&this.flierRef.current.addEventListener("animationend",i=>this.onAnimationEnd(i))})}a0.add(this)}componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e)),this.state.portalElement&&this.state.portalElement.remove(),a0.delete(this),a0.size==0&&Bn&&(Bn.remove(),Bn=null)}render(e,i){let{speed:r,rotation:n,scale:o,delay:l,adminMode:u}=e,{currentAnimation:c,flightCount:d,calculatedAnimations:f,portalElement:g}=i;return g?m(re,{children:[m("style",{children:":host {display:none!important;}"}),Ge(m(re,{children:[m("style",{children:`

					.flier${this.flierID} {
						pointer-events: none !important;
						top: 0;
						left: 0;
						position: absolute;
						z-index:9995;
						transform: translateX(-100%) translateY(-100%);
						animation-delay: ${l}s;
						animation-duration: ${this.calculateDuration(r)/4}s;
						animation-timing-function: linear;
						animation-direction: ${Math.sign(r)===1?"normal":"reverse"};
					}

					.fly1${this.flierID} {
						animation-name: fly1${this.flierID};
					}

					.fly2${this.flierID} {
						animation-name: fly2${this.flierID};
					}

					.fly3${this.flierID} {
						animation-name: fly3${this.flierID};
					}

					.fly4${this.flierID} {
						animation-name: fly4${this.flierID};
					}

					.flier${this.flierID} .spinner {
						${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
						width: ${o};
						height: ${o};
						display: flex;
						align-items: center;
						justify-content: center;
					}

					.flier${this.flierID} .spinner figure {
						padding: 0;
						margin: 0;
						width: ${o};
						height: ${o};
					}

				
					/* Keyframe values control where the element will begin
						and end its trajectory across the screen. Each rule
						represents a path the element follows across the screen. */
					
				
					@keyframes fly1${this.flierID} {
						${f.fly1}
					}

					@keyframes fly2${this.flierID} {
						${f.fly2}
					}

					@keyframes fly3${this.flierID} {
						${f.fly3}
					}

					@keyframes fly4${this.flierID} {
						${f.fly4}
					}

					@keyframes spin {
						0% {
							transform: rotateZ(0deg);
						}
						100% {
							transform: rotateZ(3600deg);
						}
					}
				`}),m("div",{className:`flier${this.flierID} ${c}${this.flierID}`,ref:this.flierRef,children:m("div",{className:"spinner",children:e.children})})]}),g)]}):null}};Mf.defaultProps=YR;JR=Mf});var eN,yd,tN,iN=T(()=>{Ee();$e();eN=he(xe(),1);_r();ne();yd=class extends _i{constructor(e){super(e),this.uid=eN.default.uniqueId(),this.state={inited:!1,viewportIntersection:"neutral",isVisible:!1,hasLayout:!1,inTransition:{},suppressTransition:!0}}render(e,i){let r=this.state.viewportIntersection,n=this.props["scroll-variables"].split(" ").filter(c=>c!=="").map(c=>"--scroll-"+c);n.push("--scroll-translate","--scroll-transition","--scroll-opacity"),n=n.map(c=>c+": var("+(c.startsWith("--")?"":"--")+c+"-"+r+"); ").join(" ");let o=this.props["scroll-animation-duration"]||"1000",l=Object.values(this.state.inTransition).some(c=>c==!0),u=!!this.props.baseNode.closest(".overlay-animating");return m(re,{children:[e.children,m("style",{id:"scroll-transition",children:`
				:host {
					--scroll-opacity-above: 1;
				    --scroll-opacity-inside: 1;
				    --scroll-opacity-below: 0;
					opacity: var(--scroll-opacity, 1);
					${l||this.state.waitingForTransition?"will-change: opacity, transform;":""}

					--scroll-transition-above: 0s transform ease-in-out, 0s opacity ease-in-out;
				    --scroll-transition-inside: ${o}ms transform ease-in-out, ${o}ms opacity ease-in-out;
				    --scroll-transition-below: 0s transform ease-in-out, 0s opacity ease-in-out;
					${this.state.suppressTransition||u?"":"transition: var(--scroll-transition);"}

					--scroll-translate-below: translateY(40px);
					--scroll-translate-inside: translateY(0px);
					--scroll-translate-above: translateY(0px);

					${n}
				}

				:host-context(.overlay-content.overlay-animating) {
					transition: none !important;
				}
			`})]})}onViewportIntersectionChange=e=>{this.setState({isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout})};onTransitionStart=e=>{e.target===this.props.baseNode&&this.setState(i=>({...i,waitingForTransition:!1,inTransition:{...i.inTransition,[e.propertyName]:!0}}))};onTransitionEnd=e=>{e.target===this.props.baseNode&&this.setState(i=>{let r={...i.inTransition,[e.propertyName]:!1},n=Object.values(r).every(o=>o==!1);return{...i,suppressTransition:n,inTransition:r}})};componentDidMount(){if(this.props.baseNode.addEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.addEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.addEventListener("transitioncancel",this.onTransitionEnd),this.props.customElementMode){let e=this.props.visibility?.visible??!1,i=this.props.visibility?.position??"below",r=this.props.visibility?.hasLayout??!1;this.setState({isVisible:e,viewportIntersection:i,hasLayout:r})}else Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}componentDidUpdate(e,i){if(this.state.viewportIntersection!==i.viewportIntersection&&(this.state.isVisible?this.setState({waitingForTransition:!0,suppressTransition:!1}):this.state.waitingForTransition||this.setState({suppressTransition:!0})),this.props.customElementMode&&this.props.visibility?.position!==e.visibility?.position){let r=this.props.visibility?.visible?this.props.visibility.visible:!1,n=this.props.visibility?.position||"below",o=this.props.visibility?.hasLayout||!1;this.setState({isVisible:r,viewportIntersection:n,hasLayout:o})}}componentWillUnmount(){clearTimeout(this.transitionCheckTimeout),cancelAnimationFrame(this.viewportAnimFrame),cancelAnimationFrame(this.lazyloadFrame),clearTimeout(this.initTimeout),this.props.baseNode.removeEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.removeEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.removeEventListener("transitioncancel",this.onTransitionEnd),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}};yd.defaultProps={"scroll-variables":""};yd.transformSlot="--scroll-translate";tN=yd});var Nge,bd,Rf,FY,rN,nN=T(()=>{Ee();pt();Fi();Nge=he(xe(),1);ne();bd=new Map,Rf=class extends se{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,i){if(e.adminMode)return e.children;let{x:r,y:n,z:o}=i;return m(re,{children:[e.children,this.inSlideshow?null:m("style",{id:"draggable-item",children:`
				:host {
					${this.props.adminMode?"":`
						pointer-events: auto!important;
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${i.dragging?"--scroll-transition: 0s all!important; cursor: grabbing;":"cursor: grab;"}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${i.interacted?`translate3d(${r}px, ${n}px, ${o+100}px)`:`translate(${r}px, ${n}px)`};
					${!this.props.adminMode&&i.interacted?`z-index: ${o+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let i=this.state.z;bd.forEach((r,n)=>{n!==this.props.baseNode&&r.state.z>i&&r.setState(o=>({z:o.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:bd.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let i=e.clientX,r=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-i,2)+Math.pow(this.mousePosition.y-r,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),bd.set(this.props.baseNode,this),this.setState({z:bd.size+10})}componentDidUpdate(e,i){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),bd.delete(this.props.baseNode)}};Rf.transformSlot="--drag-transform";FY=ke((t,e)=>({adminMode:t.frontendState.adminMode}))(Rf),rN=FY});var oN,l0=T(()=>{oN={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var zge,Nf,sN,aN=T(()=>{Ee();zge=he(xe(),1);l0();ne();Nf=class extends se{constructor(e){super(e)}render(e,i){let r=this.props["dropshadow-offset"].split(" "),n=r[0],o=r.length>1?r[1]:r[0];return m(re,{children:[e.baseNode.tagName==="MEDIA-ITEM"?m("style",{children:`
                        img {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):m("style",{children:`
                        :host {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};Nf.defaultProps=oN;sN=Nf});var $ge,kf,lN,uN=T(()=>{Ee();$ge=he(xe(),1);ne();kf=class extends se{constructor(e){super(e)}render(e,i){return m(re,{children:[e.baseNode.tagName==="MEDIA-ITEM"?m("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):m("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};kf.defaultProps={"background-color":"rgba(0,0,0,0)"};lN=kf});var Yge,Of,cN,dN=T(()=>{Ee();Yge=he(xe(),1);l0();ne();Of=class extends se{constructor(e){super(e)}render(e,i){let r=Object.keys(e).reduce((n,o)=>{if(o.includes("-style")){let l=o.replace("-style","");n.push({part:l,styles:e[o]?e[o].replaceAll(";","!important;"):""})}return n},[]);return m(re,{children:[m("style",{children:r.map(({part:n,styles:o})=>`[part*="${n}"] { ${o} }`)}),e.children]})}};Of.defaultProps={};cN=Of});var pN=T(()=>{});var rve,Df,hN,fN=T(()=>{Ee();rve=he(xe(),1);pN();ne();Df=class extends se{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,i){let r=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),o="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):o="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):o="ease";break;case Number(this.props["blink-transition"])>0:o="ease";break}return m(re,{children:[e.children,m("style",{children:`
					:host {
						animation: ${r}s infinite ${o} blink;
						-webkit-animation: ${r}s infinite ${o} blink;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};Df.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};hN=Df});function qY(t){return!!t&&typeof t=="object"}function HY(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||WY(t)}function WY(t){return t.$$typeof===BY}function $Y(t){return Array.isArray(t)?[]:{}}function Lf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ff($Y(t),t,e):t}function VY(t,e,i){return t.concat(e).map(function(r){return Lf(r,i)})}function jY(t,e,i){var r={};return i.isMergeableObject(t)&&Object.keys(t).forEach(function(n){r[n]=Lf(t[n],i)}),Object.keys(e).forEach(function(n){!i.isMergeableObject(e[n])||!t[n]?r[n]=Lf(e[n],i):r[n]=Ff(t[n],e[n],i)}),r}function Ff(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||VY,i.isMergeableObject=i.isMergeableObject||zY;var r=Array.isArray(e),n=Array.isArray(t),o=r===n;return o?r?i.arrayMerge(t,e,i):jY(t,e,i):Lf(e,i)}var zY,UY,BY,mN=T(()=>{zY=function(e){return qY(e)&&!HY(e)};UY=typeof Symbol=="function"&&Symbol.for,BY=UY?Symbol.for("react.element"):60103;Ff.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,n){return Ff(r,n,i)},{})}});var GY,zf,u0=T(()=>{GY=typeof global=="object"&&global&&global.Object===Object&&global,zf=GY});var KY,YY,Ci,Wn=T(()=>{u0();KY=typeof self=="object"&&self&&self.Object===Object&&self,YY=zf||KY||Function("return this")(),Ci=YY});var XY,wn,wd=T(()=>{Wn();XY=Ci.Symbol,wn=XY});function QY(t){var e=ZY.call(t,xd),i=t[xd];try{t[xd]=void 0;var r=!0}catch{}var n=JY.call(t);return r&&(e?t[xd]=i:delete t[xd]),n}var gN,ZY,JY,xd,vN,yN=T(()=>{wd();gN=Object.prototype,ZY=gN.hasOwnProperty,JY=gN.toString,xd=wn?wn.toStringTag:void 0;vN=QY});function iX(t){return tX.call(t)}var eX,tX,bN,wN=T(()=>{eX=Object.prototype,tX=eX.toString;bN=iX});function oX(t){return t==null?t===void 0?nX:rX:xN&&xN in Object(t)?vN(t):bN(t)}var rX,nX,xN,$n,au=T(()=>{wd();yN();wN();rX="[object Null]",nX="[object Undefined]",xN=wn?wn.toStringTag:void 0;$n=oX});function sX(t,e){return function(i){return t(e(i))}}var qf,c0=T(()=>{qf=sX});var aX,Hf,d0=T(()=>{c0();aX=qf(Object.getPrototypeOf,Object),Hf=aX});function lX(t){return t!=null&&typeof t=="object"}var xn,$a=T(()=>{xn=lX});var CN=W((Pve,EN)=>{"use strict";var SN=Array.isArray,_N=Object.keys,uX=Object.prototype.hasOwnProperty,cX=typeof Element<"u";function p0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=SN(t),r=SN(e),n,o,l;if(i&&r){if(o=t.length,o!=e.length)return!1;for(n=o;n--!==0;)if(!p0(t[n],e[n]))return!1;return!0}if(i!=r)return!1;var u=t instanceof Date,c=e instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,f=e instanceof RegExp;if(d!=f)return!1;if(d&&f)return t.toString()==e.toString();var g=_N(t);if(o=g.length,o!==_N(e).length)return!1;for(n=o;n--!==0;)if(!uX.call(e,g[n]))return!1;if(cX&&t instanceof Element&&e instanceof Element)return t===e;for(n=o;n--!==0;)if(l=g[n],!(l==="_owner"&&t.$$typeof)&&!p0(t[l],e[l]))return!1;return!0}return t!==t&&e!==e}EN.exports=function(e,i){try{return p0(e,i)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}});function dX(){this.__data__=[],this.size=0}var PN,IN=T(()=>{PN=dX});function pX(t,e){return t===e||t!==t&&e!==e}var Uf,h0=T(()=>{Uf=pX});function hX(t,e){for(var i=t.length;i--;)if(Uf(t[i][0],e))return i;return-1}var Ls,Sd=T(()=>{h0();Ls=hX});function gX(t){var e=this.__data__,i=Ls(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():mX.call(e,i,1),--this.size,!0}var fX,mX,AN,TN=T(()=>{Sd();fX=Array.prototype,mX=fX.splice;AN=gX});function vX(t){var e=this.__data__,i=Ls(e,t);return i<0?void 0:e[i][1]}var MN,RN=T(()=>{Sd();MN=vX});function yX(t){return Ls(this.__data__,t)>-1}var NN,kN=T(()=>{Sd();NN=yX});function bX(t,e){var i=this.__data__,r=Ls(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var ON,DN=T(()=>{Sd();ON=bX});function lu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Fs,_d=T(()=>{IN();TN();RN();kN();DN();lu.prototype.clear=PN;lu.prototype.delete=AN;lu.prototype.get=MN;lu.prototype.has=NN;lu.prototype.set=ON;Fs=lu});function wX(){this.__data__=new Fs,this.size=0}var LN,FN=T(()=>{_d();LN=wX});function xX(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var zN,qN=T(()=>{zN=xX});function SX(t){return this.__data__.get(t)}var HN,UN=T(()=>{HN=SX});function _X(t){return this.__data__.has(t)}var BN,WN=T(()=>{BN=_X});function EX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vo,uu=T(()=>{vo=EX});function TX(t){if(!vo(t))return!1;var e=$n(t);return e==PX||e==IX||e==CX||e==AX}var CX,PX,IX,AX,Bf,f0=T(()=>{au();uu();CX="[object AsyncFunction]",PX="[object Function]",IX="[object GeneratorFunction]",AX="[object Proxy]";Bf=TX});var MX,Wf,$N=T(()=>{Wn();MX=Ci["__core-js_shared__"],Wf=MX});function RX(t){return!!VN&&VN in t}var VN,jN,GN=T(()=>{$N();VN=function(){var t=/[^.]+$/.exec(Wf&&Wf.keys&&Wf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();jN=RX});function OX(t){if(t!=null){try{return kX.call(t)}catch{}try{return t+""}catch{}}return""}var NX,kX,Jo,m0=T(()=>{NX=Function.prototype,kX=NX.toString;Jo=OX});function BX(t){if(!vo(t)||jN(t))return!1;var e=Bf(t)?UX:LX;return e.test(Jo(t))}var DX,LX,FX,zX,qX,HX,UX,KN,YN=T(()=>{f0();GN();uu();m0();DX=/[\\^$.*+?()[\]{}|]/g,LX=/^\[object .+?Constructor\]$/,FX=Function.prototype,zX=Object.prototype,qX=FX.toString,HX=zX.hasOwnProperty,UX=RegExp("^"+qX.call(HX).replace(DX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");KN=BX});function WX(t,e){return t?.[e]}var XN,ZN=T(()=>{XN=WX});function $X(t,e){var i=XN(t,e);return KN(i)?i:void 0}var Or,zs=T(()=>{YN();ZN();Or=$X});var VX,qs,$f=T(()=>{zs();Wn();VX=Or(Ci,"Map"),qs=VX});var jX,Qo,Ed=T(()=>{zs();jX=Or(Object,"create"),Qo=jX});function GX(){this.__data__=Qo?Qo(null):{},this.size=0}var JN,QN=T(()=>{Ed();JN=GX});function KX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ek,tk=T(()=>{ek=KX});function JX(t){var e=this.__data__;if(Qo){var i=e[t];return i===YX?void 0:i}return ZX.call(e,t)?e[t]:void 0}var YX,XX,ZX,ik,rk=T(()=>{Ed();YX="__lodash_hash_undefined__",XX=Object.prototype,ZX=XX.hasOwnProperty;ik=JX});function tZ(t){var e=this.__data__;return Qo?e[t]!==void 0:eZ.call(e,t)}var QX,eZ,nk,ok=T(()=>{Ed();QX=Object.prototype,eZ=QX.hasOwnProperty;nk=tZ});function rZ(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Qo&&e===void 0?iZ:e,this}var iZ,sk,ak=T(()=>{Ed();iZ="__lodash_hash_undefined__";sk=rZ});function cu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var g0,lk=T(()=>{QN();tk();rk();ok();ak();cu.prototype.clear=JN;cu.prototype.delete=ek;cu.prototype.get=ik;cu.prototype.has=nk;cu.prototype.set=sk;g0=cu});function nZ(){this.size=0,this.__data__={hash:new g0,map:new(qs||Fs),string:new g0}}var uk,ck=T(()=>{lk();_d();$f();uk=nZ});function oZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var dk,pk=T(()=>{dk=oZ});function sZ(t,e){var i=t.__data__;return dk(e)?i[typeof e=="string"?"string":"hash"]:i.map}var Hs,Cd=T(()=>{pk();Hs=sZ});function aZ(t){var e=Hs(this,t).delete(t);return this.size-=e?1:0,e}var hk,fk=T(()=>{Cd();hk=aZ});function lZ(t){return Hs(this,t).get(t)}var mk,gk=T(()=>{Cd();mk=lZ});function uZ(t){return Hs(this,t).has(t)}var vk,yk=T(()=>{Cd();vk=uZ});function cZ(t,e){var i=Hs(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var bk,wk=T(()=>{Cd();bk=cZ});function du(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Pd,v0=T(()=>{ck();fk();gk();yk();wk();du.prototype.clear=uk;du.prototype.delete=hk;du.prototype.get=mk;du.prototype.has=vk;du.prototype.set=bk;Pd=du});function pZ(t,e){var i=this.__data__;if(i instanceof Fs){var r=i.__data__;if(!qs||r.length<dZ-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new Pd(r)}return i.set(t,e),this.size=i.size,this}var dZ,xk,Sk=T(()=>{_d();$f();v0();dZ=200;xk=pZ});function pu(t){var e=this.__data__=new Fs(t);this.size=e.size}var _k,Ek=T(()=>{_d();FN();qN();UN();WN();Sk();pu.prototype.clear=LN;pu.prototype.delete=zN;pu.prototype.get=HN;pu.prototype.has=BN;pu.prototype.set=xk;_k=pu});function hZ(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var Ck,Pk=T(()=>{Ck=hZ});var fZ,y0,Ik=T(()=>{zs();fZ=function(){try{var t=Or(Object,"defineProperty");return t({},"",{}),t}catch{}}(),y0=fZ});function mZ(t,e,i){e=="__proto__"&&y0?y0(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Vf,b0=T(()=>{Ik();Vf=mZ});function yZ(t,e,i){var r=t[e];(!(vZ.call(t,e)&&Uf(r,i))||i===void 0&&!(e in t))&&Vf(t,e,i)}var gZ,vZ,jf,w0=T(()=>{b0();h0();gZ=Object.prototype,vZ=gZ.hasOwnProperty;jf=yZ});function bZ(t,e,i,r){var n=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?Vf(i,u,c):jf(i,u,c)}return i}var Us,Id=T(()=>{w0();b0();Us=bZ});function wZ(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var Ak,Tk=T(()=>{Ak=wZ});function SZ(t){return xn(t)&&$n(t)==xZ}var xZ,x0,Mk=T(()=>{au();$a();xZ="[object Arguments]";x0=SZ});var Rk,_Z,EZ,CZ,Nk,kk=T(()=>{Mk();$a();Rk=Object.prototype,_Z=Rk.hasOwnProperty,EZ=Rk.propertyIsEnumerable,CZ=x0(function(){return arguments}())?x0:function(t){return xn(t)&&_Z.call(t,"callee")&&!EZ.call(t,"callee")},Nk=CZ});var PZ,yo,hu=T(()=>{PZ=Array.isArray,yo=PZ});function IZ(){return!1}var Ok,Dk=T(()=>{Ok=IZ});var zk,Lk,AZ,Fk,TZ,MZ,Gf,S0=T(()=>{Wn();Dk();zk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lk=zk&&typeof module=="object"&&module&&!module.nodeType&&module,AZ=Lk&&Lk.exports===zk,Fk=AZ?Ci.Buffer:void 0,TZ=Fk?Fk.isBuffer:void 0,MZ=TZ||Ok,Gf=MZ});function kZ(t,e){var i=typeof t;return e=e??RZ,!!e&&(i=="number"||i!="symbol"&&NZ.test(t))&&t>-1&&t%1==0&&t<e}var RZ,NZ,qk,Hk=T(()=>{RZ=9007199254740991,NZ=/^(?:0|[1-9]\d*)$/;qk=kZ});function DZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OZ}var OZ,Kf,_0=T(()=>{OZ=9007199254740991;Kf=DZ});function sJ(t){return xn(t)&&Kf(t.length)&&!!Zt[$n(t)]}var LZ,FZ,zZ,qZ,HZ,UZ,BZ,WZ,$Z,VZ,jZ,GZ,KZ,YZ,XZ,ZZ,JZ,QZ,eJ,tJ,iJ,rJ,nJ,oJ,Zt,Uk,Bk=T(()=>{au();_0();$a();LZ="[object Arguments]",FZ="[object Array]",zZ="[object Boolean]",qZ="[object Date]",HZ="[object Error]",UZ="[object Function]",BZ="[object Map]",WZ="[object Number]",$Z="[object Object]",VZ="[object RegExp]",jZ="[object Set]",GZ="[object String]",KZ="[object WeakMap]",YZ="[object ArrayBuffer]",XZ="[object DataView]",ZZ="[object Float32Array]",JZ="[object Float64Array]",QZ="[object Int8Array]",eJ="[object Int16Array]",tJ="[object Int32Array]",iJ="[object Uint8Array]",rJ="[object Uint8ClampedArray]",nJ="[object Uint16Array]",oJ="[object Uint32Array]",Zt={};Zt[ZZ]=Zt[JZ]=Zt[QZ]=Zt[eJ]=Zt[tJ]=Zt[iJ]=Zt[rJ]=Zt[nJ]=Zt[oJ]=!0;Zt[LZ]=Zt[FZ]=Zt[YZ]=Zt[zZ]=Zt[XZ]=Zt[qZ]=Zt[HZ]=Zt[UZ]=Zt[BZ]=Zt[WZ]=Zt[$Z]=Zt[VZ]=Zt[jZ]=Zt[GZ]=Zt[KZ]=!1;Uk=sJ});function aJ(t){return function(e){return t(e)}}var fu,Yf=T(()=>{fu=aJ});var Wk,Ad,lJ,E0,uJ,es,Xf=T(()=>{u0();Wk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ad=Wk&&typeof module=="object"&&module&&!module.nodeType&&module,lJ=Ad&&Ad.exports===Wk,E0=lJ&&zf.process,uJ=function(){try{var t=Ad&&Ad.require&&Ad.require("util").types;return t||E0&&E0.binding&&E0.binding("util")}catch{}}(),es=uJ});var $k,cJ,Vk,jk=T(()=>{Bk();Yf();Xf();$k=es&&es.isTypedArray,cJ=$k?fu($k):Uk,Vk=cJ});function hJ(t,e){var i=yo(t),r=!i&&Nk(t),n=!i&&!r&&Gf(t),o=!i&&!r&&!n&&Vk(t),l=i||r||n||o,u=l?Ak(t.length,String):[],c=u.length;for(var d in t)(e||pJ.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||qk(d,c)))&&u.push(d);return u}var dJ,pJ,Zf,C0=T(()=>{Tk();kk();hu();S0();Hk();jk();dJ=Object.prototype,pJ=dJ.hasOwnProperty;Zf=hJ});function mJ(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||fJ;return t===i}var fJ,mu,Jf=T(()=>{fJ=Object.prototype;mu=mJ});var gJ,Gk,Kk=T(()=>{c0();gJ=qf(Object.keys,Object),Gk=gJ});function bJ(t){if(!mu(t))return Gk(t);var e=[];for(var i in Object(t))yJ.call(t,i)&&i!="constructor"&&e.push(i);return e}var vJ,yJ,Yk,Xk=T(()=>{Jf();Kk();vJ=Object.prototype,yJ=vJ.hasOwnProperty;Yk=bJ});function wJ(t){return t!=null&&Kf(t.length)&&!Bf(t)}var Qf,P0=T(()=>{f0();_0();Qf=wJ});function xJ(t){return Qf(t)?Zf(t):Yk(t)}var gu,em=T(()=>{C0();Xk();P0();gu=xJ});function SJ(t,e){return t&&Us(e,gu(e),t)}var Zk,Jk=T(()=>{Id();em();Zk=SJ});function _J(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var Qk,eO=T(()=>{Qk=_J});function PJ(t){if(!vo(t))return Qk(t);var e=mu(t),i=[];for(var r in t)r=="constructor"&&(e||!CJ.call(t,r))||i.push(r);return i}var EJ,CJ,tO,iO=T(()=>{uu();Jf();eO();EJ=Object.prototype,CJ=EJ.hasOwnProperty;tO=PJ});function IJ(t){return Qf(t)?Zf(t,!0):tO(t)}var vu,tm=T(()=>{C0();iO();P0();vu=IJ});function AJ(t,e){return t&&Us(e,vu(e),t)}var rO,nO=T(()=>{Id();tm();rO=AJ});function MJ(t,e){if(e)return t.slice();var i=t.length,r=aO?aO(i):new t.constructor(i);return t.copy(r),r}var lO,oO,TJ,sO,aO,uO,cO=T(()=>{Wn();lO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oO=lO&&typeof module=="object"&&module&&!module.nodeType&&module,TJ=oO&&oO.exports===lO,sO=TJ?Ci.Buffer:void 0,aO=sO?sO.allocUnsafe:void 0;uO=MJ});function RJ(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var im,I0=T(()=>{im=RJ});function NJ(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[n++]=l)}return o}var dO,pO=T(()=>{dO=NJ});function kJ(){return[]}var rm,A0=T(()=>{rm=kJ});var OJ,DJ,hO,LJ,yu,nm=T(()=>{pO();A0();OJ=Object.prototype,DJ=OJ.propertyIsEnumerable,hO=Object.getOwnPropertySymbols,LJ=hO?function(t){return t==null?[]:(t=Object(t),dO(hO(t),function(e){return DJ.call(t,e)}))}:rm,yu=LJ});function FJ(t,e){return Us(t,yu(t),e)}var fO,mO=T(()=>{Id();nm();fO=FJ});function zJ(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var om,T0=T(()=>{om=zJ});var qJ,HJ,sm,M0=T(()=>{T0();d0();nm();A0();qJ=Object.getOwnPropertySymbols,HJ=qJ?function(t){for(var e=[];t;)om(e,yu(t)),t=Hf(t);return e}:rm,sm=HJ});function UJ(t,e){return Us(t,sm(t),e)}var gO,vO=T(()=>{Id();M0();gO=UJ});function BJ(t,e,i){var r=e(t);return yo(t)?r:om(r,i(t))}var am,R0=T(()=>{T0();hu();am=BJ});function WJ(t){return am(t,gu,yu)}var yO,bO=T(()=>{R0();nm();em();yO=WJ});function $J(t){return am(t,vu,sm)}var wO,xO=T(()=>{R0();M0();tm();wO=$J});var VJ,lm,SO=T(()=>{zs();Wn();VJ=Or(Ci,"DataView"),lm=VJ});var jJ,um,_O=T(()=>{zs();Wn();jJ=Or(Ci,"Promise"),um=jJ});var GJ,cm,EO=T(()=>{zs();Wn();GJ=Or(Ci,"Set"),cm=GJ});var KJ,dm,CO=T(()=>{zs();Wn();KJ=Or(Ci,"WeakMap"),dm=KJ});var PO,YJ,IO,AO,TO,MO,XJ,ZJ,JJ,QJ,eQ,Va,bu,pm=T(()=>{SO();$f();_O();EO();CO();au();m0();PO="[object Map]",YJ="[object Object]",IO="[object Promise]",AO="[object Set]",TO="[object WeakMap]",MO="[object DataView]",XJ=Jo(lm),ZJ=Jo(qs),JJ=Jo(um),QJ=Jo(cm),eQ=Jo(dm),Va=$n;(lm&&Va(new lm(new ArrayBuffer(1)))!=MO||qs&&Va(new qs)!=PO||um&&Va(um.resolve())!=IO||cm&&Va(new cm)!=AO||dm&&Va(new dm)!=TO)&&(Va=function(t){var e=$n(t),i=e==YJ?t.constructor:void 0,r=i?Jo(i):"";if(r)switch(r){case XJ:return MO;case ZJ:return PO;case JJ:return IO;case QJ:return AO;case eQ:return TO}return e});bu=Va});function rQ(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&iQ.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var tQ,iQ,RO,NO=T(()=>{tQ=Object.prototype,iQ=tQ.hasOwnProperty;RO=rQ});var nQ,N0,kO=T(()=>{Wn();nQ=Ci.Uint8Array,N0=nQ});function oQ(t){var e=new t.constructor(t.byteLength);return new N0(e).set(new N0(t)),e}var wu,hm=T(()=>{kO();wu=oQ});function sQ(t,e){var i=e?wu(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var OO,DO=T(()=>{hm();OO=sQ});function lQ(t){var e=new t.constructor(t.source,aQ.exec(t));return e.lastIndex=t.lastIndex,e}var aQ,LO,FO=T(()=>{aQ=/\w*$/;LO=lQ});function uQ(t){return qO?Object(qO.call(t)):{}}var zO,qO,HO,UO=T(()=>{wd();zO=wn?wn.prototype:void 0,qO=zO?zO.valueOf:void 0;HO=uQ});function cQ(t,e){var i=e?wu(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var BO,WO=T(()=>{hm();BO=cQ});function MQ(t,e,i){var r=t.constructor;switch(e){case bQ:return wu(t);case dQ:case pQ:return new r(+t);case wQ:return OO(t,i);case xQ:case SQ:case _Q:case EQ:case CQ:case PQ:case IQ:case AQ:case TQ:return BO(t,i);case hQ:return new r;case fQ:case vQ:return new r(t);case mQ:return LO(t);case gQ:return new r;case yQ:return HO(t)}}var dQ,pQ,hQ,fQ,mQ,gQ,vQ,yQ,bQ,wQ,xQ,SQ,_Q,EQ,CQ,PQ,IQ,AQ,TQ,$O,VO=T(()=>{hm();DO();FO();UO();WO();dQ="[object Boolean]",pQ="[object Date]",hQ="[object Map]",fQ="[object Number]",mQ="[object RegExp]",gQ="[object Set]",vQ="[object String]",yQ="[object Symbol]",bQ="[object ArrayBuffer]",wQ="[object DataView]",xQ="[object Float32Array]",SQ="[object Float64Array]",_Q="[object Int8Array]",EQ="[object Int16Array]",CQ="[object Int32Array]",PQ="[object Uint8Array]",IQ="[object Uint8ClampedArray]",AQ="[object Uint16Array]",TQ="[object Uint32Array]";$O=MQ});var jO,RQ,GO,KO=T(()=>{uu();jO=Object.create,RQ=function(){function t(){}return function(e){if(!vo(e))return{};if(jO)return jO(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),GO=RQ});function NQ(t){return typeof t.constructor=="function"&&!mu(t)?GO(Hf(t)):{}}var YO,XO=T(()=>{KO();d0();Jf();YO=NQ});function OQ(t){return xn(t)&&bu(t)==kQ}var kQ,ZO,JO=T(()=>{pm();$a();kQ="[object Map]";ZO=OQ});var QO,DQ,eD,tD=T(()=>{JO();Yf();Xf();QO=es&&es.isMap,DQ=QO?fu(QO):ZO,eD=DQ});function FQ(t){return xn(t)&&bu(t)==LQ}var LQ,iD,rD=T(()=>{pm();$a();LQ="[object Set]";iD=FQ});var nD,zQ,oD,sD=T(()=>{rD();Yf();Xf();nD=es&&es.isSet,zQ=nD?fu(nD):iD,oD=zQ});function fm(t,e,i,r,n,o){var l,u=e&qQ,c=e&HQ,d=e&UQ;if(i&&(l=n?i(t,r,n,o):i(t)),l!==void 0)return l;if(!vo(t))return t;var f=yo(t);if(f){if(l=RO(t),!u)return im(t,l)}else{var g=bu(t),v=g==lD||g==jQ;if(Gf(t))return uO(t,u);if(g==uD||g==aD||v&&!n){if(l=c||v?{}:YO(t),!u)return c?gO(t,rO(l,t)):fO(t,Zk(l,t))}else{if(!Gt[g])return n?t:{};l=$O(t,g,u)}}o||(o=new _k);var S=o.get(t);if(S)return S;o.set(t,l),oD(t)?t.forEach(function(P){l.add(fm(P,e,i,P,t,o))}):eD(t)&&t.forEach(function(P,I){l.set(I,fm(P,e,i,I,t,o))});var E=d?c?wO:yO:c?vu:gu,_=f?void 0:E(t);return Ck(_||t,function(P,I){_&&(I=P,P=t[I]),jf(l,I,fm(P,e,i,I,t,o))}),l}var qQ,HQ,UQ,aD,BQ,WQ,$Q,VQ,lD,jQ,GQ,KQ,uD,YQ,XQ,ZQ,JQ,QQ,eee,tee,iee,ree,nee,oee,see,aee,lee,uee,cee,Gt,mm,k0=T(()=>{Ek();Pk();w0();Jk();nO();cO();I0();mO();vO();bO();xO();pm();NO();VO();XO();hu();S0();tD();uu();sD();em();tm();qQ=1,HQ=2,UQ=4,aD="[object Arguments]",BQ="[object Array]",WQ="[object Boolean]",$Q="[object Date]",VQ="[object Error]",lD="[object Function]",jQ="[object GeneratorFunction]",GQ="[object Map]",KQ="[object Number]",uD="[object Object]",YQ="[object RegExp]",XQ="[object Set]",ZQ="[object String]",JQ="[object Symbol]",QQ="[object WeakMap]",eee="[object ArrayBuffer]",tee="[object DataView]",iee="[object Float32Array]",ree="[object Float64Array]",nee="[object Int8Array]",oee="[object Int16Array]",see="[object Int32Array]",aee="[object Uint8Array]",lee="[object Uint8ClampedArray]",uee="[object Uint16Array]",cee="[object Uint32Array]",Gt={};Gt[aD]=Gt[BQ]=Gt[eee]=Gt[tee]=Gt[WQ]=Gt[$Q]=Gt[iee]=Gt[ree]=Gt[nee]=Gt[oee]=Gt[see]=Gt[GQ]=Gt[KQ]=Gt[uD]=Gt[YQ]=Gt[XQ]=Gt[ZQ]=Gt[JQ]=Gt[aee]=Gt[lee]=Gt[uee]=Gt[cee]=!0;Gt[VQ]=Gt[lD]=Gt[QQ]=!1;mm=fm});function pee(t){return mm(t,dee)}var dee,O0,cD=T(()=>{k0();dee=4;O0=pee});function hee(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var gm,D0=T(()=>{gm=hee});function mee(t){return typeof t=="symbol"||xn(t)&&$n(t)==fee}var fee,xu,vm=T(()=>{au();$a();fee="[object Symbol]";xu=mee});function L0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gee);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var l=t.apply(this,r);return i.cache=o.set(n,l)||o,l};return i.cache=new(L0.Cache||Pd),i}var gee,dD,pD=T(()=>{v0();gee="Expected a function";L0.Cache=Pd;dD=L0});function yee(t){var e=dD(t,function(r){return i.size===vee&&i.clear(),r}),i=e.cache;return e}var vee,hD,fD=T(()=>{pD();vee=500;hD=yee});var bee,wee,xee,mD,gD=T(()=>{fD();bee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wee=/\\(\\)?/g,xee=hD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bee,function(i,r,n,o){e.push(n?o.replace(wee,"$1"):r||i)}),e}),mD=xee});function _ee(t){if(typeof t=="string"||xu(t))return t;var e=t+"";return e=="0"&&1/t==-See?"-0":e}var See,vD,yD=T(()=>{vm();See=1/0;vD=_ee});function xD(t){if(typeof t=="string")return t;if(yo(t))return gm(t,xD)+"";if(xu(t))return wD?wD.call(t):"";var e=t+"";return e=="0"&&1/t==-Eee?"-0":e}var Eee,bD,wD,SD,_D=T(()=>{wd();D0();hu();vm();Eee=1/0,bD=wn?wn.prototype:void 0,wD=bD?bD.toString:void 0;SD=xD});function Cee(t){return t==null?"":SD(t)}var ED,CD=T(()=>{_D();ED=Cee});function Pee(t){return yo(t)?gm(t,vD):xu(t)?[t]:im(mD(ED(t)))}var F0,PD=T(()=>{D0();I0();hu();vm();gD();yD();CD();F0=Pee});function Tee(t){return mm(t,Iee|Aee)}var Iee,Aee,ID,AD=T(()=>{k0();Iee=1,Aee=4;ID=Tee});function ja(){return ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ja.apply(this,arguments)}function Mee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function DD(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function TD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nee(){var t=fn(ym);return t||yy(!1),t}function Su(t,e,i,r){r===void 0&&(r=0);for(var n=F0(e);t&&r<n.length;)t=t[n[r++]];return r!==n.length&&!t||t===void 0?i:t}function z0(t,e,i){for(var r=O0(t),n=r,o=0,l=F0(e);o<l.length-1;o++){var u=l[o],c=Su(t,l.slice(0,o+1));if(c&&(LD(c)||Array.isArray(c)))n=n[u]=O0(c);else{var d=l[o+1];n=n[u]=kee(d)&&Number(d)>=0?[]:{}}}return(o===0?t:n)[l[o]]===i?t:(i===void 0?delete n[l[o]]:n[l[o]]=i,o===0&&i===void 0&&delete r[l[o]],r)}function FD(t){var e=function(n){return It(Ree,null,function(o){return o||yy(!1),It(t,ja({},n,{formik:o}))})},i=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+i+")",(0,OD.default)(e,t)}var kD,OD,ym,vSe,Ree,MD,RD,LD,kee,Oee,ySe,Dee,Lee,Fee,q0,zee,Ga,ND,qee,zD=T(()=>{mN();$e();kD=he(CN());nC();cD();PD();OD=he(bh());AD();ym=hn(void 0);ym.displayName="FormikContext";vSe=ym.Provider,Ree=ym.Consumer;MD=function(e){return Array.isArray(e)&&e.length===0},RD=function(e){return typeof e=="function"},LD=function(e){return e!==null&&typeof e=="object"},kee=function(e){return String(Math.floor(Number(e)))===e},Oee=function(e){return Tc.count(e)===0};ySe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?oo:Ko,Dee=mn(function(t,e){var i=t.action,r=DD(t,["action"]),n=i??"#",o=Nee(),l=o.handleReset,u=o.handleSubmit;return It("form",ja({onSubmit:u,ref:e,onReset:l,action:n},r))});Dee.displayName="Form";Lee=function(e,i,r){var n=Ga(e),o=n[i];return n.splice(i,1),n.splice(r,0,o),n},Fee=function(e,i,r){var n=Ga(e),o=n[i];return n[i]=n[r],n[r]=o,n},q0=function(e,i,r){var n=Ga(e);return n.splice(i,0,r),n},zee=function(e,i,r){var n=Ga(e);return n[i]=r,n},Ga=function(e){if(e){if(Array.isArray(e))return[].concat(e);var i=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,n){return n>r?n:r},0);return Array.from(ja({},e,{length:i+1}))}else return[]},ND=function(e,i){var r=typeof e=="function"?e:i;return function(n){if(Array.isArray(n)||LD(n)){var o=Ga(n);return r(o)}return n}},qee=function(t){Mee(e,t);function e(r){var n;return n=t.call(this,r)||this,n.updateArrayField=function(o,l,u){var c=n.props,d=c.name,f=c.formik.setFormikState;f(function(g){var v=ND(u,o),S=ND(l,o),E=z0(g.values,d,o(Su(g.values,d))),_=u?v(Su(g.errors,d)):void 0,P=l?S(Su(g.touched,d)):void 0;return MD(_)&&(_=void 0),MD(P)&&(P=void 0),ja({},g,{values:E,errors:u?z0(g.errors,d,_):g.errors,touched:l?z0(g.touched,d,P):g.touched})})},n.push=function(o){return n.updateArrayField(function(l){return[].concat(Ga(l),[ID(o)])},!1,!1)},n.handlePush=function(o){return function(){return n.push(o)}},n.swap=function(o,l){return n.updateArrayField(function(u){return Fee(u,o,l)},!0,!0)},n.handleSwap=function(o,l){return function(){return n.swap(o,l)}},n.move=function(o,l){return n.updateArrayField(function(u){return Lee(u,o,l)},!0,!0)},n.handleMove=function(o,l){return function(){return n.move(o,l)}},n.insert=function(o,l){return n.updateArrayField(function(u){return q0(u,o,l)},function(u){return q0(u,o,null)},function(u){return q0(u,o,null)})},n.handleInsert=function(o,l){return function(){return n.insert(o,l)}},n.replace=function(o,l){return n.updateArrayField(function(u){return zee(u,o,l)},!1,!1)},n.handleReplace=function(o,l){return function(){return n.replace(o,l)}},n.unshift=function(o){var l=-1;return n.updateArrayField(function(u){var c=u?[o].concat(u):[o];return l=c.length,c},function(u){return u?[null].concat(u):[null]},function(u){return u?[null].concat(u):[null]}),l},n.handleUnshift=function(o){return function(){return n.unshift(o)}},n.handleRemove=function(o){return function(){return n.remove(o)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(TD(n)),n.pop=n.pop.bind(TD(n)),n}var i=e.prototype;return i.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,kD.default)(Su(n.formik.values,n.name),Su(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(n){var o;return this.updateArrayField(function(l){var u=l?Ga(l):[];return o||(o=u[n]),RD(u.splice)&&u.splice(n,1),RD(u.every)&&u.every(function(c){return c===void 0})?[]:u},!0,!0),o},i.pop=function(){var n;return this.updateArrayField(function(o){var l=o.slice();return n||(n=l&&l.pop&&l.pop()),l},!0,!0),n},i.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,l=o.component,u=o.render,c=o.children,d=o.name,f=o.formik,g=DD(f,["validate","validationSchema"]),v=ja({},n,{form:g,name:d});return l?It(l,v):u?u(v):c?typeof c=="function"?c(v):Oee(c)?null:Tc.only(c):null},e}(se);qee.defaultProps={validateOnChange:!0}});var HD=W((wSe,qD)=>{var Hee="__lodash_hash_undefined__";function Uee(t){return this.__data__.set(t,Hee),this}qD.exports=Uee});var BD=W((xSe,UD)=>{function Bee(t){return this.__data__.has(t)}UD.exports=Bee});var $D=W((SSe,WD)=>{var Wee=Zh(),$ee=HD(),Vee=BD();function bm(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new Wee;++e<i;)this.add(t[e])}bm.prototype.add=bm.prototype.push=$ee;bm.prototype.has=Vee;WD.exports=bm});var jD=W((_Se,VD)=>{function jee(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}VD.exports=jee});var KD=W((ESe,GD)=>{function Gee(t,e){return t.has(e)}GD.exports=Gee});var H0=W((CSe,YD)=>{var Kee=$D(),Yee=jD(),Xee=KD(),Zee=1,Jee=2;function Qee(t,e,i,r,n,o){var l=i&Zee,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var g=-1,v=!0,S=i&Jee?new Kee:void 0;for(o.set(t,e),o.set(e,t);++g<u;){var E=t[g],_=e[g];if(r)var P=l?r(_,E,g,e,t,o):r(E,_,g,t,e,o);if(P!==void 0){if(P)continue;v=!1;break}if(S){if(!Yee(e,function(I,L){if(!Xee(S,L)&&(E===I||n(E,I,i,r,o)))return S.push(L)})){v=!1;break}}else if(!(E===_||n(E,_,i,r,o))){v=!1;break}}return o.delete(t),o.delete(e),v}YD.exports=Qee});var ZD=W((PSe,XD)=>{function ete(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}XD.exports=ete});var QD=W((ISe,JD)=>{function tte(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}JD.exports=tte});var nL=W((ASe,rL)=>{var eL=id(),tL=vb(),ite=Bl(),rte=H0(),nte=ZD(),ote=QD(),ste=1,ate=2,lte="[object Boolean]",ute="[object Date]",cte="[object Error]",dte="[object Map]",pte="[object Number]",hte="[object RegExp]",fte="[object Set]",mte="[object String]",gte="[object Symbol]",vte="[object ArrayBuffer]",yte="[object DataView]",iL=eL?eL.prototype:void 0,U0=iL?iL.valueOf:void 0;function bte(t,e,i,r,n,o,l){switch(i){case yte:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vte:return!(t.byteLength!=e.byteLength||!o(new tL(t),new tL(e)));case lte:case ute:case pte:return ite(+t,+e);case cte:return t.name==e.name&&t.message==e.message;case hte:case mte:return t==e+"";case dte:var u=nte;case fte:var c=r&ste;if(u||(u=ote),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;r|=ate,l.set(t,e);var f=rte(u(t),u(e),r,n,o,l);return l.delete(t),f;case gte:if(U0)return U0.call(t)==U0.call(e)}return!1}rL.exports=bte});var B0=W((TSe,oL)=>{function wte(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}oL.exports=wte});var W0=W((MSe,sL)=>{var xte=B0(),Ste=uo();function _te(t,e,i){var r=e(t);return Ste(t)?r:xte(r,i(t))}sL.exports=_te});var lL=W((RSe,aL)=>{function Ete(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[n++]=l)}return o}aL.exports=Ete});var $0=W((NSe,uL)=>{function Cte(){return[]}uL.exports=Cte});var V0=W((kSe,dL)=>{var Pte=lL(),Ite=$0(),Ate=Object.prototype,Tte=Ate.propertyIsEnumerable,cL=Object.getOwnPropertySymbols,Mte=cL?function(t){return t==null?[]:(t=Object(t),Pte(cL(t),function(e){return Tte.call(t,e)}))}:Ite;dL.exports=Mte});var hL=W((OSe,pL)=>{var Rte=yb(),Nte=Rte(Object.keys,Object);pL.exports=Nte});var mL=W((DSe,fL)=>{var kte=tf(),Ote=hL(),Dte=Object.prototype,Lte=Dte.hasOwnProperty;function Fte(t){if(!kte(t))return Ote(t);var e=[];for(var i in Object(t))Lte.call(t,i)&&i!="constructor"&&e.push(i);return e}fL.exports=Fte});var j0=W((LSe,gL)=>{var zte=Sb(),qte=mL(),Hte=ad();function Ute(t){return Hte(t)?zte(t):qte(t)}gL.exports=Ute});var yL=W((FSe,vL)=>{var Bte=W0(),Wte=V0(),$te=j0();function Vte(t){return Bte(t,$te,Wte)}vL.exports=Vte});var xL=W((zSe,wL)=>{var bL=yL(),jte=1,Gte=Object.prototype,Kte=Gte.hasOwnProperty;function Yte(t,e,i,r,n,o){var l=i&jte,u=bL(t),c=u.length,d=bL(e),f=d.length;if(c!=f&&!l)return!1;for(var g=c;g--;){var v=u[g];if(!(l?v in e:Kte.call(e,v)))return!1}var S=o.get(t),E=o.get(e);if(S&&E)return S==e&&E==t;var _=!0;o.set(t,e),o.set(e,t);for(var P=l;++g<c;){v=u[g];var I=t[v],L=e[v];if(r)var F=l?r(L,I,v,e,t,o):r(I,L,v,t,e,o);if(!(F===void 0?I===L||n(I,L,i,r,o):F)){_=!1;break}P||(P=v=="constructor")}if(_&&!P){var z=t.constructor,H=e.constructor;z!=H&&"constructor"in t&&"constructor"in e&&!(typeof z=="function"&&z instanceof z&&typeof H=="function"&&H instanceof H)&&(_=!1)}return o.delete(t),o.delete(e),_}wL.exports=Yte});var _L=W((qSe,SL)=>{var Xte=Ms(),Zte=Un(),Jte=Xte(Zte,"DataView");SL.exports=Jte});var CL=W((HSe,EL)=>{var Qte=Ms(),eie=Un(),tie=Qte(eie,"Promise");EL.exports=tie});var IL=W((USe,PL)=>{var iie=Ms(),rie=Un(),nie=iie(rie,"Set");PL.exports=nie});var TL=W((BSe,AL)=>{var oie=Ms(),sie=Un(),aie=oie(sie,"WeakMap");AL.exports=aie});var FL=W((WSe,LL)=>{var G0=_L(),K0=Xh(),Y0=CL(),X0=IL(),Z0=TL(),DL=Oa(),_u=fb(),ML="[object Map]",lie="[object Object]",RL="[object Promise]",NL="[object Set]",kL="[object WeakMap]",OL="[object DataView]",uie=_u(G0),cie=_u(K0),die=_u(Y0),pie=_u(X0),hie=_u(Z0),Ka=DL;(G0&&Ka(new G0(new ArrayBuffer(1)))!=OL||K0&&Ka(new K0)!=ML||Y0&&Ka(Y0.resolve())!=RL||X0&&Ka(new X0)!=NL||Z0&&Ka(new Z0)!=kL)&&(Ka=function(t){var e=DL(t),i=e==lie?t.constructor:void 0,r=i?_u(i):"";if(r)switch(r){case uie:return OL;case cie:return ML;case die:return RL;case pie:return NL;case hie:return kL}return e});LL.exports=Ka});var VL=W(($Se,$L)=>{var J0=Jh(),fie=H0(),mie=nL(),gie=xL(),zL=FL(),qL=uo(),HL=of(),vie=sf(),yie=1,UL="[object Arguments]",BL="[object Array]",wm="[object Object]",bie=Object.prototype,WL=bie.hasOwnProperty;function wie(t,e,i,r,n,o){var l=qL(t),u=qL(e),c=l?BL:zL(t),d=u?BL:zL(e);c=c==UL?wm:c,d=d==UL?wm:d;var f=c==wm,g=d==wm,v=c==d;if(v&&HL(t)){if(!HL(e))return!1;l=!0,f=!1}if(v&&!f)return o||(o=new J0),l||vie(t)?fie(t,e,i,r,n,o):mie(t,e,c,i,r,n,o);if(!(i&yie)){var S=f&&WL.call(t,"__wrapped__"),E=g&&WL.call(e,"__wrapped__");if(S||E){var _=S?t.value():t,P=E?e.value():e;return o||(o=new J0),n(_,P,i,r,o)}}return v?(o||(o=new J0),gie(t,e,i,r,n,o)):!1}$L.exports=wie});var Q0=W((VSe,KL)=>{var xie=VL(),jL=Rs();function GL(t,e,i,r,n){return t===e?!0:t==null||e==null||!jL(t)&&!jL(e)?t!==t&&e!==e:xie(t,e,i,r,GL,n)}KL.exports=GL});var XL=W((jSe,YL)=>{var Sie=Jh(),_ie=Q0(),Eie=1,Cie=2;function Pie(t,e,i,r){var n=i.length,o=n,l=!r;if(t==null)return!o;for(t=Object(t);n--;){var u=i[n];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++n<o;){u=i[n];var c=u[0],d=t[c],f=u[1];if(l&&u[2]){if(d===void 0&&!(c in t))return!1}else{var g=new Sie;if(r)var v=r(d,f,c,t,e,g);if(!(v===void 0?_ie(f,d,Eie|Cie,r,g):v))return!1}}return!0}YL.exports=Pie});var ew=W((GSe,ZL)=>{var Iie=lo();function Aie(t){return t===t&&!Iie(t)}ZL.exports=Aie});var QL=W((KSe,JL)=>{var Tie=ew(),Mie=j0();function Rie(t){for(var e=Mie(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,Tie(n)]}return e}JL.exports=Rie});var tw=W((YSe,eF)=>{function Nie(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}eF.exports=Nie});var iF=W((XSe,tF)=>{var kie=XL(),Oie=QL(),Die=tw();function Lie(t){var e=Oie(t);return e.length==1&&e[0][2]?Die(e[0][0],e[0][1]):function(i){return i===t||kie(i,t,e)}}tF.exports=Lie});var xm=W((ZSe,rF)=>{var Fie=Oa(),zie=Rs(),qie="[object Symbol]";function Hie(t){return typeof t=="symbol"||zie(t)&&Fie(t)==qie}rF.exports=Hie});var Sm=W((JSe,nF)=>{var Uie=uo(),Bie=xm(),Wie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$ie=/^\w*$/;function Vie(t,e){if(Uie(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||Bie(t)?!0:$ie.test(t)||!Wie.test(t)||e!=null&&t in Object(e)}nF.exports=Vie});var aF=W((QSe,sF)=>{var oF=Zh(),jie="Expected a function";function iw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jie);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var l=t.apply(this,r);return i.cache=o.set(n,l)||o,l};return i.cache=new(iw.Cache||oF),i}iw.Cache=oF;sF.exports=iw});var uF=W((e1e,lF)=>{var Gie=aF(),Kie=500;function Yie(t){var e=Gie(t,function(r){return i.size===Kie&&i.clear(),r}),i=e.cache;return e}lF.exports=Yie});var dF=W((t1e,cF)=>{var Xie=uF(),Zie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jie=/\\(\\)?/g,Qie=Xie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zie,function(i,r,n,o){e.push(n?o.replace(Jie,"$1"):r||i)}),e});cF.exports=Qie});var rw=W((i1e,pF)=>{function ere(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}pF.exports=ere});var yF=W((r1e,vF)=>{var hF=id(),tre=rw(),ire=uo(),rre=xm(),nre=1/0,fF=hF?hF.prototype:void 0,mF=fF?fF.toString:void 0;function gF(t){if(typeof t=="string")return t;if(ire(t))return tre(t,gF)+"";if(rre(t))return mF?mF.call(t):"";var e=t+"";return e=="0"&&1/t==-nre?"-0":e}vF.exports=gF});var wF=W((n1e,bF)=>{var ore=yF();function sre(t){return t==null?"":ore(t)}bF.exports=sre});var Td=W((o1e,xF)=>{var are=uo(),lre=Sm(),ure=dF(),cre=wF();function dre(t,e){return are(t)?t:lre(t,e)?[t]:ure(cre(t))}xF.exports=dre});var Eu=W((s1e,SF)=>{var pre=xm(),hre=1/0;function fre(t){if(typeof t=="string"||pre(t))return t;var e=t+"";return e=="0"&&1/t==-hre?"-0":e}SF.exports=fre});var _m=W((a1e,_F)=>{var mre=Td(),gre=Eu();function vre(t,e){e=mre(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[gre(e[i++])];return i&&i==r?t:void 0}_F.exports=vre});var CF=W((l1e,EF)=>{var yre=_m();function bre(t,e,i){var r=t==null?void 0:yre(t,e);return r===void 0?i:r}EF.exports=bre});var IF=W((u1e,PF)=>{function wre(t,e){return t!=null&&e in Object(t)}PF.exports=wre});var TF=W((c1e,AF)=>{var xre=Td(),Sre=rf(),_re=uo(),Ere=dd(),Cre=nf(),Pre=Eu();function Ire(t,e,i){e=xre(e,t);for(var r=-1,n=e.length,o=!1;++r<n;){var l=Pre(e[r]);if(!(o=t!=null&&i(t,l)))break;t=t[l]}return o||++r!=n?o:(n=t==null?0:t.length,!!n&&Cre(n)&&Ere(l,n)&&(_re(t)||Sre(t)))}AF.exports=Ire});var RF=W((d1e,MF)=>{var Are=IF(),Tre=TF();function Mre(t,e){return t!=null&&Tre(t,e,Are)}MF.exports=Mre});var kF=W((p1e,NF)=>{var Rre=Q0(),Nre=CF(),kre=RF(),Ore=Sm(),Dre=ew(),Lre=tw(),Fre=Eu(),zre=1,qre=2;function Hre(t,e){return Ore(t)&&Dre(e)?Lre(Fre(t),e):function(i){var r=Nre(i,t);return r===void 0&&r===e?kre(i,t):Rre(e,r,zre|qre)}}NF.exports=Hre});var DF=W((h1e,OF)=>{function Ure(t){return function(e){return e?.[t]}}OF.exports=Ure});var FF=W((f1e,LF)=>{var Bre=_m();function Wre(t){return function(e){return Bre(e,t)}}LF.exports=Wre});var qF=W((m1e,zF)=>{var $re=DF(),Vre=FF(),jre=Sm(),Gre=Eu();function Kre(t){return jre(t)?$re(Gre(t)):Vre(t)}zF.exports=Kre});var nw=W((g1e,HF)=>{var Yre=iF(),Xre=kF(),Zre=lf(),Jre=uo(),Qre=qF();function ene(t){return typeof t=="function"?t:t==null?Zre:typeof t=="object"?Jre(t)?Xre(t[0],t[1]):Yre(t):Qre(t)}HF.exports=ene});var BF=W((v1e,UF)=>{var tne="Expected a function";function ine(t){if(typeof t!="function")throw new TypeError(tne);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}UF.exports=ine});var VF=W((y1e,$F)=>{var rne=xb(),nne=Td(),one=dd(),WF=lo(),sne=Eu();function ane(t,e,i,r){if(!WF(t))return t;e=nne(e,t);for(var n=-1,o=e.length,l=o-1,u=t;u!=null&&++n<o;){var c=sne(e[n]),d=i;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(n!=l){var f=u[c];d=r?r(f,c,u):void 0,d===void 0&&(d=WF(f)?f:one(e[n+1])?[]:{})}rne(u,c,d),u=u[c]}return t}$F.exports=ane});var GF=W((b1e,jF)=>{var lne=_m(),une=VF(),cne=Td();function dne(t,e,i){for(var r=-1,n=e.length,o={};++r<n;){var l=e[r],u=lne(t,l);i(u,l)&&une(o,cne(l,t),u)}return o}jF.exports=dne});var YF=W((w1e,KF)=>{var pne=B0(),hne=ef(),fne=V0(),mne=$0(),gne=Object.getOwnPropertySymbols,vne=gne?function(t){for(var e=[];t;)pne(e,fne(t)),t=hne(t);return e}:mne;KF.exports=vne});var ZF=W((x1e,XF)=>{var yne=W0(),bne=YF(),wne=af();function xne(t){return yne(t,wne,bne)}XF.exports=xne});var QF=W((S1e,JF)=>{var Sne=rw(),_ne=nw(),Ene=GF(),Cne=ZF();function Pne(t,e){if(t==null)return{};var i=Sne(Cne(t),function(r){return[r]});return e=_ne(e),Ene(t,i,function(r,n){return e(r,n[0])})}JF.exports=Pne});var t2=W((_1e,e2)=>{var Ine=nw(),Ane=BF(),Tne=QF();function Mne(t,e){return Tne(t,Ane(Ine(e)))}e2.exports=Mne});var i2,r2,ow,Rne,n2=T(()=>{$e();zD();i2=he(t2()),r2=he(xe()),ow=class extends We.Component{render(){return null}componentDidUpdate(e){if(!r2.default.isEqual(e.formik.initialValues,this.props.formik.initialValues))return;let i=(0,i2.default)(this.props.formik.values,function(r,n){return e.formik.values[n]===r});Object.keys(i).length>0&&this.props.onChange(i,this.props.formik)}},Rne=FD(ow)});var sw=T(()=>{n2();Re();Ns()});var o2=W((M1e,aw)=>{(function(){function t(E,_){document.addEventListener?E.addEventListener("scroll",_,!1):E.attachEvent("scroll",_)}function e(E){document.body?E():document.addEventListener?document.addEventListener("DOMContentLoaded",function _(){document.removeEventListener("DOMContentLoaded",_),E()}):document.attachEvent("onreadystatechange",function _(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",_),E())})}function i(E){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(E)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(E,_){E.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+_+";"}function n(E){var _=E.g.offsetWidth,P=_+100;return E.j.style.width=P+"px",E.i.scrollLeft=P,E.h.scrollLeft=E.h.scrollWidth+100,E.l!==_?(E.l=_,!0):!1}function o(E,_){function P(){var L=I;n(L)&&L.g.parentNode!==null&&_(L.l)}var I=E;t(E.h,P),t(E.i,P),n(E)}function l(E,_,P){_=_||{},P=P||window,this.family=E,this.style=_.style||"normal",this.weight=_.weight||"normal",this.stretch=_.stretch||"normal",this.context=P}var u=null,c=null,d=null,f=null;function g(E){return c===null&&(v(E)&&/Apple/.test(window.navigator.vendor)?(E=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!E&&603>parseInt(E[1],10)):c=!1),c}function v(E){return f===null&&(f=!!E.document.fonts),f}function S(E,_){var P=E.style,I=E.weight;if(d===null){var L=document.createElement("div");try{L.style.font="condensed 100px sans-serif"}catch{}d=L.style.font!==""}return[P,I,d?E.stretch:"","100px",_].join(" ")}l.prototype.load=function(E,_){var P=this,I=E||"BESbswy",L=0,F=_||3e3,z=new Date().getTime();return new Promise(function(H,ie){if(v(P.context)&&!g(P.context)){var X=new Promise(function(te,le){function Y(){new Date().getTime()-z>=F?le(Error(""+F+"ms timeout exceeded")):P.context.document.fonts.load(S(P,'"'+P.family+'"'),I).then(function(K){1<=K.length?te():setTimeout(Y,25)},le)}Y()}),k=new Promise(function(te,le){L=setTimeout(function(){le(Error(""+F+"ms timeout exceeded"))},F)});Promise.race([k,X]).then(function(){clearTimeout(L),H(P)},ie)}else e(function(){function te(){var ee;(ee=Q!=-1&&J!=-1||Q!=-1&&V!=-1||J!=-1&&V!=-1)&&((ee=Q!=J&&Q!=V&&J!=V)||(u===null&&(ee=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!ee&&(536>parseInt(ee[1],10)||parseInt(ee[1],10)===536&&11>=parseInt(ee[2],10))),ee=u&&(Q==oe&&J==oe&&V==oe||Q==$&&J==$&&V==$||Q==U&&J==U&&V==U)),ee=!ee),ee&&(j.parentNode!==null&&j.parentNode.removeChild(j),clearTimeout(L),H(P))}function le(){if(new Date().getTime()-z>=F)j.parentNode!==null&&j.parentNode.removeChild(j),ie(Error(""+F+"ms timeout exceeded"));else{var ee=P.context.document.hidden;(ee===!0||ee===void 0)&&(Q=Y.g.offsetWidth,J=K.g.offsetWidth,V=D.g.offsetWidth,te()),L=setTimeout(le,50)}}var Y=new i(I),K=new i(I),D=new i(I),Q=-1,J=-1,V=-1,oe=-1,$=-1,U=-1,j=document.createElement("div");j.dir="ltr",r(Y,S(P,"sans-serif")),r(K,S(P,"serif")),r(D,S(P,"monospace")),j.appendChild(Y.g),j.appendChild(K.g),j.appendChild(D.g),P.context.document.body.appendChild(j),oe=Y.g.offsetWidth,$=K.g.offsetWidth,U=D.g.offsetWidth,le(),o(Y,function(ee){Q=ee,te()}),r(Y,S(P,'"'+P.family+'",sans-serif')),o(K,function(ee){J=ee,te()}),r(K,S(P,'"'+P.family+'",serif')),o(D,function(ee){V=ee,te()}),r(D,S(P,'"'+P.family+'",monospace'))})})},typeof aw=="object"?aw.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)})()});var s2,a2,lw,l2,u2=T(()=>{Ee();s2=he(xe(),1);sw();a2=he(o2(),1);ne();lw=class extends se{constructor(e){super(e),this.state={parentWidth:{},width:{},scale:1,fontFamily:null},this.observer=null,this.timeout=null}render(e,i){let r=!!e.baseNode?.getAttribute("style")?.includes("line-height"),n=window.getComputedStyle(e.baseNode),o=n.letterSpacing,l=n.direction,u="0px";return o.includes("-")&&(u=o.replace("-","")),m(re,{children:[m("span",{class:"fit-text",children:e.children}),m("style",{children:`
					:host { 
                        white-space: nowrap!important;
                        display: inline-block!important;
                        --font-scale: ${this.state.scale}!important;
                        ${r?"":"line-height: 1!important;"}
                        animation: none!important;
                        will-change: transform;
                    --rotate-transform: 0deg!important;
                    }
                    .fit-text {
                        padding${l==="ltr"?"-right":"-left"}: ${u}!important;
                    }
				`})]})}locateFitText=()=>{if(!this.props.baseNode||!this.props.baseNode.parentElement)return;let e=this.props.baseNode.parentElement.getBoundingClientRect().width,i=this.props.baseNode.getBoundingClientRect().width;this.setState({parentWidth:e,width:i})};handleResize=()=>{this.locateFitText()};handleFontLoad=()=>{this.timeout=setTimeout(()=>{this.locateFitText()},200)};refreshFontFamily=()=>{let i=window.getComputedStyle(this.props.baseNode).fontFamily.split(",");i=i.map(r=>r.trim()),i=i.map(r=>r.replace(/['"]+/g,"")),i[0]!==this.state.fontFamily&&this.setState({fontFamily:i[0]})};componentDidMount(){this.state.fontFamily||this.refreshFontFamily(),window.addEventListener("resize",this.handleResize),this.observer=new MutationObserver(e=>{s2.default.find(e,i=>{if(i.target.contains(this.props.baseNode||i.target===this.props.baseNode)||i.type==="attributes"&&i.attributeName==="uses"&&i.target?.getAttribute("uses")?.includes("fit-text")===!0)return!0;if(i.target.tagName==="STYLE")return i.target.textContent.includes("font-family")&&this.refreshFontFamily(),!0})&&this.locateFitText()}),this.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("keyup",this.handleKeyup),this.locateFitText()}handleKeyup=e=>{if(!window.CargoEditor?.getActiveEditor?.())return;let i=window.CargoEditor.getActiveRange();(i.startContainer===this.props.baseNode||i.startContainer.parentElement===this.props.baseNode)&&this.locateFitText()};componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.observer.disconnect(),window.removeEventListener("keyup",this.handleKeyup),clearTimeout(this.timeout)}componentDidUpdate(e,i){if(i.fontFamily!==this.state.fontFamily&&new a2.default(this.state.fontFamily).load().then(()=>{this.handleFontLoad()}).catch(()=>{this.handleFontLoad()}),i.scale!==this.state.scale){let r=this.state.scale-i.scale;if(r>.1||r<-.1){this.locateFitText();return}}if(i.parentWidth!==this.state.parentWidth||i.width!==this.state.width){let r=this.state.parentWidth/(this.state.width/this.state.scale);this.setState({scale:r});return}if(e.baseNode!==this.props.baseNode){this.locateFitText();return}}},l2=lw});var uw,Cu,Sn,cw,Em,Ya=T(()=>{Ee();$e();uw=he(xe(),1);Re();go();_r();VR();KR();QR();iN();nN();aN();uN();dN();fN();u2();ho();ne();Cu=new Set,Sn=class extends se{constructor(e){switch(super(e),ue||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["blink","dropshadow","drag","fit-text","rotation","eye-roll","scroll-animate","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:GR,"eye-roll":$R,drag:rN,"scroll-transition":tN,"flying-object":JR,dropshadow:sN,background:lN,"inline-part-styles":cN,blink:hN,"fit-text":l2},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,i){let r=e.customElementMode?this.props.children:m("slot",{});if(i.attributes.uses.length==0)return m(re,{children:[m("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),r]},"uses-fragment");let n=[];i.attributes.uses.forEach((u,c)=>{this.usesKeys[u]&&this.usesKeys[u].transformSlot&&n.push(this.usesKeys[u].transformSlot)}),i.attributes.uses.forEach((u,c)=>{this.usesKeys[u]&&(r=It(this.props.customElementMode?this.usesKeys[u]:po(this.usesKeys[u]),{...this.state.attributes,...this.props,lowestLevel:c==0,baseNode:this.props.baseNode,children:r,transformSlots:n}))});let o=!!i.attributes.uses.includes("fit-text"),l=m(re,{children:[this.props.adminMode&&!e.customElementMode&&o===!1&&m(qi,{baseNode:this.props.baseNode}),m("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(u=>`var(${u}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode&&o===!1?`:host::selection {
				background: none;
			}`:""}
			`}),r]},"uses-fragment");return e.customElementMode?l:Ge(l,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,i){e.uses!==this.props.uses&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[r,n]of Object.entries(this.state?.attributes||{}))e[r]=void 0;let i=[...this.props.baseNode.attributes].reduce((r,n)=>(r[n.name]=n.value,r),{});for(let[r,n]of Object.entries(i))n==="false"?i[r]=!1:n==="true"&&(i[r]=!0);return this.props.customElementMode&&(i.uses=(i.uses||"")+" "+this.props.uses),i.uses=i.uses?.split(" ")||[],i.uses=uw.default.uniq(i.uses),i.uses.sort((r,n)=>this.usesOrder.indexOf(r)<this.usesOrder.indexOf(n)?-1:1),{...e,...i}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let r=this.getAttributes();if(r.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else uw.default.isEqual(this.state.attributes,r)||this.setState({attributes:r})}};Sn.defaultProps={uses:[]};cw=class extends se{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!ue&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){this.onSummary(),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"]})}componentWillUnmount(){this.observer?.disconnect(),cancelAnimationFrame(this.onSummaryAnimationFrame),Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=()=>{this.ticking||(this.ticking=!0,this.onSummaryAnimationFrame=requestAnimationFrame(()=>{this.onSummary(),this.ticking=!1}))};onSummary=()=>{let e=Array.from(this.props.bodycopyRef.current?.querySelectorAll("[uses]")),i=e.filter(n=>!Cu.has(n));Array.from(Cu).filter(n=>!n.hasAttribute("uses")||e.includes(n)).forEach(this.removeFromUseList),i.forEach(this.addToUseList)};addToUseList=e=>{if(!(e.nodeType!==Node.ELEMENT_NODE||window.customElements.get(e.tagName.toLowerCase()))){if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let r={};e.hasAttribute("uses")&&(r.uses=e.getAttribute("uses")),e.hasAttribute("rotation")&&(r.rotation=e.getAttribute("rotation")),e.hasAttribute("animate")&&(r.animate=e.getAttribute("animate")),e.hasAttribute("scroll-transition")&&(r["scroll-transition"]=e.getAttribute("scroll-transition"));let n=document.createElement("span");for(let l in r)n.setAttribute(l,r[l]);e.parentNode.insertBefore(n,e);let o=CargoEditor?.getActiveRange();CargoEditor.helpers.movePreservingRanges(e,n,-1,o),n.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=n});return}if(!Cu.has(e)){Cu.add(e);let i={component:m(Sn,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};Mt(e,"custom-element-connected",i),this.portalHost=i.portalHost}}};removeFromUseList=e=>{let i=this.props.bodycopyRef.current&&this.props.bodycopyRef.current.contains(e),r=e.hasAttribute("uses");if(!i&&this.props.bodycopyRef.current)Mt(this.props.bodycopyRef.current,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Cu.delete(e);else if(!r&&(Mt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Cu.delete(e),i&&e.shadowRoot))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let n=document.createElement("div");n.innerHTML=e.outerHTML,e.replaceWith(n.childNodes[0])},{preventDraft:!0});else{let n=document.createElement("div");n.innerHTML=e.outerHTML,e.replaceWith(n.childNodes[0])}}},Em=cw});var Md={};ti(Md,{default:()=>Nne});var dw,Nne,c2=T(()=>{Re();dw={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};dw.defaults=at(dw.options);Nne=dw});var Rd={};ti(Rd,{default:()=>kne});var Cm,kne,d2=T(()=>{Re();Cm={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};Cm.defaults=at(Cm.options);Cm.customShuffle=t=>{let e={...t},i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:i=r=n=0;break;case 1:i=r=n=255;break;case 2:case 3:i=r=n;break}e["color-one"]="rgb("+i+", "+r+", "+n+")";let l=[];if(Math.random()>.3)for(var u=0;u<3;u++)l.push(Math.random()*240+-120);else l[0]=l[1]=l[2]=Math.random()*240+-120;let c=Math.floor(i+l[0]+1024)%256,d=Math.floor(r+l[1]+1024)%256,f=Math.floor(n+l[2]+1024)%256;e["color-two"]="rgb("+c+", "+d+", "+f+")";let g=Math.floor((i+l[0]+1024)*2)%256,v=Math.floor((r+l[1]+1024)*2)%256,S=Math.floor((n+l[2]+1024)*2)%256;return e["color-three"]="rgb("+g+", "+v+", "+S+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};kne=Cm});var hw={};ti(hw,{default:()=>Dne,onChangeCustom:()=>One});var s_e,One,pw,Dne,p2=T(()=>{Re();s_e=he(xe()),One=(t,e,i)=>{let r={};for(let[o,l]of Object.entries(e))t[o]!=l&&(r[o]=l);let n=JSON.parse(e.filters);for(let[o,l]of Object.entries(r))switch(o){case"filters":i.UpdateFilters(n);break;case"rgb":case"film":case"badtv":i.ToggleComponent(n);break;case"image":i.UpdateImage(l);break;default:i.UpdateSettings(e)}},pw={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};pw.defaults=at(pw.options);Dne=pw});function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Me(t,e){if(t=t||"",e=e||{},t instanceof Me)return t;if(!(this instanceof Me))return new Me(t,e);var i=zne(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function zne(t){var e={r:0,g:0,b:0},i=1,r=null,n=null,o=null,l=!1,u=!1;return typeof t=="string"&&(t=noe(t)),Pm(t)=="object"&&(ts(t.r)&&ts(t.g)&&ts(t.b)?(e=qne(t.r,t.g,t.b),l=!0,u=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ts(t.h)&&ts(t.s)&&ts(t.v)?(r=Nd(t.s),n=Nd(t.v),e=Une(t.h,r,n),l=!0,u="hsv"):ts(t.h)&&ts(t.s)&&ts(t.l)&&(r=Nd(t.s),o=Nd(t.l),e=Hne(t.h,r,o),l=!0,u="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=b2(i),{ok:l,format:t.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function qne(t,e,i){return{r:ni(t,255)*255,g:ni(e,255)*255,b:ni(i,255)*255}}function h2(t,e,i){t=ni(t,255),e=ni(e,255),i=ni(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,l,u=(r+n)/2;if(r==n)o=l=0;else{var c=r-n;switch(l=u>.5?c/(2-r-n):c/(r+n),r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,l:u}}function Hne(t,e,i){var r,n,o;t=ni(t,360),e=ni(e,100),i=ni(i,100);function l(d,f,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(f-d)*6*g:g<1/2?f:g<2/3?d+(f-d)*(2/3-g)*6:d}if(e===0)r=n=o=i;else{var u=i<.5?i*(1+e):i+e-i*e,c=2*i-u;r=l(c,u,t+1/3),n=l(c,u,t),o=l(c,u,t-1/3)}return{r:r*255,g:n*255,b:o*255}}function f2(t,e,i){t=ni(t,255),e=ni(e,255),i=ni(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,l,u=r,c=r-n;if(l=r===0?0:c/r,r==n)o=0;else{switch(r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,v:u}}function Une(t,e,i){t=ni(t,360)*6,e=ni(e,100),i=ni(i,100);var r=Math.floor(t),n=t-r,o=i*(1-e),l=i*(1-n*e),u=i*(1-(1-n)*e),c=r%6,d=[i,l,o,o,u,i][c],f=[u,i,i,l,o,o][c],g=[o,o,u,i,i,l][c];return{r:d*255,g:f*255,b:g*255}}function m2(t,e,i,r){var n=[jn(Math.round(t).toString(16)),jn(Math.round(e).toString(16)),jn(Math.round(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function Bne(t,e,i,r,n){var o=[jn(Math.round(t).toString(16)),jn(Math.round(e).toString(16)),jn(Math.round(i).toString(16)),jn(w2(r))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function g2(t,e,i,r){var n=[jn(w2(r)),jn(Math.round(t).toString(16)),jn(Math.round(e).toString(16)),jn(Math.round(i).toString(16))];return n.join("")}function Wne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.s-=e/100,i.s=Im(i.s),Me(i)}function $ne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.s+=e/100,i.s=Im(i.s),Me(i)}function Vne(t){return Me(t).desaturate(100)}function jne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.l+=e/100,i.l=Im(i.l),Me(i)}function Gne(t,e){e=e===0?0:e||10;var i=Me(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Me(i)}function Kne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.l-=e/100,i.l=Im(i.l),Me(i)}function Yne(t,e){var i=Me(t).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Me(i)}function Xne(t){var e=Me(t).toHsl();return e.h=(e.h+180)%360,Me(e)}function v2(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Me(t).toHsl(),r=[Me(t)],n=360/e,o=1;o<e;o++)r.push(Me({h:(i.h+o*n)%360,s:i.s,l:i.l}));return r}function Zne(t){var e=Me(t).toHsl(),i=e.h;return[Me(t),Me({h:(i+72)%360,s:e.s,l:e.l}),Me({h:(i+216)%360,s:e.s,l:e.l})]}function Jne(t,e,i){e=e||6,i=i||30;var r=Me(t).toHsl(),n=360/i,o=[Me(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,o.push(Me(r));return o}function Qne(t,e){e=e||6;for(var i=Me(t).toHsv(),r=i.h,n=i.s,o=i.v,l=[],u=1/e;e--;)l.push(Me({h:r,s:n,v:o})),o=(o+u)%1;return l}function toe(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function b2(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ni(t,e){ioe(t)&&(t="100%");var i=roe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Im(t){return Math.min(1,Math.max(0,t))}function en(t){return parseInt(t,16)}function ioe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function roe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function jn(t){return t.length==1?"0"+t:""+t}function Nd(t){return t<=1&&(t=t*100+"%"),t}function w2(t){return Math.round(parseFloat(t)*255).toString(16)}function y2(t){return en(t)/255}function ts(t){return!!Vn.CSS_UNIT.exec(t)}function noe(t){t=t.replace(Lne,"").replace(Fne,"").toLowerCase();var e=!1;if(fw[t])t=fw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Vn.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Vn.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Vn.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Vn.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Vn.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Vn.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Vn.hex8.exec(t))?{r:en(i[1]),g:en(i[2]),b:en(i[3]),a:y2(i[4]),format:e?"name":"hex8"}:(i=Vn.hex6.exec(t))?{r:en(i[1]),g:en(i[2]),b:en(i[3]),format:e?"name":"hex"}:(i=Vn.hex4.exec(t))?{r:en(i[1]+""+i[1]),g:en(i[2]+""+i[2]),b:en(i[3]+""+i[3]),a:y2(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=Vn.hex3.exec(t))?{r:en(i[1]+""+i[1]),g:en(i[2]+""+i[2]),b:en(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function ooe(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}var Lne,Fne,fw,eoe,Vn,bo=T(()=>{Lne=/^\s+/,Fne=/\s+$/;Me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,n,o,l,u;return i=e.r/255,r=e.g/255,n=e.b/255,i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),.2126*o+.7152*l+.0722*u},setAlpha:function(e){return this._a=b2(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=f2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f2(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+n+"%)":"hsva("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=h2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h2(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+n+"%)":"hsla("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return m2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Bne(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ni(this._r,255)*100)+"%",g:Math.round(ni(this._g,255)*100)+"%",b:Math.round(ni(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ni(this._r,255)*100)+"%, "+Math.round(ni(this._g,255)*100)+"%, "+Math.round(ni(this._b,255)*100)+"%)":"rgba("+Math.round(ni(this._r,255)*100)+"%, "+Math.round(ni(this._g,255)*100)+"%, "+Math.round(ni(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:eoe[m2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+g2(this._r,this._g,this._b,this._a),r=i,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=Me(e);r="#"+g2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!i&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Me(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(jne,arguments)},brighten:function(){return this._applyModification(Gne,arguments)},darken:function(){return this._applyModification(Kne,arguments)},desaturate:function(){return this._applyModification(Wne,arguments)},saturate:function(){return this._applyModification($ne,arguments)},greyscale:function(){return this._applyModification(Vne,arguments)},spin:function(){return this._applyModification(Yne,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(Jne,arguments)},complement:function(){return this._applyCombination(Xne,arguments)},monochromatic:function(){return this._applyCombination(Qne,arguments)},splitcomplement:function(){return this._applyCombination(Zne,arguments)},triad:function(){return this._applyCombination(v2,[3])},tetrad:function(){return this._applyCombination(v2,[4])}};Me.fromRatio=function(t,e){if(Pm(t)=="object"){var i={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?i[r]=t[r]:i[r]=Nd(t[r]));t=i}return Me(t,e)};Me.equals=function(t,e){return!t||!e?!1:Me(t).toRgbString()==Me(e).toRgbString()};Me.random=function(){return Me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};Me.mix=function(t,e,i){i=i===0?0:i||50;var r=Me(t).toRgb(),n=Me(e).toRgb(),o=i/100,l={r:(n.r-r.r)*o+r.r,g:(n.g-r.g)*o+r.g,b:(n.b-r.b)*o+r.b,a:(n.a-r.a)*o+r.a};return Me(l)};Me.readability=function(t,e){var i=Me(t),r=Me(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Me.isReadable=function(t,e,i){var r=Me.readability(t,e),n,o;switch(o=!1,n=ooe(i),n.level+n.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Me.mostReadable=function(t,e,i){var r=null,n=0,o,l,u,c;i=i||{},l=i.includeFallbackColors,u=i.level,c=i.size;for(var d=0;d<e.length;d++)o=Me.readability(t,e[d]),o>n&&(n=o,r=Me(e[d]));return Me.isReadable(t,r,{level:u,size:c})||!l?r:(i.includeFallbackColors=!1,Me.mostReadable(t,["#fff","#000"],i))};fw=Me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},eoe=Me.hexNames=toe(fw);Vn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var mw={};ti(mw,{default:()=>aoe,onChangeCustom:()=>soe});var c_e,soe,kd,aoe,x2=T(()=>{Re();c_e=he(xe());bo();soe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color_r")&&(i.Update("color_r",r.color_r),delete r.color_r),r.hasOwnProperty("color_g")&&(i.Update("color_g",r.color_g),delete r.color_g),r.hasOwnProperty("color_b")&&(i.Update("color_b",r.color_b),delete r.color_b);for(let[n,o]of Object.entries(r))i.Update(n,o)},kd={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};kd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}if(e.background_color){let i=Me(e.background_color),r=i.toRgb();e.color_r=r.r,e.color_g=r.g,e.color_b=r.b,e.alpha=r.a,e.hex_color=i.toHexString()}return e};kd.defaults=at(kd.options);kd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";aoe=kd});var gw={};ti(gw,{default:()=>uoe,onChangeCustom:()=>loe});var f_e,loe,Pu,uoe,S2=T(()=>{Re();f_e=he(xe());bo();loe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Pu={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};Pu.defaults=at(Pu.options);Pu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Pu.defaults.rgb={value:"rgb(255,255,255)"};Pu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let i=Me(e.color);e.rgb=i.toRgbString(),e.color=i.toRgbString(),e.alpha=i.getAlpha()}return e};uoe=Pu});var vw={};ti(vw,{default:()=>doe,onChangeCustom:()=>coe});var y_e,coe,Iu,doe,_2=T(()=>{Re();y_e=he(xe());bo();coe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Iu={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};Iu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Iu.defaults=at(Iu.options);Iu.defaults.alpha={value:0};Iu.defaults.hex={value:"#fff"};doe=Iu});var yw={};ti(yw,{default:()=>hoe,onChangeCustom:()=>poe});var S_e,poe,Au,hoe,E2=T(()=>{Re();S_e=he(xe());bo();poe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Au={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};Au.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Au.defaults=at(Au.options);Au.defaults.alpha={value:0};Au.defaults.hex={value:"#000000"};hoe=Au});var bw={};ti(bw,{default:()=>moe,onChangeCustom:()=>foe});var P_e,foe,Xa,moe,C2=T(()=>{Re();P_e=he(xe());bo();foe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Xa={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};Xa.defaults=at(Xa.options);Xa.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Xa.defaults.rgb={value:"rgb(255,255,255)"};Xa.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Xa.customShuffle=t=>(Math.random()>.5&&(t.zoom=100),t);moe=Xa});var ww={};ti(ww,{default:()=>voe,onChangeCustom:()=>goe});var M_e,goe,Od,voe,P2=T(()=>{Re();M_e=he(xe());bo();goe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r)){let l=!0;if(n==="image"&&(o!==void 0&&o?i.obj.loadImage(o):l=!1),n!==void 0&&l===!0){let u={};u[n]=o,i.Update(n,o),i.obj.updateSettings(u)}}},Od={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};Od.transformChanges=(t,e)=>{if(e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Od.defaults=at(Od.options);Od.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";voe=Od});var xw={};ti(xw,{default:()=>boe,onChangeCustom:()=>yoe});var O_e,yoe,Dd,boe,I2=T(()=>{Re();O_e=he(xe());bo();yoe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Dd={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};Dd.defaults=at(Dd.options);Dd.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";Dd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}return e};boe=Dd});var Sw={};ti(Sw,{default:()=>xoe,onChangeCustom:()=>woe});var z_e,woe,Ld,xoe,A2=T(()=>{Re();z_e=he(xe());bo();woe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Ld={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};Ld.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Ld.defaults=at(Ld.options);Ld.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";xoe=Ld});var _w={};ti(_w,{default:()=>_oe,onChangeCustom:()=>Soe});var B_e,Soe,Am,_oe,T2=T(()=>{Re();B_e=he(xe()),Soe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Am={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};Am.defaults=at(Am.options);Am.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";_oe=Am});var Ew={};ti(Ew,{default:()=>Coe,onChangeCustom:()=>Eoe});var V_e,Eoe,Tu,Coe,M2=T(()=>{Re();V_e=he(xe());bo();Eoe=(t,e,i)=>{let r={};for(let[o,l]of Object.entries(e))t[o]!=l&&(r[o]=l);let n=[];for(let[o,l]of Object.entries(r))i.Update(o,l)},Tu={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};Tu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Tu.customShuffle=t=>{switch(t.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:t.black=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 1:t.cyan=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 2:t.yellow=!0,t.y_opacity=Math.max(100,t.y_opacity),t.black=!0,t.c_opacity=Math.max(50,t.c_opacity);break;case 3:t.magenta=!0,t.m_opacity=Math.max(75,t.m_opacity);break}return t};Tu.defaults=at(Tu.options);Tu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Coe=Tu});var Cw={};ti(Cw,{default:()=>Ioe,onChangeCustom:()=>Poe});var Y_e,R2,Poe,Fd,Ioe,N2=T(()=>{Re();Y_e=he(xe()),R2={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},Poe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color")&&r?.color===null&&(r.color="rgba(0,0,0,0)");for(let[n,o]of Object.entries(r))i.Update(n,o)},Fd={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};Fd.transformChanges=(t,e)=>(e.preset_pattern&&(R2[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...R2[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);Fd.defaults=at(Fd.options);Fd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Ioe=Fd});var zd={};ti(zd,{badtv:()=>hw,gradient:()=>Rd,halftone:()=>Ew,kaleidoscope:()=>ww,morphovision:()=>Sw,parallax:()=>mw,pixelation:()=>bw,polygon_engine:()=>xw,refraction:()=>gw,ripple:()=>vw,slitscan:()=>yw,video:()=>Cw,wallpaper:()=>Md,wave:()=>_w});var Tm=T(()=>{c2();d2();p2();x2();S2();_2();E2();C2();P2();I2();A2();T2();M2();N2()});var Gn,Aoe,k2,Pw,O2,Toe,D2=T(()=>{Ee();Ei();Ti();Tm();Re();Gn=he(xe(),1);ne();Aoe={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/656a48/_jsapps/backdrop/wave/main.js")},k2=Gn.default.memoize(t=>new Promise(async(e,i)=>{if(ue)return i();await Toe();let{default:r}=await Aoe[t]();e(r)})),Pw=class extends se{constructor(e){super(e),this.ref=me(),k2(this.props.path).catch(i=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await k2(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let i=zd[this.props.path.replace("legacy/","")],r={page_id:this.props.id};Gn.default.each(i?.default.defaults,(n,o)=>{r[o]=n.value}),this.onChangeCustom=i?.onChangeCustom?i.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...r,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+Gn.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.remove(),delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!Gn.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("custom backdrop update failed")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return m("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},O2=Pw,Toe=Gn.default.once(async()=>{if(ue)return;let{Backbone:t,underscore:e,jQuery:i}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=i,window.Backbone=t,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>Ke.data.mobile.active,IsAdminEdit:()=>Ai},Event:Gn.default.extend({},t.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=t.Collection.extend({model:function(r,n){return r&&r.type==="local"?new Cargo.o.model.localImage(r,n):new Cargo.o.model.image(r,n)},fetchImage:function(r,n){let o=window.store.getState(),l=Qe.getMediaByHash(o)[r],u=new Cargo.o.model.image({...l});if(l&&u)return u.getImageWithOptions({w:n})},fetchWebGLImage:function(r,n){let o=window.store.getState(),l=Qe.getMediaByHash(o)[r];return l?{w:l.width,h:l.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+l.hash+"/"+l.name,id:r}:null}}),Cargo.o.model.image=t.Model.extend({initialize:function(){Gn.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(r){var n={};return r>this.get("width")&&(r=this.get("width")),n.w=r,this.getImageWithOptions(n).url},getImageByWidth2x:function(r){return this.getImageByWidth(r*2)},getImageWithOptions:function(r){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:r.hasOwnProperty("t")&&r.t=="webgl"};if(Gn.default.extend(n,r),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var o=this.getSquareCrop();n.c={x:o.x,y:o.y,w:o.w,h:o.h}}var l=["t","w","h","q","c"],u=[],c=!1,d=!1;Gn.default.each(n,function(g,v){l.indexOf(v)===-1||g===""||(v==="c"?u.push("c/"+g.x+"/"+g.y+"/"+g.w+"/"+g.h):u.push(v+"/"+g),c=v=="w"?g:v=="c"&&g.w?g.w:c,d=v=="h"?g:v=="c"&&g.h?g.h:d)},this);var f=this.getScaleSize(c,d);return n.w=f.w,n.h=f.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+u.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var r=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),r=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),r=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),r=y=0),{w,h,x:r,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(r){return typeof r!="string"?!1:r.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(r){var n=[128,256,512,1024,2048,4096];return r>this.get("width")&&Gn.default.each(n,function(o){o<1e3&&(r=o)}),r},getScaleSize:function(r,n){var o,l,u=r,c=n;if(o=parseInt(this.get("width")),l=parseInt(this.get("height")),!(r&&n)){if(o==l)u=r||n||o,c=u;else if(r)var d=o/r,c=Math.floor(l/d),u=r;else if(n)var d=l/n,u=Math.floor(o/d),c=n}return{w:u,h:c}},getFitSize:function(r,n,o,l){if(r=parseInt(r),n=parseInt(n),n>r)var u=r/o,c=Math.floor(n/u),d=o;else if(r>n)var u=n/l,d=Math.floor(r/u),c=l;else var d=r,c=n;return[d,c]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var Mu,Mm=T(()=>{Ee();Mu=function(t,e,i={}){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let r={},n=[],o=0,l=t.attributes,u=t.childNodes;for(o=l.length;o--;)r[l[o].name]=l[o].value;for(i={...r,...i},o=u.length;o--;){let c=Mu(u[o],null);n[o]=c}return It(e||t.nodeName,i,n)}});var oEe,Iw,Rm,Dr,Bs=T(()=>{Ee();Re();oEe=he(xe(),1);_r();ne();ue||(Iw=new ResizeObserver(function(t){t.forEach(function(e){Mt(e.target,"reference-resize",{target:e.target,width:e.contentRect.width},{bubbles:!1,cancelable:!0,composed:!0})})}));Rm=class extends se{constructor(e){super(e),this.elementRef=me(),this.elementRef.current={},this.saveRef=i=>r=>{this.elementRef.current[i]=r}}render(){let{values:e={elWidth:"100%"}}=this.props;return m("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(i=>{let r=e[i];return m("div",{tabIndex:"-1",ref:this.saveRef(i),style:typeof r=="object"?r:{width:r}})})})}componentDidUpdate(e,i){}onResize=e=>{let i=Object.keys(this.elementRef.current).find(r=>this.elementRef.current[r]===e.target);this.props.onResize&&this.props.onResize(i,e.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];Xt(i,"reference-resize",this.onResize),Iw?.observe(i)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];Iw?.unobserve(i),ii(i,"reference-resize",this.onResize)})}};Rm.defaultProps={values:{elWidth:"100%"}};Dr=Rm});var vEe,Nm,Lr,Ws=T(()=>{Ee();$e();ho();zi();vEe=he(xe(),1);ne();Nm=class extends se{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,shiftButtonX:0,shifted:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,i){return this.renderElement?Ge(m(re,{children:e.render({...i,...e})}),this.renderElement):null}pointerIn=e=>{this.requestTick(),this.setState(i=>({pointerAttention:!0,scrollIncrement:i.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let i=this.props.buttonHeight||0,r=0,n=e.height,o=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:o,width:e.width,height:n}})};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,this.props.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),ze.removePortal(this.props.baseNode,this.renderElement)}requestTick=()=>{this.ticking||(ze.updateElementRect(this.props.baseNode),this.ticking=!0,requestAnimationFrame(()=>{this.ticking=!1}))};attachToBaseNode(){this.props.baseNode&&(this.renderElement=ze.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{this.requestTick();let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(r)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&(this.setState({pointerAttention:!0}),this.requestTick()),ze.testHover()}componentDidUpdate(e,i){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==i.pointerAttention||this.state.noPointerEvents!==i.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),ze.testHover(),this.requestTick())}};Nm.defaultProps={buttonMode:"inside",buttonHeight:0};Lr=po(Nm)});var Fr,km,wo,Ru=T(()=>{Ee();$e();qt();Ws();zi();go();pt();Fr=he(xe(),1);Ei();ne();km=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=Fr.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,i){let{galleryInstance:r}=e,{initialShowOutlines:n,showTransition:o,draggingOver:l,adjacentIndexes:u,showInsertionIndicator:c,galleryIsEmpty:d,buttonHovered:f,UIWindow:g}=i,v=this.props["thumbnail-index"]!==void 0,S=23;return m(re,{children:[m(qi,{onlyAllowCollapsedRange:!0,baseNode:r}),m("style",{children:c&&`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}

					::slotted(media-item:nth-child(${u.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${u.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${u.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${u.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`}),m(Lr,{...this.props,hasFocus:!!g,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:S,buttonMode:"inside",baseNode:this.props.galleryInstance,render:E=>{let{pointerAttention:_,overlayPosition:P}=E,I=0;if(P.y<=1&&(I=Math.min(-P.y+1,P.height+-S+1)),!e?.["blog-gallery"])return m(re,{children:m("div",{className:`editor-overlay editor-outline${_||g?" hover":""}${_||g?" button-hover":""}${g?" focus":""}`,style:{transform:`translate3d(${P.x}px, ${P.y}px, 0)`,width:P.width+"px",height:P.height+"px",display:_||g?"block":"none",minHeight:"27px",zIndex:10},children:[m("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${I}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:m("button",{onMouseDown:L=>{this.launchUIWindow(L)},ref:this.galleryButtonRef,className:"text",children:v?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.galleryInstance.getBoundingClientRect(),n={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let i=[],r=[],n=[],o=!1,l=!1,u=this.props["thumbnail-index"],c=!1;e.forEach(f=>{if(f.target.tagName=="MEDIA-ITEM"){if(i.indexOf(f.target)>-1||f.type!=="attributes"||f.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(f.attributeName)>-1)return;u&&i.push(f.target),!(f.attributeName==="style"||f.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(f.attributeName)&&i.push(f.target)}else f.target==this.props.galleryInstance&&(f.removedNodes.length>0||f.addedNodes.length>0)?(this.props.allowedElements&&(l=[...Array.from(f.addedNodes),...Array.from(f.removedNodes)].some(this.props.allowedElements)),o=f.addedNodes.length>0||o,r=[...r,...Array.from(f.addedNodes).filter(g=>g.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(f.removedNodes).filter(g=>g.tagName==="MEDIA-ITEM")]):f.type==="characterData"&&(c=f.target)}),r=Fr.default.uniq(r),n=Fr.default.uniq(n),i=Fr.default.uniq(i),n.forEach(f=>{f.itemResize=null,f.itemDragStart=null});let d=Array.from(this.props.galleryInstance.childNodes).filter(f=>f?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&Fr.default.remove(d,this.props.allowedElements),d.forEach(f=>{f.remove()}),(r.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(f=>f.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),(r.length>0||n.length>0||i.length>0||l||this.props["thumbnail-index"]&&c)&&this.props.onCleanUp&&this.props.onCleanUp(r,n,i,c),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=Fr.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,i,r)=>{if(!this.props.disableDragOver)if((!r.customDropTarget||r.customDropTarget===this.props.galleryInstance)&&(r.draggedMediaItems.length>0||r.fromOutside)&&!r.inAdmin&&this.props.galleryInstance.contains(r.dropTarget)){this.state.showInsertionIndicator||this.dragMap.clear();let o=this.props.galleryInstance.getBoundingClientRect(),l=60,u=1.033,c=2.399827721492203,d=Array.from(this.props.galleryInstance.children),f=[],g=i.clientX+-o.left,v=i.clientY+-o.top,S=15,E,_=0,P,I=0,L=null;for(E=0;E<l;E++)if(L=null,_=_+c,S=S*u+2,P=i.clientX+Math.cos(_)*S,I=i.clientY+Math.sin(_)*S,L=document.elementFromPoint(P,I),L&&(L=L.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(L)||(L=null),L&&f.indexOf(L)===-1)if(this.dragMap.has(L)){let J=this.dragMap.get(L);P<=J.x2+o.left&&P>=J.x1+o.left&&I<=J.y2+o.top&&I>=J.y1+o.top&&f.push(L)}else f.push(L);let F=f.map(J=>{let V;if(this.dragMap.has(J))V=this.dragMap.get(J);else{let je=J.getBoundingClientRect();V={w:je.width+-(15*2),h:je.height+-(15*2),x1:je.left+-o.left+15,x2:je.left+je.width+-o.left+-15,y1:je.top+-o.top+15,y2:je.top+je.height+-o.top+-15},this.dragMap.set(J,V)}let oe=!1,$=!1,U=!1,j=!1,ee=!1,de=!1,fe=0,ve=0,Ae=0;g>=V.x1&&g<=V.x2?($=!0,g<V.x1+V.w*.5?de=!0:ee=!0,Ae=0):V.x1>g?(de=!0,Ae=V.x1-g):g>V.x2&&(Ae=V.x2-g,ee=!0),v>=V.y1&&v<=V.y2?(oe=!0,v<V.y1+V.h*.5?j=!0:U=!0,ve=0):V.y1>v?(j=!0,ve=V.y1-v):v>V.y2&&(U=!0,ve=V.y2-v),fe=Math.sqrt(ve*ve+Ae*Ae);let _e=d.indexOf(J),Oe=J.getAttribute("slot"),qe=0,ot=0;return this.props.dragIndicationType==="columns"&&(qe=Array.from(J.assignedSlot.parentElement.children).indexOf(J.assignedSlot)),{inX:$,inY:oe,distance:fe,rise:ve,run:Ae,above:U,below:j,toRight:de,toLeft:ee,index:_e,slotIndex:qe,el:J,rect:V}}),z={el:null,index:-1},H=z,ie=z,X=z,k=z,te=[],le=[],Y=[],K=[];F.forEach(J=>{J.above&&Y.push(J),J.below&&K.push(J),J.toRight&&le.push(J),J.toLeft&&te.push(J)});let D=null,Q=!1;if(this.props.dragIndicationType==="columns"){let J=Fr.default.minBy(Y,U=>Math.abs(U.distance)),V=Fr.default.minBy(K,U=>Math.abs(U.distance)),oe=Fr.default.minBy(te.filter(U=>U.inY),U=>Math.abs(U.distance)),$=Fr.default.minBy(le?.filter(U=>U.inY),U=>Math.abs(U.distance));J&&V?Math.abs(V.run)<Math.abs(J.run)?(k=V,X=Y.find(U=>U.rect.x1<k.rect.x2&&U.rect.x2>k.rect.x1)||z):(X=J,k=K.find(U=>U.rect.x1<X.rect.x2&&U.rect.x2>X.rect.x1)||z):J?X=J:V&&(k=V),oe&&$?Q=$.rect.y1!==oe.rect.y1:(oe?.rect?.y1>15||$?.rect?.y1>15||X?.index>-1)&&(Q=!0)}if(Q){if(H=z,ie=z,X=X,k=k,k?.el)D=k.el;else for(D=X.el?.nextElementSibling?.assignedElements?.()[0]||null;D&&D.tagName!=="MEDIA-ITEM";)D=D?.nextElementSibling||null;r.draggedMediaItems.length===1&&d.indexOf(r.draggedMediaItems[0])>-1&&d.indexOf(D)>d.indexOf(r.draggedMediaItems[0])&&(D=D.nextElementSibling)}else{let J=Fr.default.minBy(te,oe=>Math.abs(oe.distance)),V=Fr.default.minBy(le,oe=>Math.abs(oe.distance));if(J&&V?Math.abs(V.rise)<Math.abs(J.rise)?(ie=V,H=te.find(oe=>oe.index==ie.index+-1)):(H=J,ie=le.find(oe=>oe.index==H.index+1)):J?H=J:V&&(ie=V),X=z,k=z,ie=ie||z,H=H||z,ie?.el)D=ie.el;else for(D=H.el?.nextElementSibling;D&&D.tagName!=="MEDIA-ITEM";)D=D.nextElementSibling}this.setState({adjacentIndexes:{left:H.index,right:ie.index,above:X.index,below:k.index},insertBeforeTarget:D,showInsertionIndicator:!0}),be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance)}else this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1}),be.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,i,r)=>{if(!(this.props["thumbnail-index"]&&(!r.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(r.draggedMediaItems[0])))&&(ze.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart)){i.preventDefault();return}};onAfterDragStart=(e,i,r)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,i,r)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!r.inAdmin){if(r.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{r.draggedMediaItems.forEach((l,u)=>{this.props["thumbnail-index"]&&l.setSaveable(!1),this.props.galleryInstance.insertBefore(l,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(r.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=r.draggedMediaItems[0],o=r.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let l=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(u=>u.getAttribute("href")==o)),n&&(l.selectNode(n),CargoEditor.helpers.setActiveRange(l))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,i,r)=>{this.props.disableBeforeDrop};onDragFinish=()=>{ze.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(i=>i?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1}))};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),Fr.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach(i=>{i._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("before-drop",this.onBeforeDrop),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("before-drop",this.onBeforeDrop),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};km.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};wo=ke((t,e)=>({Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}))(km)});var Aw,Tw,L2,F2=T(()=>{Ee();Aw=he(xe(),1);qt();zi();Ru();ne();Tw=class extends se{constructor(e){super(e),this.state={isDragging:!1,thumbnailsVisible:!1,thumbnailsVisibleWhileDragging:!1,hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=Aw.default.debounce(this.checkRange,120)}render(e,i){let{isDragging:r,thumbnailsVisible:n}=i,{galleryInstance:o,dragContext:l}=e;return m(re,{children:[m("style",{children:`
			media-item figcaption.caption {
				${this.state.thumbnailsVisible?"display: block":""}
			}	
		`}),m(wo,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:o,disableDragOver:!n,disableDrop:!n,allowedElements:u=>u.part=="previous-button"||u.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut})]})}onCleanUp=(e,i,r,n,o,l)=>{this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n,o,l)};onPointerIn=()=>{this.setState({pointerAttention:!0})};onPointerOut=()=>{this.setState({pointerAttention:!1})};onDragOver=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&!this.state.thumbnailsVisible&&(this.setState({thumbnailsVisibleWhileDragging:!0}),this.props.galleryInstance.showThumbnails())};onDragDrop=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&this.state.thumbnailsVisible?setTimeout(()=>{this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.debouncedCheckRange())},500):this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.props.galleryInstance?.hideThumbnails?.())};updateThumbStatus=e=>{let i=this.props.galleryInstance.thumbnailsVisible;this.setState({thumbnailsVisible:i}),i&&requestAnimationFrame(()=>{let r=CargoEditor?.rangy?.createRange(),n=this.props.galleryInstance.querySelector(".sizing-frame");n&&r&&(r.setStartBefore(n),r.setEndAfter(n),CargoEditor.helpers.setActiveRange(r),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor()))})};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),this.state.hasUIWindow||this.props.childArray.some(i=>i._editorInterface?.state?.UIWindow)||e&&this.props.galleryInstance.contains(e.commonAncestorContainer)||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};onClick=e=>{this.props.galleryInstance.thumbnailsVisible};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=Aw.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{r.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,r,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let i=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");if(this.props.inTransition)i.forEach(r=>{ze.deactivateHoverElement(r),ze.lockItem(r)});else if(this.state.pointerAttention){i.forEach(n=>{ze.deactivateHoverElement(n),ze.unlockItem(n)});let r=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));r&&ze.activateHoverElement(r)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),this.props.galleryInstance.addEventListener("click",this.onClick),this.props.galleryInstance.addEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.addEventListener("hide-thumbnails",this.updateThumbStatus),this.updateThumbStatus()}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),this.props.galleryInstance.removeEventListener("click",this.onClick),this.props.galleryInstance.removeEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.removeEventListener("hide-thumbnails",this.updateThumbStatus),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragover",this.onDragOver)}},L2=Tw});var z2,q2=T(()=>{z2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function H2(t,e,i,r){let n,o,l;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(o=n.constructor,o&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),l=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n._dirty),l)return n._pendingError=n}catch(u){t=u}throw t}var U2=T(()=>{});var Moe,qd,B2=T(()=>{U2();Moe={_catchError:H2},qd=Moe});function xo(t,e,i,r,n){let o;for(o in i)o!=="children"&&o!=="key"&&!(o in e)&&$2(t,o,null,i[o],r);for(o in e)(!n||typeof e[o]=="function")&&o!=="children"&&o!=="key"&&o!=="value"&&o!=="checked"&&i[o]!==e[o]&&$2(t,o,e[o],i[o],r)}function W2(t,e,i){e[0]==="-"?t.setProperty(e,i??""):i==null?t[e]="":typeof i!="number"||z2.test(e)?t[e]=i:t[e]=i+"px"}function $2(t,e,i,r,n){let o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||W2(t.style,e,"");if(i)for(e in i)(!r||i[e]!==r[e])&&W2(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")if(o=e!==(e=e.replace(/Capture$/,"")),e.toLowerCase()in t?e=e.toLowerCase().slice(2):e=e.slice(2),t._listeners||(t._listeners={}),t._listeners[e+o]=i,i){if(!r){let l=o?j2:V2;t.addEventListener(e,l,o)}}else{let l=o?j2:V2;t.removeEventListener(e,l,o)}else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||e.indexOf("-")!=-1)?t.setAttribute(e,i):t.removeAttribute(e))}}function V2(t){return this._listeners[t.type+!1](qd.event?qd.event(t):t)}function j2(t){return this._listeners[t.type+!0](qd.event?qd.event(t):t)}var $s=T(()=>{q2();B2()});var G2,K2=T(()=>{G2=(t,e={})=>{let i=t.replace(/["#$%<>&=\?\\\/:]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),r=i.length>0?i:"_";if(e.inUse){let n=r,o=1;for(;e.inUse.includes(n);)n=r+`-${o++}`;return n}return r}});function Y2(t){let e=t.split(":"),i=e[0],r="all";switch(i){case"set":r=Za.default.tail(e).map(n=>n).join(":");break;case"tag":r=Za.default.tail(e)[0]?.split(",").map(n=>G2(n.trim()));break;case"img":r="all";break;case"all":r="all";break}return{type:i,value:r}}function Noe(t){class e extends _i{constructor(r){super(r),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150}}getMapFromAttribute=()=>{let r={};try{let n=unescape(this.props["thumbnail-index-metadata"]||"{}");r=JSON.parse(n)}catch(n){r={},console.error("failed to load saved thumbnail map: ",n)}return r};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=r=>r.purl===this.props.activePURL||r.id===this.props.PIDBeingEdited;render(r){if(!r["thumbnail-index"]||r["thumbnail-index"]==="null"){let c={...r,"thumbnail-index":void 0};return m(t,{...c})}let n=this.state.thumbnails.length>0,o=n&&r["show-tags"],l=n&&r["show-title"],u=n||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?[null,null,null].fill({attributes:{href:null,hash:"placeholder"},purl:null,thumbnail:null,tags:[],title:null}):[];return this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(u=Za.default.sortBy(u,c=>{let d=this.state.attributeMap?.[c.id];return d!=null?d.sort+1:0})),u=u.slice(0,this.state.renderLimit),this.renderedItemCount=u.length,m(t,{...r,onCleanUp:this.onCleanUp,disableDragOver:!0,children:u.map((c,d)=>{let f=c.thumbnail?.is_video||c.thumbnail?.is_url||null;return It("media-item",{...this.state.attributeMap[c.id]?.attributes,saveable:!1,model:c.thumbnail,autoplay:f,loop:f,muted:f,href:c.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+c.id,"disable-zoom":!0,className:`thumbnail linked ${c.tags.map(g=>"tag-"+g.url).join(" ").toLowerCase()}${this.isActiveLink(c)?" active":""}`,...c.attributes},m("figcaption",{class:`caption${!l&&!o?" empty":""}`,slot:"caption",children:[l?m("div",{className:"page-title",children:c.title},"title-"+c.url+"-"+c.title+"-"+this.state.layoutIncrement):null,c.tags.length>0&&o?m("div",{className:"tags",children:c.tags.map((g,v)=>m(re,{children:[m("a",{href:g.url,className:"tag-link",rel:r["links-filter-index"]?"filter-index":"history","data-tag":g.tag,children:g.tag+""}),v<c.tags.length-1?m("span",{className:"tag-separator"}):null]},"tag-link-"+g.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=r=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(r.preventDefault(),r.stopPropagation())};componentDidUpdate(r,n){this.fixBadNullValue(),this.props["thumbnail-index"]&&(r["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==r.thumbCollection||this.props.sort!==r.sort||this.props.lastPublishedAt!==r.lastPublishedAt)&&this.setThumbnails(),this.props["thumbnail-index-metadata"]!==r["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==r["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var r=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(r)}))};updateOldThumbMetaData=Za.default.debounce(()=>{let r=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(r){try{CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",escape(r.textContent))},{preventDraft:!0})}catch{}CargoEditor?.mutationManager?.execute?.(()=>{r.remove()},{preventDraft:!0})}},2e3);componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails)}componentWillUnmount(){cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=r=>{r.metaKey||r.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(r.key)||r.key==="Enter"||r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let r=Y2(this.props["thumbnail-index"]),n=this.props.lastPublishedAt,o=[];switch(r.type){case"set":try{({data:o}=await Hd.default.get(`${pi}/pages/${this.props.siteId}/thumbs/set/${r.value}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:o}=await Hd.default.get(`${pi}/pages/${this.props.siteId}/thumbs/tag/${r.value.join(",")}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"img":try{({data:o}=await Hd.default.get(`${pi}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}))}catch{}o=o.filter(c=>c.media.length>0&&c.password_enabled==!1),o=Za.default.flatMap(o,c=>c.media.map(d=>({display:!0,id:d.id,purl:c.purl,url:c.purl,sort:0,tags:[],thumbnail:d,title:m(re,{children:[m("a",{href:c.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:c.title}),m("br",{}),m("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+d.hash+"/"+d.name,children:d.name})]}),attributes:{"disable-scroll-animation":!0,href:null,"force-quick-view":!0,hash:d.hash}})));break;default:try{({data:o}=await Hd.default.get(`${pi}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let l=store.getState();o=o.filter(c=>{let d=l.pages.byId[c.id];return!(d&&d.crdt_state!==Ut.Published||d&&r.type==="set"&&l.structure.byParent[r.value]&&!l.structure.byParent[r.value].some(f=>f===d.id))});let u=Za.default.unionBy(this.props.thumbCollection,o,"id");switch(u=u.filter(c=>c.pin!==!0&&c.display!==!1&&c.id!==this.props.homepageID&&c.id!==this.props.mobileHomepageID&&c.crdt_state!==Ut.Deleted&&c.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==c.id),this.props.sort){case"reverse":u.sort((c,d)=>d.sort-c.sort);break;case"shuffle":u.sort(c=>Math.random()-.5);break;default:u.sort((c,d)=>c.sort-d.sort);break}this.setState({initialLoad:!0,thumbnails:u})};onCleanUp=(r,n,o,l)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode)return;let u={},c="",d=store.getState();if(Array.from(this.props.baseNode.children).filter(g=>g.tagName==="MEDIA-ITEM").forEach((g,v)=>{let S=g.getAttribute("href"),E={},_=g.attributes,P=0;for(P=_.length;P--;)_[P].name==="saveable"||_[P].name==="limit-by"||_[P].name==="class"||_[P].name==="hash"||_[P].name==="href"||_[P].name==="rel"||_[P].name==="slot"||_[P].name==="width"||_[P].name==="height"||_[P].name==="disable-zoom"||(E[_[P].name]=_[P].value);let I=Qe.getContentByPurl(d,S)?.id||null;I&&(u[I]={sort:v,attributes:E})}),u={...this.state.attributeMap,...u},c=JSON.stringify(u),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)},{preventDraft:!0}),this.setState({attributeMap:u||{}});else if(l){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let g=CargoEditor.rangy.createRange();g.selectNode(this.props.baseNode),g.collapse(),CargoEditor.helpers.setActiveRange(g)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return Wt(ke((i,r)=>{let n=Roe(r["thumbnail-index"],i.structure,i.pages),o=(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl;return!ue&&!o&&(o=window.location.pathname.replace(/^\//,"")),typeof o=="string"&&(o=o.toLowerCase()),{lastPublishedAt:i.adminState?.crdt?.publishedAt??"000",thumbCollection:n,activePURL:o,adminMode:i.frontendState.adminMode,PIDBeingEdited:i.frontendState.PIDBeingEdited,inAdminFrame:i.frontendState.inAdminFrame,siteId:i.site.id,homepageID:i.site.homepage_id,mobileHomepageID:i.site.mobile_homepage_id}})(e))}var Hd,Za,Roe,So,Nu=T(()=>{Ee();$e();pt();qt();Re();Ns();Hd=he(yn(),1);Fi();Sr();Ei();K2();Za=he(xe(),1);ne();Ee();Roe=Qr((t,e,i)=>{let r=[];if(!t)return r;let n=Y2(t);switch(n.type){case"set":r=(e.byParent[n.value]||[]).map(o=>i.byId[o]).filter(o=>o!==void 0);break;case"tag":r=Object.values(i.byId).filter(o=>o.tags&&o.tags.find(l=>n.value?.includes(l.url)));break;case"img":r=[];break;default:r=Object.values(i.byId);break}return r.map(o=>{let l=null;return o.thumb_media_id&&o.media?l=o.media.find(u=>u.id===o.thumb_media_id)||null:o.thumbnail&&(l=o.thumbnail),{id:o.id,title:o.title,purl:o.purl,thumb_meta:o.thumb_meta||{},display:o.display,sort:e.bySort[o.id],tags:o.tags||[],pin:o.pin,crdt_state:o.crdt_state,thumbnail:l}})});So=Noe});var Q2,li,X2,Mw,Z2,J2,koe,Ooe,Doe,Loe,Ja,Rw,Nw,Om,Foe,Dm=T(()=>{Ee();$e();Mm();pt();Ti();Bs();F2();$s();Ji();Nu();_r();ho();Fi();Re();Ya();Q2=he(xe(),1);ne();Ee();li={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{labelName:"Disable Scroll Transition",name:"disable-scroll-animation",type:"check-box",value:!1,requirements:[{option:"imageSettingsScrollAnimation",shouldBe:!0}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};li.defaults=at(li.options);li.mobileDefaults=at(li.mobileOptions);X2=.04,Mw=.25,Z2=.085,J2=.1,koe=.08,Ooe=2,Doe=3,Loe=15,Ja=0,Rw=1,Nw=2,Om=class extends _i{constructor(e){super(e);let i=ue?{hasLayout:!1,visible:!1,position:"unknown"}:{hasLayout:!0,visible:!0,position:"inside"};this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:ue,visible:!1,viewportIntersection:i,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,initialActiveIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:Ja},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.slideListRef=me(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,this.styleRef=me(),Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:r=>this.setState({showThumbnails:!!r}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:r,nextNavigation:n}=this.getNavigation();(this.state.prevNavigation!==r||this.state.nextNavigation!==n)&&this.setState({nextNavigation:n,prevNavigation:r})}}render(e,i){this.updateOptions();let{baseNode:r,adminMode:n,pageInfo:o,usesScrollAnimation:l}=e,{showThumbnails:u,activeIndex:c,destinationIndex:d,inTransition:f,isPointerDown:g,scrubAnimating:v,hasLoaded:S,pointerOver:E,hasSizes:_,initialShowNavigation:P,captionHeightMap:I,viewportIntersection:L}=i,{showCaptions:F,autoPlayDelay:z,limitBy:H,adjustForCaptions:ie}=this.options,{elWidth:X}=i;_.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,X=this.cachedElWidth);let k=H==="fit"?"var(--fit-height)":Kt(this.options.scale,H=="width"?"%":"rem").join(""),te=this.renderSlides(),le=this.getSlideListStyles(),Y=m("div",{ref:this.slideListRef,style:{transform:le.transform},className:"slide-list",draggable:!1,tabIndex:0,children:te}),K={};u||(K.onKeyDown=this.handleKeyDown,K.onClickCapture=this.onClickCapture,K.className="slideshow-wrapper",f&&(K.className+=" in-transition"),g&&(K.className+=" pointer-down"),v&&this.isScrub&&(K.className+=" scrubbing"));let D=H==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,Q=this.makeMediaItemAttributes(),J=this.mediaItems.map((U,j)=>{let ee=Q[j].slot,de=U._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},fe="100%",ve=de.width,Ae=de.height,_e=null,Oe=this.options.showCaptions&&this.state.captionHeightMap[j]||0;if(u)fe=null;else if(typeof ve=="string"&&ve.indexOf("%")>-1)fe=ve;else if(H!=="width"){ie?_e=D+-Oe:_e=D;let qe=Ae/ve,ot=_e+-de.mediaItemSize.padSize+-de.mediaSize.padSize,je=ot*(1/qe),st=(ot+de.mediaSize.padSize)/(je+de.mediaSize.padSize),Ie=(_e+-de.mediaItemSize.padSize)*(1/st);Math.abs(Ie+de.mediaItemSize.padSize-X)<1?fe="100%":fe=`${Math.min(100,100*(Ie+de.mediaItemSize.padSize)/X)}%`}return{captionHeight:Oe,customSlideHeight:_e,figureWidth:fe,slot:ee}}),V=Math.min(this.options.speed/2,.1),oe=Math.max(Math.floor(X/200),2);this.setMediaElementProperties(Q);let $=l&&!this.props["disable-scroll-animation"]?" scroll-transition":"";return m(re,{children:[Ge(m(re,{children:m(Sn,{uses:$,visibility:L,onLazyLoadChange:null,adminMode:n,customElementMode:!0,baseNode:r,children:[this.options.showCaptions?m("style",{id:"gallery-slideshow-captions",ref:this.styleRef,children:`
					::slotted(media-item) {
						--slideshow-caption-transform: ${le["--slideshow-caption-transform"]||"translateX(0px)"};
						z-index: 9;
					}
				`}):null,m("style",{id:"gallery-slideshow",children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${S||u?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${E||P?1:0};
    --slide-height: ${D}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${u?`
	    display: grid;
		grid-template-columns: repeat(${oe}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${V}s;	
		--display-slideshow-captions: ${F?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${u?"":J.map((U,j)=>`
::slotted(media-item[slot="${U.slot}"]){
	--item-width: ${U.figureWidth};
	--slide-height: ${U.customSlideHeight||D}px; 
	--caption-height: ${U.captionHeight}px;
}`).join("")}

${u?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;

    --display-slideshow-captions: block;
    --slideshow-caption-transform: translateX(0px);
    --slideshow-caption-opacity: 1;
    --slideshow-caption-align: left;
    --slideshow-caption-transition-duration: 0;	
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${X}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${X}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${X}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap.filter(U=>U!==void 0))}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
    ${this.state.cancelFadeTransition?"":"transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));"}
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    cursor: ew-resize;
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${V==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n&&o.isEditing&&!ue&&m(L2,{...e,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:l?["disable-scroll-animation"]:[],galleryInstance:r}),!u&&this.options.navigation&&this.len>1&&m("div",{className:"navigation-wrapper",part:`slideshow-nav ${E||P?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),u?m("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):m("div",{part:"slides",...K,onPointerDown:this.onPointerDown,children:Y}),m(Dr,{values:{slideHeightPx:k,elWidth:"100%"},style:u?{gridColumn:`1 / span ${oe}`}:null,onResize:this.onResize})]},"slideshow-host")},"slideshow-fragment"),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),i=e.find(n=>n.getAttribute("part")=="previous-button"),r=e.find(n=>n.getAttribute("part")=="next-button");return i?i=Mu(i,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Nw),key:"previous-button",part:"previous-button"}):i=m("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Nw),children:m("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),r?r=Mu(r,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Rw),key:"next-button",part:"next-button"}):r=m("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Rw),children:m("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:i,nextNavigation:r}};updateOptions(){let{"adjust-for-captions":e=li.defaults["adjust-for-captions"].value,"limit-by":i=li.defaults["limit-by"].value,scale:r=li.defaults.scale.value,autoplay:n=li.defaults.autoplay.value,"autoplay-delay":o=li.defaults["autoplay-delay"].value,"transition-speed":l=li.defaults["transition-speed"].value,"transition-type":u=li.defaults["transition-type"].value,navigation:c=li.defaults.navigation.value,"vertical-align":d=li.defaults["vertical-align"].value,"horizontal-align":f=li.defaults["horizontal-align"].value,shuffle:g=li.defaults.shuffle.value,"show-captions":v=li.defaults["show-captions"].value,"disable-zoom":S=li.defaults["disable-zoom"].value,"disable-scroll-animation":E=li.defaults["disable-scroll-animation"].value,"pause-on-hover":_=li.defaults["pause-on-hover"].value,"mobile-limit-by":P,"mobile-scale":I,"mobile-adjust-for-captions":L,"mobile-autoplay":F,"mobile-autoplay-delay":z,"mobile-transition-speed":H,"mobile-transition-type":ie,"mobile-navigation":X,"mobile-vertical-align":k,"mobile-horizontal-align":te,"mobile-shuffle":le,"mobile-show-captions":Y,"mobile-pause-on-hover":K,"auto-height":D=li.defaults["auto-height"].value,"height-limit":Q=li.defaults["height-limit"].value,"mobile-auto-height":J,"mobile-height-limit":V}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(D==="custom"?(i="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(r=Q)):D==="fit"?(i="fit",this.props.scale==null&&(r=100)):(i="width",this.props.scale==null&&(r=100))),u=u=="fade"||u=="scrub"?u:"slide";let oe=this.props.isMobile,$={adjustForCaptions:oe&&L!==void 0?L:e,shuffle:oe&&le!==void 0?le:g,autoplay:oe&&F!==void 0?F:n,autoPlayDelay:oe&&z!==void 0?z:o,speed:oe&&H!==void 0?H:l,type:oe&&ie!==void 0?ie:u,navigation:oe&&X!==void 0?X:c,disableScrollAnimation:E,disableZoom:S,limitBy:oe&&P!==void 0?P:i,scale:oe&&I!==void 0?I:r,vAlign:oe&&k!==void 0?k:d,hAlign:oe&&te!==void 0?te:f,showCaptions:oe&&Y!==void 0?Y:v,pauseOnHover:oe&&K!==void 0?K:_};$.speed==0&&$.type==="slide"&&($.type="fade"),this.options=$,this.isScrub=$.type==="scrub",this.isSlide=$.type==="slide",this.isFade=$.type==="fade";let U=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(de=>de.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let ve=0;ve<this.len;ve++)this.shuffleList.push(ve);let de=this.shuffleSeed,fe=0;this.shuffleList=this.shuffleList.sort(ve=>(fe++,de=(de+9)%10,(Math.sin(fe+2.4)*5+5)%10>de?-1:1))}}else this.shuffleList=[];let j=this.isScrub?Math.min(Loe,(this.len-1)/2):Math.min(Doe,(this.len-1)/2),ee=j;ee=Math.max(1,Math.floor(ee)),j=Math.max(1,Math.ceil(j)),this.len==3?(ee=1,j=1):this.len==2?ee=0:this.len==1&&(ee=0,j=0),this.lazyloadPrev=ee,this.lazyloadNext=j}setMediaElementProperties=e=>{if(this.len==0)return;let i=[...this.mediaItems],r=this.state.viewportIntersection.position!=="inside"?this.state.viewportIntersection.position:"outside";i.forEach((n,o)=>{let l=e[o]||{},u=l.visibility||!1;delete l.isAdjacent,delete l.visibility,this.state.hasLoaded?l.itemLoad=null:l.itemLoad=this.onMediaLoad;let c=n._props||{};xo(n,{...c,...l},c,!1,!1),n._setZoomStatus?.(this.options.disableZoom),this.props.usesScrollAnimation&&!this.props["disable-scroll-animation"]&&!this.options.disableScrollAnimation&&n._setScrollTransitionStatus?.(!0),n.assignedSlot?((this.state.lazyloadable||this.state.visible)&&Mt(n,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),this.state.visible&&n.slot.replace("slot-","")==this.state.destinationIndex?Mt(n,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):Mt(n,"viewportIntersectionChange",{visible:!1,position:r},{bubbles:!1})):Mt(n,"viewportIntersectionChange",{visible:!1,position:r},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(r=>{let n=r.assignedSlot;return r.tagName==="MEDIA-ITEM"&&n!==null&&r.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let i=this.props.pageInfo.getPageData(this.props.baseNode);i.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,i.activeSlide>=this.len?this.waitingToGoToSlide=i.activeSlide:this.goToSlide(i.activeSlide)),ue||(Xt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),ue||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),ii(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible,viewportIntersection:e})};onLazyLoadIntersectionChange=e=>{this.setState(i=>({lazyloadable:i.lazyloadable||e.visible}))};componentDidUpdate(e,i){e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(i.layoutIncrement!==this.state.layoutIncrement||i.elWidth!==this.state.elWidth||i.slideHeightPx!==this.state.slideHeightPx||i.hasSizes.elWidth!==this.state.hasSizes.elWidth||i.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes(),i.cancelFadeTransition!==this.state.cancelFadeTransition&&this.state.cancelFadeTransition&&requestAnimationFrame(()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})});let r=!1;this.props.thumbnails!=e.thumbnails&&(r=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({destinationIndex:n.activeIndex,cancelFadeTransition:!0})),r=!0,this.onPointerUp(),this.onSlideEnd()),(this.props["show-captions"]!==e["show-captions"]||this.props["mobile-show-captions"]!==e["mobile-show-captions"]&&this.props.isMobile)&&(this.options.showCaptions?(this.onSlideEnd(),this.setState(n=>({...n,layoutIncrement:n.layoutIncrement+1}))):this.setState({captionHeightMap:[]})),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(r=!0),i.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(r=!0),i.visible!=this.state.visible&&(r=!0),i.hasLoaded!==this.state.hasLoaded&&(r=!0),r&&clearTimeout(this.autoplayInterval),r&&this.startAutoplay(),this.isScrub&&(!i.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&i.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==i.activeIndex&&(this.props.pageInfo.setPageData({activeSlide:this.state.activeIndex},this.props.baseNode),this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80))),(this.state.inTransition!==i.inTransition||this.state.isPointerDown!==i.isPointerDown||this.state.isDragging!==i.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),this.progress=0,cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform())}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearInterval(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,i,r)=>{this.setState(n=>{let o=Array.from(i.children).find(d=>d.getAttribute("slot")==="caption"),l=[...n.captionHeightMap],u=n.captionHeightMap[r],c=0;if(o&&this.options.showCaptions){let d=window.getComputedStyle(o),f=d.getPropertyValue("position");f==="fixed"||f==="absolute"?c=0:d.getPropertyValue("box-sizing")==="content-box"?(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0,c+=parseFloat(d.getPropertyValue("padding-top"))||0,c+=parseFloat(d.getPropertyValue("padding-bottom"))||0,c+=parseFloat(d.getPropertyValue("border-top"))||0,c+=parseFloat(d.getPropertyValue("border-bottom"))||0):(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0)}else c=0;return c!==u?(l[r]=c,{captionHeightMap:l,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:i}=this.state;!e.elWidth&&this.cachedElWidth&&(i=this.cachedElWidth);let r=this.mediaItems.map((l,u)=>{let c=l._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},d=c.width,f=c.height,g=f;if(typeof d=="string"&&d.indexOf("%")>-1)g=parseFloat(f)+c.mediaItemSize.padSize+c.mediaSize.padSize||150+c.mediaItemSize.padSize+c.mediaSize.padSize;else{let v=f/d;if(c.mediaSize.padSize>0){let S=((i-c.mediaSize.padSize)*v+c.mediaSize.padSize)/i;g=(i-c.mediaItemSize.padSize)*S+c.mediaItemSize.padSize}else g=(i-c.mediaItemSize.padSize)*v+c.mediaItemSize.padSize}return g}),n=Q2.default.maxBy(r,l=>l||0)||0,o={index:r.indexOf(n),height:n};this.setState({tallestSlide:o})};onResize=(e,i)=>{this.setState(r=>({hasSizes:{...r.hasSizes,[e]:!0},[e]:i}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{this.setState({pointerOver:!1})};scrubAnimate=()=>{let{elWidth:e}=this.state,i=X2===0?1/this.len:X2,r=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let o=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=o,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===Nw?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-J2):this.state.scrubStatus===Rw?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+J2):this.state.scrubStatus===Ja&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+Z2):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-Z2));if(Math.abs(this.pointerFrameDeltaX)>Mw*i*e&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=Mw*i*e:this.pointerFrameDeltaX=-(Mw*i)*e),this.state.isPointerDown){let o=this.lastPointerX-this.pointerX,l=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(o-l)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,r=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=r-this.firstPointerX,Math.abs(this.xDrag/e)>i&&this.len>1){let o=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:o,activeIndex:o}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==Ja&&this.scrubCounter>=30&&!this.state.isPointerDown?(this.setState({scrubAnimating:!1}),this.scrubCounter=0,this.options.autoplay&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter++,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,i)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:i}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:Ja}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onPointerDown=e=>{e.defaultPrevented||e.target.closest(".caption")||!this.slideListRef.current||e.button==2||(this.cancelClick=!1,clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(i=>({isPointerDown:!0,initialActiveIndex:i.activeIndex})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",i="translateX(0)";return this.isSlide&&(e=`translateX(${Math.round((this.state.elWidth*(-1+(1-this.lazyloadPrev))+this.xTransform)*2)/2}px)`,i=`translateX(${-Math.round(this.xTransform*2)/2}px)`),{"--slideshow-caption-transform":i,transform:e}};updateSlideTransform=e=>{let{destinationIndex:i,activeIndex:r,elWidth:n}=this.state,o="";if(this.progress===void 0&&(this.progress=0),this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){o="transform";let u=this.xDrag+this.initialXTransform,c=0,d=u,f=n;i>r?f=-n:i<r?f=n:f=0;let g=0;if((!e||e==0)&&(e=0,this.lastTimestamp=0,g=0),this.lastTimestamp==0&&(this.lastTimestamp=e||0),g=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isDragging||this.state.isPointerDown){if(this.state.isDragging){this.dragPxPerSecond===void 0&&(this.dragPxPerSecond=0),this.lastDragX===void 0&&(this.lastDragX=this.pointerX);let v=(this.pointerX-this.lastDragX)*g;v!=0&&(v>0&&this.dragPxPerSecond>0?v<this.dragPxPerSecond&&(v=this.dragPxPerSecond*.95+v*.05):v<0&this.dragPxPerSecond<0&&v>this.dragPxPerSecond&&(v=this.dragPxPerSecond*.95+v*.05),this.dragPxPerSecond=v),this.lastDragX=this.pointerX}this.progress=0}else{if(this.state.isPointerDown||(this.progress=this.progress+g),this.dragPxPerSecond!==void 0&&this.dragPxPerSecond!==0){this.dragPxPerSecond<0?this.dragPxPerSecond=Math.min(-800,this.dragPxPerSecond):this.dragPxPerSecond=Math.max(800,this.dragPxPerSecond);let v=n/Math.abs(this.dragPxPerSecond);c=Oy(this.progress/(Math.min(v,this.options.speed)*1e3))}else c=Dy(this.progress/(this.options.speed*1e3));u=c*f+(1-c)*d}u=Math.min(Math.max(-n,u),n),this.xTransform=u,c>=1&&!(this.state.isPointerDown||this.state.isDragging)?(this.dragPxPerSecond=void 0,this.lastDragX=void 0,this.onSlideEnd()):this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.isScrub?(this.xTransform=0,this.progress=0):this.isFade&&(this.xTransform=0,this.progress=0);let l=this.getSlideListStyles();this.slideListRef.current&&l.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=l.transform,this.styleRef.current&&(this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",l["--slideshow-caption-transform"]||"translateX(0px)"),Is()&&Array.from(this.props.baseNode.children).forEach(u=>{u.nodeName==="MEDIA-ITEM"&&u.assignedSlot&&u._forceRedraw?.()})),this.slideListRef.current.style.willChange=o)};onPointerUp=e=>{window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let i=!1,r=!1,n=!1;if(e){let u=Array.from(e.composedPath()).some(c=>c.getAttribute?.("part")?.includes("media"));if(u&&e.target.tagName==="MEDIA-ITEM"&&e.target.getAttribute("browser-default")=="true"){let c=e.target.getFileType?.()??"";(c.startsWith("vimeo")||c.startsWith("youtube")||c=="video")&&(n=!0)}e.target?.closest("a, [href]")&&(i=!0),e.target?.closest("media-item.zoomable")&&u&&(r=!0),!i&&!r&&e?.preventDefault()}e?.pointerType==="touch"&&!i&&e.type!=="pointercancel"&&e.target.nodeName==="MEDIA-ITEM"&&e.target?.shadowRoot?.querySelector(".sizing-frame")?.click();let o=!1,l=!1;this.setState(u=>{let{elWidth:c,scrubStatus:d,isPointerDown:f,isDragging:g,inTransition:v,finishingTransition:S,scrubAnimating:E,activeIndex:_,destinationIndex:P}=u;return!u.isDragging&&(i||r||n)?o=!1:this.isScrub?(v=!1,S=!1,u.isDragging?E=!0:Math.abs(this.xDrag)<8&&(E=!1,o=!0)):this.isSlide&&this.options.speed!=0?u.isDragging?(S=!0,v=!0,o=!1):u.inTransition||u.finishingTransition?(o=!1,S=!0,v=!0):(o=!0,S=!1,v=!1):this.isFade&&this.options.speed!=0?u.isDragging?o=!1:o=!0:this.options.speed==0&&(u.isDragging?(v=!1,o=!1):(v=!1,o=!0),_=P),o&&e&&(this.cancelClick=!0),{elWidth:c,scrubStatus:Ja,isPointerDown:!1,isDragging:!1,inTransition:v,destinationIndex:P,activeIndex:_,scrubAnimating:E}},()=>{this.isFade&&l&&this.setState({cancelFadeTransition:!0}),o&&(this.onSlideEnd(),this.nextSlide())})};onWindowPointerMove=e=>{this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(i=>{let{activeIndex:r,destinationIndex:n,isDragging:o,initialActiveIndex:l}=i,u=Math.abs(this.xDrag/i.elWidth),c=i.elWidth*(-2+(1-this.lazyloadNext)),d=i.elWidth*(1-this.lazyloadPrev);if(!i.isDragging&&i.isPointerDown&&Math.abs(this.xDrag)>Ooe&&(o=!0,this.isSlide&&i.inTransition&&this.len>1&&(i.destinationIndex>i.activeIndex&&this.xDrag<0?(l++,r++,n++,this.xTransform=this.xTransform+i.elWidth,this.initialXTransform=this.initialXTransform+i.elWidth):i.destinationIndex<i.activeIndex&&this.xDrag>0&&(l--,r--,n--,this.xTransform=this.xTransform-i.elWidth,this.initialXTransform=this.initialXTransform-i.elWidth),l=(r+this.len*3)%this.len,r=(r+this.len*3)%this.len,n=(n+this.len*3)%this.len),this.cancelClick=!0),o){let f=this.xDrag<0?r+1:r-1;u>koe&&this.len>1?(Math.abs(f-i.initialActiveIndex)<2||this.isScrub)&&(n=f):this.isScrub||(n=i.initialActiveIndex),n<-1&&(n=n+this.len)}if(i.activeIndex!==r||i.destinationIndex!==n||i.isDragging!==o||i.initialActiveIndex!==l)return{...i,activeIndex:r,destinationIndex:n,initialActiveIndex:l,isDragging:o};{let f=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=f.transform,this.styleRef.current&&this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",f["--slideshow-caption-transform"]||"translateX(0px)")),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex+1;return r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Ja):r.destinationIndex=n,this.xDrag=0,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex-1;return n<-1&&(n=n+this.len),r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Ja):r.destinationIndex=n,this.xDrag=0,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let i=e?.target?.closest?.("media-item")||null;if(i){let r=Array.from(this.props.baseNode.children).indexOf(i);this.setState({destinationIndex:r,activeIndex:r},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0}),this.setState(e=>{this.xTransform=0;let i=(e.destinationIndex+this.len+this.len+this.len)%this.len;return{...e,activeIndex:i,destinationIndex:i,inTransition:!1}},()=>{if(this.isSlide&&this.slideListRef.current&&(this.slideListRef.current.style.willChange=""),this.props.afterSlideChange){let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,i)}}),this.startAutoplay()};onSlideOpacityTransitionStart=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")};onSlideOpacityTransitionEnd=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,i,r)=>{let n=r*.5,o=n-Math.abs((e+-i)%(2*n)-n);return o<-n&&o<0&&(o=o+r),o};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:i,slideHeightPx:r,activeIndex:n,actualCardSize:o,destinationIndex:l}=this.state,{shuffle:u,limitBy:c,scale:d,adjustForCaptions:f}=this.options,g=u&&!e,v=[];for(let S=0;S<this.len;S++){let E=(S+this.len)%this.len,_=E;g&&(_=this.shuffleList[E]);let P=`slot-${_}`,I=Math.abs(this.getWrapAroundDistanceFromIndex((_+this.len)%this.len,n,this.len))<3,L={itemDragStart:this.onDragStart,itemResize:(F,z)=>{this.onItemResize(F,z,_)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:I,visibility:n==E,slot:e?"thumbnails":P};v.push(L)}return v};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let i=Array.from(this.props.baseNode.children).filter(n=>{let o=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&o!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var r=this.isFade?Math.min(i.length,3):i.length;this.loadedItems.size>=r&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:i,activeIndex:r,inTransition:n,showThumbnails:o}=this.state,{xDrag:l,initialXTransform:u}=this,c=[],f=(u%e+l>0||i<r)&&this.isSlide&&this.len==2;for(let g=-this.lazyloadPrev;g<this.lazyloadNext+1;g++){let v=g;f&&(v=v+-1);let S=(v+r+this.len*2)%this.len,E="slot-"+S,_=!1,P=!1,I={};I.className=`slide ${this.options.type}-transition`,(i+this.len)%this.len==S&&(P=!0,I.className+=" destination-slide"),(r+this.len)%this.len==S&&(_=!0,I.className+=" active-slide"),I.part="slide",I.style={},o||(I.style={width:`${e}px`,transform:f?"translateX("+-e+"px)":null}),this.isFade&&(I.onTransitionStart=L=>{this.onSlideOpacityTransitionStart(L,v)},I.onTransitionEnd=L=>{this.onSlideOpacityTransitionEnd(L,v)}),v==-1&&(I.part+=" "+this.options.type+"-slide-previous"),v==1&&(I.part+=" "+this.options.type+"-slide-next"),v>=-1&&v<=1?(I.className+=" adjacent-slide",I.part+=" "+this.options.type+"-slide-adjacent"):I.className+=" non-adjacent-slide",I.slot=E,c.push(It("div",{...I,key:"slot_"+E},m("slot",{name:E})))}return c};goToSlide=e=>{e=e%this.len||0,!(isNaN(e)||this.state.destinationIndex===e)&&this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1},()=>{this.updateSlideTransform()})};getActiveSlide=()=>{let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,i]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var r=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);r&&window.getSelection()?.removeAllRanges()}this.initialXTransform=0,this.xTransform=0,this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1,finishingTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};Om.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};Foe=Wt(So(ke((t,e)=>({isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,usesScrollAnimation:t.siteDesign.images.scroll_animation}))(Om)));ri(Foe,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","disable-scroll-animation","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var ez,kw,Ow,tz,iz=T(()=>{Ee();$e();ez=he(xe(),1);Dm();$s();pt();Ei();Tm();Re();Ti();_r();ne();kw={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_image:!0,is_video:!1,is_url:!1},Ow=class extends se{constructor(e){super(e),this.state={isMobile:Ke.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=me(),this.wallpaperRef=me(),this.slideshowRef=me(),this.navigationRef=me()}getSettings=()=>{let e={};for(let[i,r]of Object.entries(Md.default.defaults))this.props.settings?.hasOwnProperty(i)?e[i]=this.props.settings[i]:e[i]=r.value;return e};render(){let{showNavigation:e,navigationContainer:i,isMobile:r}=this.state,{modelArray:n,singleModel:o,visibility:l,wrapperDimensions:u}=this.props,c=this.getSettings(),d=Kt(c.margin,"%"),f="";d[1]==="%"?(d[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(d[0])*.01,d[1]="px"):d[1].includes("rem")&&r&&(d[0]="calc( var(--mobile-padding-offset, 1) * "+d[0]+"rem )",d[1]="");let g;d[1]==="px"?g=this.props.dimensions.height+.5-d[0]*2+"px":d[0]?.indexOf?.("calc(")>-1?g=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${d[0].replace("calc(","")} ) )`:g=`calc( ${this.props.dimensions.height+.5}px - ${d[0]*2+d[1]} )`;let v=c["image-fit"]=="fit",S={autoplay:c.autoplay,"transition-speed":c["transition-speed"],"transition-type":c["transition-type"],"autoplay-delay":c["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:c.shuffle,navigation:!1,scale:g,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange,"disable-scroll-animation":!0},E=this.props.settings.alignments||{},_="";for(let[L,F]of Object.entries(E))_+=` media-item[hash="${L}"] { --position-image: ${F.x}% ${F.y}% }`;let P=null,I=null;return n.length>0&&(I=c.navigation&&c["cycle-images"]&&n.length>1?m(re,{children:[m("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:m("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?Ge(m(re,{children:[m("style",{children:`
:host {
	width: ${this.props.dimensions.width}px;
}

[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),m("div",{part:"slideshow-nav",children:[m("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:m("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),m("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:m("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),m("div",{className:"page-layout",children:m("div",{className:"page-content"})})]}):null,P=c["cycle-images"]&&n.length>1?m("gallery-slideshow",{...S,className:"image-container multiple-item",ref:this.slideshowRef,children:n.map((L,F)=>m("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:L.hash,muted:"true",autoplay:L.is_video||L.is_url,loop:!0,part:"media-item"},"slide-"+F))}):m("div",{className:"image-container single-item",children:m("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:o?.hash||"placeholder",model:o,part:"media-item",muted:"true",autoplay:o.is_video,loop:"true","force-visible":this.props.visibility.visible,itemLoad:this.onFirstLoad,"limit-by":v?"height":"width",scale:v?g:"100%"})})),m("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&Ge(m(re,{children:[m("style",{children:`:host {
						background-color: ${c["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					}

					gallery-slideshow media-item figcaption.caption {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${v?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${d.join("")};
					}

					.image-container {
						opacity: ${c.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${v?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${g};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${_}`}),I&&i&&Ge(I,i),m("div",{className:"overlay"}),m("div",{className:"inner",ref:this.containerRef,children:P})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{this.state.showNavigation||this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=ez.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};renderNavigation(){if(!this.props.backdropRef.current)return;if(this.props.modelArray.length>1&&this.props.settings["cycle-images"]&&!this.state.navigationContainer&&this.props.settings.navigation){let i=document.createElement("div");i.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(i),this.setState({navigationContainer:i})}else this.state.navigationContainer&&this.state.navigationContainer.remove(),this.setState({navigationContainer:null,navigationElement:null})}componentDidMount(){Ke.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),this.renderNavigation(),window.addEventListener("pointermove",this.onPointerMove),setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){Ke.off("mobile-change",this.onMobileChange),this.hideNavigation.cancel(),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove)}componentDidUpdate(e,i){let r=this.getSettings();if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"]||e.modelArray?.length==1&&this.props.modelArray?.length>1)&&(this.renderNavigation(),this.onPointerMove()),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let n=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(n){let o=Array.from(this.slideshowRef.current.children).indexOf(n);this.slideshowRef.current.goToSlide(o)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{let e=Array.from(this.containerRef.current.querySelectorAll("media-item"));this.slideshowRef.current&&Mt(this.slideshowRef.current,"viewportIntersectionChange",{visible:this.props.visibility.visible,position:this.props.visibility.position},{bubbles:!1})};onFirstLoad=e=>{if(this.slideshowRef.current){let i=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:i[0],mediaItem:i[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,i)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:i},composed:!1,bubbles:!1}))}},tz=ke((t,e)=>{let i=Qe.getMediaByParent(t)[e.id],r=i.some(l=>l.loading);i=i.filter(l=>!l.loading&&!l.is_deleted&&(l.is_video||l.is_image));let n=null,o=e.settings?.activeImage||null;return o===kw.hash?(n=kw,i.push(n)):(o&&(n=i.find(l=>l.hash==o)),n||(n=i[0])),!n&&!r&&i.length==0&&(n=kw,i.push(n)),e.settings.excluded&&(i=i.filter(l=>e.settings.excluded.indexOf(l.hash)==-1),i.length==1&&e.settings["cycle-images"]&&(n=i[0])),e.settings.order&&i.sort(function(l,u){return e.settings.order.indexOf(l.hash)<e.settings.order.indexOf(u.hash)?-1:1}),{singleModel:n,modelArray:i}})(Ow)});var nPe,Dw,rz,nz=T(()=>{Ee();$e();nPe=he(xe(),1);pt();Ei();Tm();ne();Dw=class extends se{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=me()}render(){let{visibility:e,dimensions:i}=this.props,{counter:r}=this.state,n={};for(let[ee,de]of Object.entries(Rd.default.defaults))this.props.settings?.hasOwnProperty(ee)?n[ee]=this.props.settings[ee]:n[ee]=de.value;let{repeat:o,rotation:l,scale:u,smoothness:c,"animation-speed":d,"pos-x":f,"pos-y":g,"gradient-type":v,"color-one":S,"color-two":E,"color-three":_,"color-one-active":P,"color-two-active":I,"color-three-active":L}=n;S=S||"transparent",E=E||"transparent",_=_||"transparent",g=g+50,f=f+50,u=parseFloat(u)/100,c=parseFloat(c)/100,l=parseInt(l);let F=d>0;d=Math.abs(d/100),d=d*d,d=F?d:-d;let z=d!==0,H=z&&v=="linear"&&o,ie=z&&v=="radial"&&o,X=d>0?d*120+(1-d)*2400:Math.abs(d)*120+(1-Math.abs(d))*2400,k=(1-Math.abs(d))*40+Math.abs(d)*4,te=r%X/X;d>0&&(te=1-te);let le=0,Y=ie?te*100*u:0,K=[];P&&K.push(S),I&&K.push(E),L&&K.push(_);let D="",Q="",J="",V=0,oe=0,$="",U="",j=[];if(K.length!=0)if(K.length==1)D+=`background-color: ${K[0]}`;else if(K.length==2)if(o){u=(1-c)*u+u*c;let ee=(100/4*1+-c*(100/4))*u-(1-c)*(100/5)*u;j[0]=0+Y,j[1]=(100/4*1+c*(100/4))*u-(1-c)*(100/5)*u+-ee+Y,j[2]=(100/4*3+-c*(100/4))*u-(1-c)*(100/5)*u+-ee+Y,j[3]=(100/4*3+c*(100/4))*u-(1-c)*(100/5)*u+-ee+Y,j[4]=100*u+Y}else j[0]=0,j[1]=u*100+-(u*100)*c,j[2]=u*100+(1-u)*100*c,j[3]=100;else if(o){u=(1-c)*u+u*c;let ee=(100/6*1+-c*(100/6))*u-(1-c)*(100/7)*u;j[0]=0+Y,j[1]=(100/6*1+c*(100/6))*u-(1-c)*(100/7)*u+-ee+Y,j[2]=(100/6*3+-c*(100/6))*u-(1-c)*(100/7)*u+-ee+Y,j[3]=(100/6*3+c*(100/6))*u-(1-c)*(100/7)*u+-ee+Y,j[4]=(100/6*5+-c*(100/6))*u-(1-c)*(100/7)*u+-ee+Y,j[5]=(100/6*5+c*(100/6))*u-(1-c)*(100/7)*u+-ee+Y,j[6]=100*u+Y}else u=(1-c)*3*u+u*c,j[0]=100/6*0+c*(100/6)*0,j[1]=100/6*2+-c*(100/6)*2,j[2]=100/6*2+c*(100/6)*1,j[3]=100/6*4+-c*(100/6)*1,j[4]=100/6*4+c*(100/6)*2,j[5]=100/6*6+-c*(100/6)*0,j[0]=Math.max(j[0]*u+50*(1-u),0),j[1]=Math.max(j[1]*u+50*(1-u),0),j[2]=j[2]*u+50*(1-u),j[3]=j[3]*u+50*(1-u),j[4]=Math.min(j[4]*u+50*(1-u),100),j[5]=Math.min(j[5]*u+50*(1-u),100);if(K.length>1){D="background-image: ",D+=o?"repeating-":"",D+=v=="linear"?`linear-gradient( ${l+180}deg`:`radial-gradient( circle at ${f}% ${g}%`,Q=J="background-position: ";let ee=[];if(K.length==2?o?ee=[0,1,1,0,0]:ee=[0,0,1,1]:o?ee=[0,1,1,2,2,0,0]:ee=[0,0,1,1,2,2],H?j.forEach((de,fe)=>{let ve=K[ee[fe]]||K[0];D+=`, ${ve} ${de/2}%`}):j.forEach((de,fe)=>{let ve=K[ee[fe]]||K[0];D+=`, ${ve} ${de}%`}),D+=")",H){let de=(l+90)*(Math.PI/180),fe=i.width/i.height,ve=Math.cos(de),Ae=Math.sin(de),_e=j[j.length-1]+"%";ve<0?(J+="0% ",Q+=_e+" "):(J+=_e+" ",Q+="0% "),Ae<0?(Ae*=-1,J+="0%;",Q+=_e+";"):(J+=_e+";",Q+="0%;")}}return m("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&Ge(m("style",{children:`:host {
						${D};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${H?"200% 200%;":"100% 100%;"}
					    ${H&&"will-change: background-position, background-image;"}
					    ${H&&"animation: slideAnimation "+k+"s linear infinite "+(d<0?"reverse":"normal")+";"}
					}

					${H?`
					@keyframes slideAnimation {
						0% {
							${Q}
						}

						100% {
							${J}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,i){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},rz=Dw});var hPe,Ud,Bd,zoe,qoe,Lw,Fw,oz,zw=T(()=>{Ee();hPe=he(xe(),1);Re();Ji();D2();iz();nz();ne();ue||(Ud=new IntersectionObserver(function(t){t.forEach(function(e){let i="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?i="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(i="below"),e.target.dispatchEvent(new CustomEvent("intersectionChange",{detail:{visible:e.isIntersecting,position:i}}))})},{root:document,rootMargin:window.screen.height+"px 0px",threshold:0}),Bd=new ResizeObserver(t=>{t.forEach(e=>{e.target.dispatchEvent(new CustomEvent("contentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},composed:!0,bubbles:!1}))})}));zoe=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],qoe={wallpaper:tz,gradient:rz},Lw={};zoe.forEach(t=>{t.startsWith("legacy")?Lw[t]=O2:Lw[t]=qoe[t]});Fw=class extends se{constructor(e){super(e),this.backdropRef=me(),this.backdropWrapperRef=me(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"}}}onWrapperIntersectionChange=e=>{this.setState({wrapperVisibility:e.detail})};onIntersectionChange=e=>{this.setState({innerVisibility:e.detail})};onWrapperResize=e=>{this.setState({wrapperDimensions:e.detail})};onResize=e=>{this.setState({dimensions:e.detail})};render(e,i){let{settings:r,id:n}=this.props,o=Lw[r.activeBackdrop];if(!o)return r.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${r.activeBackdrop}" not found`),null;let l=r.backdropSettings?.[r.activeBackdrop]||{},u=l.clipScroll==!0;return m("div",{className:`backdrop ${u?"clip":""}`,ref:this.backdropWrapperRef,children:[m("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:m(o,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:r.activeBackdrop,settings:l,dimensions:this.state.dimensions,visibility:this.state.visibility,onLoad:this.onLoad})}),m(fo,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let i=this.backdropRef.current.querySelector("[data-backdrop]");i&&i.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(r=>({loaded:r.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,i){if(this.state.innerVisibility!==i.innerVisibility||this.state.wrapperVisibility!==i.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(r=>({loaded:r.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.addEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.addEventListener("contentResize",this.onResize),this.backdropRef.current.addEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Bd.observe(this.backdropRef.current),Bd.observe(this.backdropWrapperRef.current),Ud.observe(this.backdropWrapperRef.current),Ud.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.removeEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.removeEventListener("contentResize",this.onResize),this.backdropRef.current.removeEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Bd.unobserve(this.backdropRef.current),Bd.unobserve(this.backdropWrapperRef.current),Ud.unobserve(this.backdropWrapperRef.current),Ud.unobserve(this.backdropRef.current))}},oz=Fw});var tn,Ve,Lm,sz=T(()=>{tn=he(xe(),1);Re();Ve={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedChangeObserver:ue?null:new MutationObserver(t=>{t.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&Ve.add(e.target);let i=Array.from(e.addedNodes).filter(r=>r?.nodeName==="IFRAME");i.length>0&&Array.from(e.target.querySelectorAll("iframe")).forEach(r=>{i.includes(r)||r.remove()})})}),loadEmbedScript:(t,e)=>{if(Ve.embedScriptsCache[t])return Ve.embedScriptsCache[t];let i=new Promise(r=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=r,document.head.appendChild(n)});return Ve.embedScriptsCache[t]=i,i},initializeBandsInTown:function(t,e){var i="https://widget.bandsintown.com/main.min.js";e==="v3"&&(i="https://widgetv3.bandsintown.com/main.min.js"),Ve.loadEmbedScript(i).then(function(){BIT.widgetInitializer?t():BIT.onReady=t})},findEmbedsIn:function(t){t&&tn.default.each(t.querySelectorAll("cargo-embed"),Ve.add,Ve)},add:function(t){if(!(!t||t.nodeType!==Node.ELEMENT_NODE)){var e=t.getAttribute("data-type");if(!(!e||Ve.handledEmbeds.includes(t)&&t.children.length>0))switch(e){case"tweet":Ve.handleTwitterEmbed(t);break;case"twitter-timeline":Ve.handleTwitterTimelineEmbed(t);break;case"bandsintown":Ve.handleBandsIntownEmbed(t);break;case"songkick":Ve.handleSongkickEmbed(t);break;case"opentable":Ve.handleOpentableEmbed(t);break;case"typeform":Ve.handleTypeFormEmbed(t);break;case"shoprocket":Ve.handleShopRocketEmbed(t);break}}},handleTwitterEmbed:function(t){var e=t.getAttribute("data-id");!e||e===""||Ve.embedsIniting.includes(t)||(Ve.embedsIniting.push(t),Ve.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTweet(e,t).then(function(i){i&&(i.setAttribute("contenteditable","false"),Ve.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Ve.embedsIniting=Ve.embedsIniting.filter(r=>r!==t)})}),Ve.handledEmbeds.push(t))},handleTwitterTimelineEmbed:function(t){if(!Ve.embedsIniting.includes(t)){Ve.embedsIniting.push(t);try{var e=JSON.parse(t.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=t.getAttribute("data-source"));var i;if(t.hasAttribute("data-options"))try{i=JSON.parse(t.getAttribute("data-options"))}catch{}Ve.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTimeline(e,t,i).then(function(r){r&&(r.setAttribute("contenteditable","false"),Ve.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Ve.embedsIniting=Ve.embedsIniting.filter(n=>n!==t)})}),Ve.handledEmbeds.push(t)}},handleOpentableEmbed:function(t){if(!t.ownerDocument.contains(t))return;let e=document.createElement("opentable-embed-anchor");e.src=t.getAttribute("data-src"),t.appendChild(e),fetch(t.getAttribute("data-src")).then(i=>i.text()).then(i=>{e.id=tn.default.uniqueId("opentable-"),i=i.replace('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(i),e.remove()}),Ve.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),Ve.handledEmbeds.push(t)},handleBandsIntownEmbed:function(t){Ve.initializeBandsInTown(()=>{t.innerHTML="";var e={},i={};tn.default.each(t.attributes,function(o){if(/^data-/.test(o.name)&&o.name!=="data-type"){var l=o.name.substr(5).replace(/-/g,"_");e[l]=o.value;var u=l.split("_").map(function(c,d){return d>0?c.charAt(0).toUpperCase()+c.slice(1):c}).join("");i[u]=o.value}});var r=document.createElement("a");if(r.setAttribute("id","bit-widget-"+tn.default.uniqueId()),r.setAttribute("class","bit-widget-initializer"),tn.default.each(e,function(o,l){r.setAttribute("data-"+l.replace(/_/g,"-"),o)}),t.appendChild(r),Ai){var n=new MutationObserver(function(o){tn.default.each(o,function(l){l.type=="childList"&&l.addedNodes.forEach(function(u){u&&u.nodeType===Node.ELEMENT_NODE&&(u.setAttribute("contenteditable",!1),u.classList.contains("bit-widget-container")&&(u.style.pointerEvents="none",n.disconnect()))})})});n.observe(t,{childList:!0})}BIT.widgetInitializer.append(r,i),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t)},t.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(t){if(!Ve.embedsIniting.includes(t)){Ve.embedsIniting.push(t);var e={};tn.default.each(t.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var o=n.name.substr(5).replace(/-/g,"_");e[o]=n.value}});var i=document.createElement("a");i.setAttribute("class","songkick-widget"),i.setAttribute("href","https://www.songkick.com/artists/"+e.id),i.setAttribute("contenteditable","false"),tn.default.each(e,function(n,o){i.setAttribute("data-"+o.replace(/_/g,"-"),n)}),t.appendChild(i);var r="https://widget-app.songkick.com/injector/"+e.id;Ve.songKickWidgets[e.id]===void 0?Ve.songKickWidgets[e.id]=0:r=r+"?"+ ++Ve.songKickWidgets[e.id],Ve.loadEmbedScript(r).then(()=>{Ve.embedsIniting=Ve.embedsIniting.filter(n=>n!==t),t.children.length===0&&Ve.add(t)}),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t)}},handleTypeFormEmbed:function(t){Ve.embedsIniting.includes(t)||(Ve.embedsIniting.push(t),Ve.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{let e={};tn.default.each(t.attributes,function(i){i.name.startsWith("data-tf")&&(e[tn.default.camelCase(i.name.replace("data-tf",""))]=i.value)}),e.container=t,delete e.iframeProps,t.innerHTML="",window.tf.createWidget(e.widget,e),t.children[0]?.setAttribute("style",t.getAttribute("data-style")),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},100),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},1e3),Ve.embedsIniting=Ve.embedsIniting.filter(i=>i!==t)}),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t))},handleShopRocketEmbed:function(t){Ve.embedsIniting.includes(t)||!t.dataset.embed||(Ve.embedsIniting.push(t),Ve.loadEmbedScript("https://cdn.shoprocket.io/loader.js").then(()=>{if(Ai){var e=new MutationObserver(function(i){tn.default.each(i,function(r){r.type=="childList"&&r.addedNodes.forEach(function(n){n&&n.nodeType===Node.ELEMENT_NODE&&(n.setAttribute("contenteditable",!1),n.classList.contains("sr-embed")&&(n.style.pointerEvents="none",e.disconnect()))})})});e.observe(t,{childList:!0})}t.innerHTML=tn.default.unescape(t.dataset.embed),window.Shoprocket?.init(),Ve.embedsIniting=Ve.embedsIniting.filter(i=>i!==t)}),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t))},remove:function(){}},Lm=Ve});var az,APe,qw,ku,Fm=T(()=>{Ee();az=he(yn(),1);Ns();ai();pt();Bt();APe=he(xe(),1);ne();qw=class extends se{constructor(e){super(e),this.state={error:!1}}render(e){return m(re,{children:[m("style",{children:`
					.pages > .page:only-child,
					.pages :has(.page-password) > .page:only-child {
						min-height: var(--viewport-height);
					}
					
					.pages > .page:only-child .page-content,
					.pages :has(.page-password) > .page:only-child .page-content {
						align-items: center;
					}

					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 340px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					.submit-wrapper {
						display: grid;
						grid-template-columns: auto 40px;
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
						grid-gap: 5px;
						background: #fff;
					}

					.button-area {
						position: relative;
						width: 40px;
						justify-content: center;
						align-items: center;
						display: flex;
						cursor: pointer;
					}

					.submit-button {
						display: block;
						width: 36px;
						height: 36px;
						border-radius: 50%;
						background: #000;
						transform-origin: 50% 50%;
						transform: scale(1);
						border: none;
						background-image: url("data:image/svg+xml,%3Csvg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.8438 1.9375L19.3438 9.4375L11.8438 16.9375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M19.3437 9.4375L1.40625 9.4375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E%0A");
						background-position: 46% 50%;
						background-repeat: no-repeat;
						background-size: 17px 17px;
						pointer-events: auto;
						cursor: pointer;
						margin-right: 1px;
					}

					.submit-button:active {
						opacity: 0.7;
					}


					input[type="password"] {
						border-radius: 100px;
					    border: none;
						padding: 10px 0px 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: auto;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),m("div",{className:this.props.target==="site"?"site-password":"page-password",children:[m("form",{onSubmit:this.submit,class:"submit-wrapper",children:[m("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown}),m("div",{className:"button-area",children:m("button",{className:"submit-button",type:"submit"})})]}),this.state.error&&m("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let i;this.props.target==="site"?i=`/sites/${this.props.siteId}/validatepassword`:i=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,az.default.post(pi+i,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:r})=>{if(!r.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:r.token,id:null}}),this.props.onSucces?.()}).catch(r=>{console.error(r),this.setState({error:!0})})}},ku=ke((t,e)=>({siteId:t.site.id}),t=>Pt({setAuthentication:Fe.setAuthentication},t))(qw)});var Hw,lz,uz=T(()=>{Ee();$e();Ws();zi();qt();qt();ne();Hw=class extends se{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=me(),this.layoutButtonRef=me(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,i)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,i)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.layoutButtonRef.current.getBoundingClientRect(),r={x:i.x+0,y:i.y+-212,left:i.left+0,right:i.right+0,top:i.top+0+-212,bottom:i.top+27+-212,width:i.width,height:i.height};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:r,closeButton:!1,closeOnAllClickout:!1})};render(e){let i=this.props.isEditingPage,r=this.props.pageIsPin,n=this.state.showEmpty,o=23;return m(Lr,{isEditingPage:i,name:"EditPageButton",trackResize:!0,noPointerEvents:!0,buttonHeight:o,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:l=>{let{pointerAttention:u,overlayPosition:c,shiftButtonX:d,shifted:f}=l,g=-o,v=-2;return c.y<=o&&(g=Math.max(0,-c.y),v=0,g>c.height&&(v=-2,g=c.height+1)),i&&n||i?null:m(re,{children:[m("div",{className:`in-editor-buttons page${u?" hover button-hover":""} ${f?"shifted":""}`,style:{transform:`translate3d(${v+c.x}px, ${g+c.y}px, 0)`},children:m("div",{className:"pointer-mask",style:{transform:`translateX(${d}px)`},children:m("button",{className:"edit-page text",onMouseDown:S=>{S.button==2||S.metaKey||this.props.editPage(S)},ref:this.editPageButtonRef,children:[m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})}),m("div",{className:`editor-overlay editor-outline page-outline${u?" hover button-hover":""}${this.state.showEmpty?" hover":""}`,style:{width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`}})]})}})}},lz=Hw});function Woe(t){return Pt({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},t)}var sr,rs,zm,$d,qm,Qa,is,Uw,Hm,Bw,Ww,cz,$w,fz,dz,Hoe,pz,mz,Uoe,Boe,Wd,Vw,hz,Um,$oe,Vs,Bm=T(()=>{Ee();ai();pt();Bt();sr=he(xe(),1);Ei();pd();Fi();ho();Ji();Ya();Ti();zw();sz();Re();Fm();uz();Sr();Ua();ne();rs=new WeakMap,zm=new WeakMap,$d=new WeakMap,qm=new WeakMap,Qa=new Map,cz=null,$w=!1,fz=!1,dz=null,Hoe=t=>{t.forEach(function(e){if(rs.has(e.target))if(e.isIntersecting){let i=0;Qa.has(e.target)&&(i=Qa.get(e.target).ratio),Qa.set(e.target,{ratio:e.intersectionRatio,status:i<e.intersectionRatio?"entering":"leaving"})}else Qa.delete(e.target);else Qa.delete(e.target)}),mz()},pz=t=>{t.forEach(function(e){rs.has(e.target)&&rs.get(e.target).onAboveViewPort(e)})},mz=()=>{if(!fz)return;let t=!1,e=0;Qa.forEach((i,r)=>{r.classList.contains("snap-page")&&i.status==="entering"&&e++}),t=e>0,$w&&t&&!document.documentElement.classList.contains("enable-snap")?document.documentElement.classList.add("enable-snap"):(!$w||!t)&&document.documentElement.classList.contains("enable-snap")&&document.documentElement.classList.remove("enable-snap")},Uoe=sr.default.once(()=>{let t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),e=document.createElement("style");return t.children[0].appendChild(e),e}),Boe=t=>{let e=Uoe();return t!==cz&&(e.innerHTML=t,cz=t),e},Wd=0,Vw=0;ue||(hz=setInterval(()=>{let t=window.store?.getState();t&&((t.auth?.data??!1)&&(fz=My(t.auth.data.id)),clearInterval(hz))},500),window.addEventListener("scroll",t=>{Vw=document.scrollingElement.scrollTop},{passive:!0}),is=new ResizeObserver(function(t){let e={};pz(Hm.takeRecords()),t.forEach(function(i){let r=rs.get(i.target);if(r&&(r.onResize(i.target.getBoundingClientRect()),e[r.props.id]=i.contentRect.height),zm.has(i.target)&&zm.get(i.target).onBodyCopyResize(i.contentRect.width),$d.has(i.target)||qm.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if($d.has(i.target)){let u=$d.get(i.target);(u.state.pageContentPad.top!==o||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:o,bottom:l}})}else{let u=qm.get(i.target);(u.state.pageLayoutPad.top!==o||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:o,bottom:l}})}}}),Zb(e)}),Hm=new IntersectionObserver(pz,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Bw=new IntersectionObserver(Hoe,{root:document,rootMargin:"-10% 0px -10% 0px",threshold:[0,.5,1]}),Ww=new IntersectionObserver((t,e)=>{t.forEach(function(i){rs.has(i.target)&&rs.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),Uw=new MutationObserver(function(t){sr.default.each(t,function(e){e.type=="childList"&&e.addedNodes.forEach(function(i){i.nodeName==="CARGO-EMBED"&&Lm.add(i)})})}));Um=class extends se{constructor(e){super(e),this.overlayContentRef=me(),this.bodycopyRef=me(),this.pageContentRef=me(),this.pageRef=me(),this.pageLayoutRef=me(),this.lastBodycopyRef=me(),this.lastPageContentRef=me(),this.lastPageRef=me(),this.lastPageLayoutRef=me(),this.lastHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageLayoutHeight:100,overlayContentFromTransformValue:null,overlayContentToTransformValue:null},this.localStyleRef=me()}setOverlayContentTransformValues=()=>{let e=this.overlayContentRef.current?.getBoundingClientRect();if(!e)return;let i=this.pageContentRef.current?.getBoundingClientRect();if(!i)return;let r=0,n=0,o=this.props.overlayOptions?.animateOnOpen?.slideAmount/100,l=this.props.overlayOptions?.animateOnClose?.slideAmount/100;if(this.props.overlayOptions?.animateOnOpen?.speed!==0)switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":r=(i.height+(e.height-i.bottom))*o;break;case"top":r=-i.bottom*o;break;case"right":r=(i.width+(e.width-i.right))*o;break;case"left":r=-i.right*o;break}if(this.props.overlayOptions?.animateOnClose?.speed!==0)switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"bottom":n=(i.height+(e.height-i.bottom))*l;break;case"top":n=-i.bottom*l;break;case"right":n=(i.width+(e.width-i.right))*l;break;case"left":n=-i.right*l;break}if(this.state.overlayContentFromTransformValue!==r&&this.state.overlayContentToTransformValue!==n){this.setState({overlayContentFromTransformValue:r,overlayContentToTransformValue:n});return}if(this.state.overlayContentFromTransformValue!==r){this.setState({overlayContentFromTransformValue:r});return}if(this.state.overlayContentToTransformValue!==n){this.setState({overlayContentToTransformValue:n});return}};setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}let e=["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"];if(!this.localStyleRef.current)return;let i=Boe(this.props.globalstylesheets),r=!1;i.sheet&&sr.default.each(i.sheet.rules,o=>{o?.selectorText===".mobile [id] .page-layout"&&o?.style?.getPropertyValue("padding")==="0px"&&(r=!0)}),r&&e.push(`[id="${this.props.pid}"] .page-layout`);let n=eu(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:e}]);this.setState({mobileOffsetsString:n})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(i=>i.windowHeight===Ke.data.window.h?null:{windowHeight:Ke.data.window.h})};onResize=e=>{if(e){if(((this.isAboveViewport??e.bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&this.lastHeight!==e.height){Wd+=e.height-this.lastHeight;let i=Vw-document.scrollingElement.scrollTop;i!==0&&(Wd+=i)}this.lastHeight=e.height,this.firstResizeOccurred=!0,Wd!==0&&(document.scrollingElement.scrollTop+=Wd,Vw=document.scrollingElement.scrollTop,Wd=0)}};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{if(e.rootBounds.height===0)return;let i=e.isIntersecting;(ue||this.props.isPin||this.props.isEditingPage)&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{if(this.state.fullyRender===e)return;let r={fullyRender:e,renderSparseHeightDiv:!e};e?(r.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender&&this.setState({renderSparseHeightDiv:!1})},100)):r.lastPageLayoutHeight=this.pageLayoutRef.current?.getBoundingClientRect().height||100,this.setState(r,i)};updateAdminState=e=>{this.props.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=sr.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return sr.default.keys(r).length>0&&sr.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};determinePinCSS=()=>{if(ue||this.props.isOverlay||sr.default.isEmpty(this.context.levelData))return;let e=1,i={},r=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(i.paddingTop=n.top,i.paddingBottom=n.bottom,r){let o=this.context?.renderedPins[this.props.pid];if(o){let l=o.depth,u=sr.default.keys(this.context.levelData?.levels)?.length+e,c=u-l+e,d=c+this.zIndexLayerPosition(100-o?.pinSort);if(i.zIndex=o.type!=="adjust"?d??null:null,localStorage.getItem("pin_testing")==="true"){let g={old_zIndex:c+this.zIndexLayerPosition(100-o?.sort),new_zIndex:d,pid:this.props.pid,pageList_sort:o?.sort,renderedPageSort:o?.pinSort};console.log(g)}let f=this.context.levelData?.levels[l][o.location];o.type==="overlay"?i[o.location]=f.startingHeight-n[o.location]:o.type==="adjust"&&n[o.location]!==null&&(i[o.location]=f.adjustsSelf?null:f.startingHeight-n[o.location])}}return i["--pin-padding-top"]=(i.paddingTop||0)+"px",i["--pin-padding-bottom"]=(i.paddingBottom||0)+"px",sr.default.isEmpty(i)?null:i};getAdjustOnlyPinStartHeight=(e,i,r)=>{let n=0;return sr.default.each(this.context.renderedPins,(o,l)=>{o.depth===e&&o.location===r&&(r==="top"?o.sort<i:o.sort>i)&&o.type==="adjust"&&(n+=this.context.pageHeights[l])}),n};determinePinClassList(e){if(!e||this.props.isOverlay)return"";let i="";return i+=" pinned pinned-"+e.position,i+=e.fixed?" fixed":e.overlay?" overlay":"",i}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||ue&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",i=this.props.isPin&&this.props.pin_options,r=i?this.props.pin_options:null,n=null,o=null,l=this.determinePinCSS(),u=this.determinePinClassList(r),c={};this.props?.local_css?.includes("--page-layout-mix:")&&!this.props?.local_css?.includes("--page-layout-mix: normal")?c["--page-content-backdrop-filter"]="none":c["--page-content-backdrop-filter"]="";let d={},f="";if(this.props.isOverlay===!0){let I="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":I=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"top":I=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"right":I=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break;case"left":I=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnOpen?.scaleAmount){let Y=1-Number(this.props.overlayOptions?.animateOnOpen?.scaleAmount)/100;I+=` scale(${Y})`}this.props.overlayOptions?.animateOnOpen?.rotateAmount&&(I+=` rotate(${Number(this.props.overlayOptions?.animateOnOpen?.rotateAmount)*-1}deg)`);let L="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"top":L=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"bottom":L=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"left":L=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break;case"right":L=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnClose?.scaleAmount){let Y=1-Number(this.props.overlayOptions?.animateOnClose?.scaleAmount)/100*-1;L+=` scale(${Y})`}this.props.overlayOptions?.animateOnClose?.rotateAmount&&(L+=` rotate(${this.props.overlayOptions?.animateOnClose?.rotateAmount}deg)`);let F="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":F="inset(0 0 0 100%)";break;case"left":F="inset(0 100% 0 0)";break;case"top":F="inset(0 0 100% 0)";break;case"bottom":F="inset(100% 0 0 0)";break;case"circle":F="circle(0%)";break;case"diamond":F="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":F="inset(100% 100% 100% 100%)";break}let z="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"right":case"left":case"top":case"bottom":z="inset(0 0 0 0)";break;case"circle":z="circle(125%)";break;case"diamond":z="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":z="inset(0 0 0 0)";break}let H="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":case"left":case"top":case"bottom":H="inset(0 0 0 0)";break;case"circle":H="circle(125%)";break;case"diamond":H="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":H="inset(0 0 0 0)";break}let ie="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"left":ie="inset(0 0 0 100%)";break;case"right":ie="inset(0 100% 0 0)";break;case"bottom":ie="inset(0 0 100% 0)";break;case"top":ie="inset(100% 0 0 0)";break;case"circle":ie="circle(0%)";break;case"diamond":ie="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":ie="inset(100% 100% 100% 100%)";break}let X="linear";switch(this.props.overlayOptions?.animateOnOpen?.easing){case"ease-in":X="ease-in";break;case"ease-out":X="ease-out";break;case"ease-in-out":X="ease-in-out";break;case"bounce":X="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":X="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":X="cubic-bezier(0,.8,1,0)";break;case"linear":default:X="linear";break}let k="linear";switch(this.props.overlayOptions?.animateOnClose?.easing){case"ease-in":k="ease-in";break;case"ease-out":k="ease-out";break;case"ease-in-out":k="ease-in-out";break;case"bounce":k="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":k="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":k="cubic-bezier(0,.8,1,0)";break;case"linear":default:k="linear";break}d={"--overlay-open-duration":this.props.overlayOptions?.animateOnOpen?.speed?`${this.props.overlayOptions?.animateOnOpen?.speed}s`:"0s","--overlay-open-from-opacity":this.props.overlayOptions?.animateOnOpen?.fade?0:1,"--overlay-open-from-background-color":this.props.overlayOptions?.animateOnOpen?.fade?"inherit":"transparent","--overlay-open-content-from-transform":I,"--overlay-open-content-from-clip-mask":F,"--overlay-open-content-to-clip-mask":H,"--overlay-close-duration":this.props.overlayOptions?.animateOnClose?.speed?`${this.props.overlayOptions?.animateOnClose?.speed}s`:"0s","--overlay-close-to-opacity":this.props.overlayOptions?.animateOnClose?.fade?0:1,"--overlay-close-to-background-color":this.props.overlayOptions?.animateOnClose?.fade?"inherit":"transparent","--overlay-close-content-to-transform":L,"--overlay-close-content-from-clip-mask":z,"--overlay-close-content-to-clip-mask":ie,"--overlay-open-easing":X,"--overlay-close-easing":k,opacity:this.state.overlayContentFromTransformValue!==null?void 0:0,zIndex:999}}if(this.state.fullyRender){let I=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;l&&(l.paddingTop&&(I+=l.paddingTop),l.paddingBottom&&(I+=l.paddingBottom));let L=Math.max(10,this.state.windowHeight-I),F=null;this.props.access_level==="password"?F=m(ku,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?F=this.lockedContent:F=this.lockedContent=this.props.content,this.maxFitHeight=L;let z=m("bodycopy",{style:{"--fit-height":L+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof F=="string"?{__html:F}:void 0,children:Pc(F)?F:null});o=m(Sf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:m("div",{className:"page-layout",ref:this.pageLayoutRef,children:m("div",{className:`page-content${this.props?.local_css?.includes("--page-content-backdrop-filter")?" has-content-backdrop-filter":""}`,ref:this.pageContentRef,style:c,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&m(lz,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),m(Em,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[m(fo,{portalHost:z}),z]})]})})})}let g=!0;if((r?.fixed||this.props.isOverlay)&&(g=!1),this.state.renderSparseHeightDiv){l=l||{};let I=0;l.paddingTop&&(I+=l.paddingTop),l.paddingBottom&&(I+=l.paddingBottom),l.height=this.state.lastPageLayoutHeight+I+"px",l.overflow="hidden"}let v=this.lastHeight>Ke.data.window.h+2,S=!i&&(this.props?.snap_pages??!1),E=S?"snap-align-"+this.props.snap_align:"",_=S?this.props?.snap_margin??"0px":"0px",P=_.startsWith("-")?_.substring(1,_.length):"-"+_;return n=m("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${u!==null?u:""}${this.props.stackedPage?" stacked-page":""}${this.props?.local_css?.includes("--page-backdrop-filter")?" has-backdrop-filter":""} ${S?`snap-page ${E}`:""}`,ref:this.pageRef,style:{...l,scrollMargin:S?_+" 0px "+P+" 0px":null},editing:this.props.isEditingPage,children:[S&&v?m(re,{children:[m("div",{className:"top-scroll-snap-target"}),m("div",{className:"bottom-scroll-snap-target"})]}):null,e&&m(oz,{id:this.props.pid,settings:this.props.backdrops}),m("a",{id:this.props.purl}),m(ou,{passthrough:g,scrollingElement:this.props.isOverlay?this.overlayContentRef:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&m("div",{style:{height:this.state.lastPageLayoutHeight+"px"}}),o]}),m("style",{ref:this.localStyleRef,children:this.props.local_css}),m("style",{id:`mobile-offset-styles-${this.props.pid}`,children:this.state.mobileOffsetsString})]}),this.props.isOverlay===!0?m("div",{ref:this.overlayContentRef,className:"overlay-content "+f,style:d,children:n}):n}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.setPinProperties(e),this.props.isOverlay===!0&&(this.setOverlayScrollability(),this.state.overlayContentFromTransformValue!==null&&this.overlayContentRef?.current?.classList.contains("overlay-open")===!1&&this.props.overlayOptions?.animateOnOpen!==!1&&this.props.overlayOptions?.animateOnOpen?.speed!==0&&(this.overlayContentRef?.current?.classList.add("overlay-open"),this.overlayContentRef?.current?.classList.add("overlay-animating"))),e.content===void 0&&this.props.content!==e.content&&(this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.activePID!==this.props.activePID||e.adminMode!==this.props.adminMode)&&(this.checkAndSetActiveLinks(),this.temporarySafariRenderingFix()),this.props.local_css!==e.local_css&&this.setMobileOffsets(),this.props.globalstylesheets!==e.globalstylesheets&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&wf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&sr.default.isEqual(this.props.pin_options,e.pin_options)===!1&&(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom")){let i=this.context.adjustPairs[this.props.pid];if(i&&i.adjusts){let r=document.body.querySelector("[id='"+i.adjusts[0]+"']");requestAnimationFrame(()=>{r.scrollIntoView({block:"end"})})}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=sr.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let i=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(i)?i.classList.remove("accepts-pointer-events"):i.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let i=window.getComputedStyle(e,null),r=i.getPropertyValue("background-color"),n=r.match("rgba")?r.replace(/^.*,(.+)\)/,"$1"):null;return r==null||r=="transparent"||r=="initial"||n==0};setFixedPinScrollability=()=>{if(!this.pageRef.current)return;let e=this.pageContentRef.current,i=this.bodycopyRef.current;e&&i&&i.clientHeight>e.clientHeight?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll")};setOverlayScrollability=()=>{this.overlayContentRef.current&&(this.overlayContentRef.current.scrollHeight>this.overlayContentRef.current.offsetHeight+1?this.overlayContentRef.current.classList.add("overlay-allow-scroll"):this.overlayContentRef.current.classList.remove("overlay-allow-scroll"))};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let i=e?.detail?.filter;i?.startsWith("tag:")?i=i.replace("tag:","").trim():i?i="all":i=null;let r=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!r)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"], [rel="home-page"]'),o=this.props.activePURL===this.props.homepagePURL||this.props.activePID==="root";sr.default.each(n,l=>{let u=l.getAttribute("href")?.toLowerCase(),c=u===this.props.activePURL||this.props.activePurlParents?.includes(u);!r&&c&&this.props.homepagePURL!==u?l.classList.add("active"):l.classList.remove("active"),!r&&this.props.enableHomeLinkActiveStates&&(this.props.homepagePURL===u||l.getAttribute("rel")==="home-page")&&(o?l.classList.add("active"):l.classList.remove("active"))})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(rs.delete(this.lastPageRef.current),is.unobserve(this.lastPageRef.current),Hm.unobserve(this.lastPageRef.current),Bw.unobserve(this.lastPageRef.current),Ww.unobserve(this.lastPageRef.current),Qa.delete(this.lastPageRef.current)),this.pageRef.current&&!e&&(rs.set(this.pageRef.current,this),is.observe(this.pageRef.current),Hm.observe(this.pageRef.current),Bw.observe(this.pageRef.current),Ww.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(qm.delete(this.lastPageLayoutRef.current),is.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(qm.set(this.pageLayoutRef.current,this),is.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&($d.delete(this.lastPageContentRef.current),is.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&($d.set(this.pageContentRef.current,this),is.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),zm.delete(this.lastBodycopyRef.current),is.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(zm.set(this.bodycopyRef.current,this),is.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){if(this.props.hashPurl===this.props.purl){let e=this.pageRef.current?.getBoundingClientRect().top;if(e>0&&e<Ke.data.window.h)return;this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView()}}componentDidMount(){this.runHashScroll(),this.onWindowResize(),Ke.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.context.onPageMount(this.pageRef.current),this.pageRef.current&&(Lm.findEmbedsIn(this.pageRef.current),Uw&&Uw.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{Lm.findEmbedsIn(this.pageRef.current)}),this.props.isOverlay&&(window.setTimeout(this.setOverlayContentTransformValues,100),this.calculateOverlayPassthroughClasses(),this.pageRef.current.addEventListener("animationend",this.calculateOverlayPassthroughClasses)),this.temporarySafariRenderingFix()),dz||(dz=setTimeout(()=>{$w=!0,mz()},1500))}calculateOverlayPassthroughClasses=()=>{if(!this.pageRef.current||!this.pageContentRef.current)return;let e=window.getComputedStyle(this.pageRef.current,null),i=window.getComputedStyle(this.pageContentRef.current,null),r=e.getPropertyValue("background-color"),n=i.getPropertyValue("background-color"),o=this.props.isOverlay&&(r==="transparent"||r==="initial"||r==="rgba(0, 0, 0, 0)"),l=this.props.isOverlay&&(n==="transparent"||n==="initial"||n==="rgba(0, 0, 0, 0)")&&r.startsWith("rgba(");o?this.overlayContentRef.current.classList.add("is-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-passthrough-overlay"),l?this.overlayContentRef.current.classList.add("is-content-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-content-passthrough-overlay")};temporarySafariRenderingFix=()=>{this.props.adminMode||setTimeout(()=>{!ue&&Is()&&this.props?.pin_options?.position==="bottom"&&(this.pageRef?.current?.classList.add("loading"),setTimeout(()=>{this.pageRef?.current?.classList.remove("loading")},1200))},10)};onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isOverlay===!0&&this.setOverlayScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){this.pageRef.current&&this.pageRef.current.removeEventListener("animationend",this.calculateOverlayPassthroughClasses),Ke.off("window-resize",this.onWindowResize),rs.delete(this.pageRef.current),this.onSparseComponentRender(!0),this.onResize({height:0}),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];sr.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),sr.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&this.props.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Um.contextType=Ba;$oe=Qr((t,e)=>t.map(i=>e[i]?.purl).filter(i=>i&&typeof i=="string").map(i=>i.toLowerCase())),Vs=bn(ke((t,e)=>{let i=Qe.getContentById(t,e.id),r=t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID],n,o;return r&&(n=r.purl?.toLowerCase(),o=$oe(Qe.getParentSetList(t,r.id),t.sets.byId)),!ue&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase()),{inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,isEditingPage:i?.id&&t.frontendState.PIDBeingEdited===i?.id,hasPage:i!==void 0,homepagePURL:Qe.getHomepagePurl(t),pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,globalstylesheets:t.css?.stylesheets,enableHomeLinkActiveStates:t.siteDesign?.site?.enableHomeLinkActiveStates,activePID:t.frontendState.activePID,activePURL:n,activePurlParents:o,pageDepth:Qe.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},Woe)(Um))});function Voe(t,e){let i=t.sets.byId[e.id]?.page_design_options;return{snap_pages:i?.snap_pages??!1,snap_align:i?.snap_align??"center",snap_margin:i?.snap_margin??"0vh"}}var jw,gz,vz,yz=T(()=>{Ee();Bm();pt();ne();jw=class extends se{constructor(e){super(e)}render=()=>{let e=this.props.children.filter(r=>r.parent===this.props.id),i=e.filter(r=>r.content.page_type=="page").length>1;return m("div",{"data-container":"set","data-id":this.props.id,children:e.map((r,n)=>r.content.page_type==="set"?m(gz,{id:r.content.id,children:this.props.children,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad},r.content.id):m(Vs,{id:r.content.id,position:r.position,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad,stackedPage:i,snap_pages:this.props.snap_pages,snap_align:this.props.snap_align,snap_margin:this.props.snap_margin},r.content.id))})}};gz=ke(Voe)(jw),vz=gz});var mIe,Gw,Wm,Kw=T(()=>{Ee();mIe=he(xe(),1);ne();Gw=class extends se{constructor(e){super(e)}render=()=>m(re,{children:[m("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},Wm=Gw});var bz,wz=T(()=>{bz={closeOnClickout:!1,closeOnNavigate:!1,animateOnOpen:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0},animateOnClose:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0}}});function Yoe(t,e){return{adminMode:t.frontendState.adminMode,PIDToEdit:t.frontendState.PIDToEdit,overlayBeingPreviewed:t.frontendState.overlayBeingPreviewed,overlayOptionsByPID:Koe(t.pages.byId),sortMap:t.structure.bySort,autoRenderableOverlays:Qe.getAutoRenderableOverlaysForSet(t,e.pinContextPID,e.match?.params?.page)}}function Xoe(t){return Pt({fetchContent:Fe.fetchContent},t)}var xIe,ns,joe,ex,Ui,tx,Goe,Koe,Yw,Hi,$m,zr,Vm,Xw,Zw,xz,Sz,Jw,Qw,jm,_z,Gm=T(()=>{Ee();xIe=he(yn(),1);pt();ai();Bt();Yo();ns=he(xe(),1);Re();Ei();Bm();wz();Sr();Ti();Ua();ne();joe={top:0,bottom:0},ex=new Array,Ui={closeOverlay:()=>{},openOverlay:()=>{},getOverlay:()=>{},toggleOverlay:()=>{},handleGlobalClick:()=>{},getAllOverlays:()=>{}},tx=class extends se{constructor(e){super(e),this.state={activeOverlays:[]},this.intermediateActiveOverlays=this.state.activeOverlays,Ui.openOverlay=this.openOverlay,Ui.closeOverlay=this.closeOverlay,Ui.toggleOverlay=this.toggleOverlay,Ui.getOverlay=this.getOverlay,Ui.handleGlobalClick=this.handleGlobalClick,Ui.getAllOverlays=this.getAllOverlays}componentDidMount(){this.autoRenderOverlays()}autoRenderOverlays=(e=[])=>{if(this.props.adminMode){let l=[this.props.PIDToEdit,this.props.overlayBeingPreviewed].filter(u=>!!u);this.props.autoRenderableOverlays.some(u=>l.includes(u.id))&&this.openOverlay(this.props.PIDToEdit),this.state.activeOverlays.forEach(u=>{l.includes(u.pid)||this.closeOverlay(u.pid)});return}let i=this.props.autoRenderableOverlays.map(l=>l.id),r=e.map(l=>l.id),n=ns.default.difference(r,i),o=ns.default.difference(i,r);n.forEach(l=>{this.closeOverlay(l)}),o.sort((l,u)=>this.props.sortMap[u]-this.props.sortMap[l]),o.forEach(l=>{this.openOverlay(l)})};componentDidUpdate=(e,i)=>{if((this.props.autoRenderableOverlays!==e.autoRenderableOverlays||this.props.adminMode&&!e.adminMode)&&this.autoRenderOverlays(e.autoRenderableOverlays),this.props.adminMode!==e.adminMode&&this.autoRenderOverlays([]),this.state.activeOverlays!==i.activeOverlays){let r=ns.default.difference(this.state.activeOverlays,i.activeOverlays),n=ns.default.difference(i.activeOverlays,this.state.activeOverlays);if(ex=[...this.state.activeOverlays],jm(),r.length>0)for(let o of r)(o.getOverlayOptions().animateOnOpen||o.getOverlayOptions().animateOnClose)&&o.ref?.current?.base.addEventListener("animationend",this.handleAnimationEnd)}};componentWillUnmount=()=>{};handleGlobalClick=(e,i)=>{if(this.props.adminMode||i.closest(".quick-view"))return;let n=i.closest(".page-content")?.closest(".page")?.getAttribute("id"),o=this.state.activeOverlays.find(c=>c.pid===n),l=this.state.activeOverlays[this.state.activeOverlays.length-1],u=this.props.store.getState();if(l&&l.getOverlayOptions().closeOnNavigate===!0&&e.hasAttribute("href")&&e.getAttribute("href").replace(/\//,"").toLowerCase()!=="contact-form"&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&(e.getAttribute("rel")==="history"||e.getAttribute("rel")==="home-page")){requestAnimationFrame(()=>{window.__deferred_page_load_promise__?window.__deferred_page_load_promise__.then(()=>{requestAnimationFrame(()=>{this.closeOverlay(l.pid)})}):this.closeOverlay(o.pid)});return}if(l&&l.getOverlayOptions().closeOnClickout===!0&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&n!==l?.pid&&e.tagName!=="A"){this.closeOverlay(l.pid);return}};handleAnimationEnd=e=>{if(e.target.classList.contains("page"))switch(e.animationName){case"overlayOpen":case"overlayOpenWithoutOpacity":{let i=e.target.closest(".overlay-animating");i&&i?.classList?.remove("overlay-animating"),e.target.classList.remove("overlay-open");break}case"overlayClose":case"overlayCloseWithoutOpacity":{setTimeout(()=>{let r=e.target.closest(".overlay-animating");r&&r?.classList?.remove("overlay-animating")},101),e.target.classList.remove("overlay-close");let i=e.target.getAttribute("id");this.closeOverlay(i,!0);break}}};openOverlay=(e,i={})=>{!e||this.getOverlay(e)||(this.intermediateActiveOverlays=[...this.intermediateActiveOverlays,{pid:e,ref:me(),getOverlayOptions:()=>Goe(e,this.props.overlayOptionsByPID[e],i)}],this.setState({activeOverlays:this.intermediateActiveOverlays}))};closeOverlay=(e,i=!1)=>{if(i===!1){let r=this.getOverlay(e);if(!r)return;if(r.getOverlayOptions()?.animateOnClose?.speed>0){r.ref.current.base.classList.add("overlay-close"),r.ref.current.base.classList.add("overlay-animating");return}}this.intermediateActiveOverlays=this.intermediateActiveOverlays.filter(r=>r.pid!==e),this.setState({activeOverlays:this.intermediateActiveOverlays})};toggleOverlay=(e,i)=>{this.getOverlay(e)?this.closeOverlay(e):this.openOverlay(e,i)};getAllOverlays=()=>this.intermediateActiveOverlays;getOverlay=e=>this.intermediateActiveOverlays.find(i=>i.pid===e);render(){return this.state.activeOverlays.map(({pid:e,getOverlayOptions:i,ref:r})=>m(Vs,{id:e,contentPad:joe,isOverlay:!0,overlayOptions:i(),ref:r},e))}},Goe=Qr((t,e,i)=>ns.default.merge({},bz,e,i)),Koe=Qr(t=>t=ns.default.mapValues(t,e=>e.overlay_options));if(!ue){Yw=null,Hi=null,$m=!1,zr=!1,Vm=null,Xw=v=>{if(clearTimeout(Yw),Yw=setTimeout(()=>{$m=!1,zr=!1},200),!$m){let S=[...ex].reverse().map(_=>document.getElementById(_.pid)?.closest(".overlay-content")),E=S.find(_=>_?.contains(v));if(Hi=null,E)if(E.classList.contains("overlay-allow-scroll"))Hi=E,zr=!0;else{let _=S[0].classList?.contains("overlay-allow-scroll")?S[0]:null;if(_)Hi=_,zr=!0;else{let P=E.querySelector(".page-content")?.contains(v),I=E.querySelector(".backdrop");!P&&!E.classList.contains("is-passthrough-overlay")||I||P&&!E.classList.contains("is-content-passthrough-overlay")?(zr=!0,Hi=null):(zr=!1,Hi=null)}}else{let _=S.find((P,I)=>P.classList?.contains("overlay-allow-scroll"));_?(Hi=_,zr=!0):(zr=!1,Hi=null)}$m=!0}};let t=0,e=0,i=null,r=null,n,o=null,l=0,u=null,c=!1,d=!1,f=!1,g=0;Zw=v=>{t=Vm-v.touches[0].clientY,e=e*.8+t*.2,Vm=v.touches[0].clientY,clearTimeout(i),i=setTimeout(()=>{t=0},300),Hi&&(Hi.scrollTop=Hi.scrollTop+t),(zr||c)&&(zr=!0,v.preventDefault(),v.stopPropagation()),zr&&(document.scrollingElement.scrollTop=l)},xz=v=>{t=v.deltaY,Xw(v.target),zr&&v.preventDefault(),Hi&&(Hi.scrollTop=Hi.scrollTop+t)},Sz=()=>{f||(f=!0,l=document.scrollingElement.scrollTop,document.scrollingElement.style.overflow="hidden",document.scrollingElement.style.overscrollBehavior="none",document.scrollingElement.scrollTop=l)},Jw=ns.default.debounce(()=>{f&&(f=!1,document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="",document.scrollingElement.scrollTop=l)},150),Qw=v=>{if(!r){Jw();return}let S=n==0?16:v-n;n=v,e=e*.95;let E=r.scrollTop;r.scrollTop=r.scrollTop+e*(S/16.667),r.scrollTop-E!=0?g=0:g++,o=requestAnimationFrame(Qw),(Math.abs(e)<.5||g>15)&&(r=null)},window.addEventListener("wheel",xz,{passive:!1}),window.addEventListener("touchstart",v=>{if(g=0,d=!1,r=null,cancelAnimationFrame(o),Xw(v.touches[0].target),e=0,t=0,u=v.touches[0].clientY,c=v.touches[0].target.closest(".overlay-content"),c){let S=c.querySelector(".page-content")?.contains(v.touches[0].target),E=c.querySelector(".backdrop");(!S&&c.classList.contains("is-passthrough-overlay")&&!E||S&&c.classList.contains("is-content-passthrough-overlay"))&&(c=null)}(Hi||c)&&(Sz(),Vm=v.touches[0].clientY,document.body.addEventListener("touchmove",Zw,{passive:!1}))}),document.body.addEventListener("click",v=>{d=!0}),document.body.addEventListener("touchend",v=>{document.body.removeEventListener("touchmove",Zw,{passive:!1}),Hi&&Math.abs(e)>2?(r=Hi,clearTimeout(i),n=window?.performance?.now?.()??0,e=t*.8+e*.2,o=requestAnimationFrame(Qw)):Jw();let S=u-v.changedTouches[0].clientY;if(!r&&Math.abs(S)<10&&zr){let E=v.changedTouches[0].target;setTimeout(()=>{d||Ui.handleGlobalClick(E,E)},330)}},{passive:!1}),Ke.on("window-resize",()=>{jm()}),jm=ns.default.debounce(()=>{let v=[...ex].reverse(),S=v.findIndex(E=>{let _=E.ref?.current?.base.closest(".overlay-content");return _?_.classList.contains("overlay-allow-scroll")&&!_.classList.contains("overlay-close"):!1});v.forEach((E,_)=>{let P=E.ref?.current?.base.closest(".overlay-content");P&&(_==0?P.classList.add("top-overlay"):P.classList.remove("top-overlay"),S==-1?(P.classList.remove("top-scrollable-overlay"),P.classList.remove("behind-top-scrollable-overlay")):_>S?(P.classList.remove("top-scrollable-overlay"),P.classList.add("behind-top-scrollable-overlay")):_==S?(P.classList.add("top-scrollable-overlay"),P.classList.remove("behind-top-scrollable-overlay")):(P.classList.remove("top-scrollable-overlay"),P.classList.remove("behind-top-scrollable-overlay")))}),S>-1?document.body.classList.add("has-scrollable-overlay"):document.body.classList.remove("has-scrollable-overlay")},30),jm()}_z=bn(Fn(ke(Yoe,Xoe)(tx)))});function Qoe(t,e){let i=e.idType==="purl"?Qe.getContentByPurl(t,e.id):Qe.getContentById(t,e.id),r,n=null,o=null;if(!i){let l=!1;if(t.frontendState.networkErrors.find(u=>u.id===e.id&&u.idType===e.idType&&u)!==void 0){if(e.idType==="purl"&&(r=t.site.tags.find(u=>u.url===e.id),!r)){for(let u in t.pages.byId)if(r=t.pages.byId[u].tags.find(c=>c.url===e.id),r)break}r||(l=!0)}if(l)return{content:null,pageNotFound:l}}if(i)if(i.page_type==="set"){n=i.id;let l=Qe.getContentByPurl(t,e.hashPurl),u=t.structure.indexById[l?.id]||0,c=t.sets.byId[Qe.getItemParentId(t,l?.id)]||i;o=Joe(t.structure,t.pages,t.sets,c,u)}else n=Qe.getItemParentId(t,i.id);else r&&(n="root",o=Object.values(t.pages.byId).filter(l=>t.structure.indexById[l.id]===null||l.crdt_state===Ut.Deleted?!1:l.tags.some(u=>u.tag===r.tag)).map(l=>({content:l,position:"below"})),o.sort((l,u)=>t.structure.bySort[l.content.id]-t.structure.bySort[u.content.id]));return{tag:r,hasContent:i!==void 0,contentId:i?.id,contentType:i?.page_type,contentTitle:i?.title,contentPurl:i?.purl,contentIsStack:i?.stack,contentIsPin:i?.pin,contentIsOverlay:i?.overlay,contentCRDTState:i?.crdt_state,children:o,parentSetPID:n,isFeed:t.sets.byId.root.stack,topPins:Qe.getPinsForSet(t,n,"top",i?.id),bottomPins:Qe.getPinsForSet(t,n,"bottom",i?.id),adminMode:t.frontendState.adminMode}}function ese(t){return Pt({fetchContent:Fe.fetchContent,fetchPagesByTag:Fe.fetchPagesByTag,fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState},t)}var Ez,_o,Zoe,ix,Vd,Km,Cz,Joe,rx,Pz=T(()=>{Ee();ai();pt();Ez=he(Ch(),1);Ua();_o=he(xe(),1);js();Bt();Re();Ei();qt();Bm();yz();Kw();pd();Sr();Gm();ne();Zoe=async t=>{let e=[];if(!t.hasContent){let i=t.fetchContent(t.id,{idType:t.idType});e.push(i)}if(t.hashPurl){let i=t.fetchContent(t.hashPurl,{idType:"purl"});e.push(i)}ue&&e.push(Cz(t,{up:!1,down:!0})),await Promise.allSettled(e).catch(i=>{})},ix={top:0,bottom:0},Vd=10,Km=class extends se{constructor(e){super(e),this.contentRef=me(),this.contentParentRef=me(),this.topPaginationWatcherRef=me(),this.bottomPaginationWatcherRef=me(),this.paginationLimitsTriggered={up:!1,down:!1},this.state={contentPad:ix,pageRenderLimits:{above:0,below:Vd},completedPaginationAbove:!1,completedPaginationBelow:!1},ue||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{var n=window.getComputedStyle(r.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(o!==this.state.contentPad.top||l!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:o,bottom:l}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}getContentByPosition(e){return this.props.children?.filter(i=>i.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),i=[];return this.props.topPins.forEach(r=>{i.push(m(Vs,{id:r.id,contentPad:ix,stackedPage:this.props.topPins.length>1},r.id))}),this.renderedChildren=[..._o.default.takeRight(this.getContentByPosition("above"),this.state.pageRenderLimits.above),..._o.default.take(this.getContentByPosition("below"),this.state.pageRenderLimits.below)],i.push(m("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:m(re,{children:[m("div",{className:`pagination-watcher ${this.state.completedPaginationAbove?"pagination-complete":""}`,"data-direction":"up",ref:this.topPaginationWatcherRef}),m(vz,{id:this.props.contentId,children:this.renderedChildren,hashPurl:this.props.hashPurl,contentPad:this.state.contentPad},this.props.contentId),m("div",{className:`pagination-watcher ${this.state.completedPaginationBelow?"pagination-complete":""}`,"data-direction":"down",ref:this.bottomPaginationWatcherRef})]}):this.props.contentIsPin||this.props.contentIsOverlay?null:m(Vs,{id:this.props.contentId,contentPad:this.state.contentPad,stackedPage:!1},this.props.contentId)})),this.props.bottomPins.forEach(r=>{i.push(m(Vs,{id:r.id,contentPad:ix,stackedPage:this.props.bottomPins.length>1},r.id))}),i}render(){if(this.props.pageNotFound)return m(Wm,{message:"Page not found."});if((!this.props.hasContent||this.props.contentCRDTState===Ut.Deleted)&&!this.props.tag)return null;let e=this.getPageStack();return m("div",{className:"content",ref:this.contentParentRef,children:[m(_z,{pinContextPID:this.props.parentSetPID}),e]})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}shouldComponentUpdate(e,i,r){if(this.props===e&&this.state===i&&this.context===r)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=!1;this.props.hashPurl!==e.hashPurl&&this.renderedChildren&&this.renderedChildren.some(o=>o.content.purl===e.hashPurl)&&(n=!0),n||this.setState({pageRenderLimits:{above:0,below:Vd}})}return!0}componentDidUpdate(e,i,r){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==Ut.Deleted&&this.props.contentCRDTState===Ut.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),Kn.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0}),this.requestPagination()),e.hashPurl!==this.props.hashPurl&&this.props.hashPurl&&this.props.fetchContent(this.props.hashPurl,{idType:"purl"}).then(()=>{this.requestPagination()}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId}),this.requestPagination()),this.attachPaginationWatchers(),this.props.pageNotFound!==e.pageNotFound&&this.props.updateFrontendState({pageNotFound:this.props.pageNotFound})}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let i=!1;e.forEach(r=>{let n=r.target.dataset.direction;r.isIntersecting?(this.paginationLimitsTriggered[n]=!0,i=!0):this.paginationLimitsTriggered[n]=!1}),i&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}(this.paginationLimitsTriggered.up||this.paginationLimitsTriggered.down)&&this.setState({pageRenderLimits:{above:(this.state.pageRenderLimits.above||0)+(this.paginationLimitsTriggered.up?Vd:0),below:(this.state.pageRenderLimits.below||0)+(this.paginationLimitsTriggered.down?Vd:0)}}),await Cz(this.props,this.paginationLimitsTriggered).then(i=>{let r=i.length===0&&!(this.paginationLimitsTriggered.up&&this.state.pageRenderLimits.above<this.getContentByPosition("above").length),n=i.length===0&&!(this.paginationLimitsTriggered.down&&this.state.pageRenderLimits.below<this.getContentByPosition("below").length);this.setState({completedPaginationAbove:r,completedPaginationBelow:n}),r&&n&&(this.isPaginating=!1)}).catch(i=>{console.error(i),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.setState({pageRenderLimits:{above:9e9,below:9e9}})),await new Promise(i=>setTimeout(i,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(ue)return e;let i=r=>(r.hasOverlayPins&&!r.adjustsSelf&&r.adjusterId!==null?r.totalHeight:0)-(r.adjustedLevel==="content"?r.adjusterHeight:0);return _o.default.each(this.context.levelData.levels,(r,n)=>{e.marginTop+=i(r.top),e.marginBottom+=i(r.bottom)}),e}},Cz=(t,e,i={})=>new Promise((r,n)=>{if(!t||!e)return n("Missing pagination parameters");if(t.tag)return t.fetchPagesByTag(t.tag.url).then(r).catch(n);let o=t.store.getState(),l=[];if(_o.default.each(e,(u,c)=>{if(!u)return;let d,f;if(c==="up"){let E=_o.default.first(t.children);E&&(f=E.index,d=E.parent)}else if(c==="down"){let E=_o.default.last(t.children);E?(f=E.index,d=E.parent):t.contentType==="set"&&(f=0,d=t.contentId)}if(d===void 0||f===void 0)return;let g=0,v=(E,_,P=[])=>(P.push(_),E[_]?.forEach(I=>{v(E,I,P)}),P),S=v(Qe.getSetsByParent(o),t.parentSetPID);Jl(o.structure,o.pages,o.sets,o.sets.byId[d],f,{reverse:c==="up",callback:(E,_,P)=>{if(!P&&S.includes(E)&&(l.push({parent:E,index:_}),g++),g>=Vd)return"break"}})}),l.length>0){let u=_o.default.groupBy(l,"parent"),c=_o.default.map(u,(d,f)=>t.fetchContent(f,{indexes:_o.default.map(d,"index"),idType:"pid"}));Promise.all(c).then(r).catch(n)}else r([])}),Joe=Qr((t,e,i,r,n)=>{let o=[];return Jl(t,e,i,r,n-1,{reverse:!0,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&o.unshift({parent:l,index:u,content:c,position:"above"});else return"break"}}),Jl(t,e,i,r,n,{reverse:!1,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&o.push({parent:l,index:u,content:c,position:"below"});else return"break"}}),o});Km.contextType=Ba;rx=bn(ke(Qoe,ese)((0,Ez.frontloadConnect)(Zoe,{onMount:!0,onUpdate:!1})(Km)))});function tse(t){return Pt({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},t)}var os,el,Ym,jd,Xm,ss,Zm,nx,Iz,Ou,Gd,Az,Tz=T(()=>{Ee();ai();pt();Bt();os=he(xe(),1);Ei();pd();Fi();ho();Ji();Ya();Ti();zw();Re();Fm();Sr();ne();el=new WeakMap,Ym=new WeakMap,jd=new WeakMap,Xm=new WeakMap,Iz=t=>{t.forEach(function(e){el.has(e.target)&&el.get(e.target).onAboveViewPort(e)})},Ou=0;ue||(ss=new ResizeObserver(function(t){let e={};Iz(Zm.takeRecords()),t.forEach(function(i){let r=el.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),Ym.has(i.target)&&Ym.get(i.target).onBodyCopyResize(i.contentRect.width),jd.has(i.target)||Xm.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(jd.has(i.target)){let u=jd.get(i.target);(u.state.pageContentPad.top!==o||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:o,bottom:l}})}else{let u=Xm.get(i.target);(u.state.pageLayoutPad.top!==o||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:o,bottom:l}})}}}),Ou!==0&&(document.scrollingElement.scrollTop+=Ou,Ou=0)}),Zm=new IntersectionObserver(Iz,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),nx=new IntersectionObserver((t,e)=>{t.forEach(function(i){el.has(i.target)&&el.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));Gd=class extends se{constructor(e){super(e),this.bodycopyRef=me(),this.pageContentRef=me(),this.pageRef=me(),this.pageLayoutRef=me(),this.galleryRef=me(),this.lastBodycopyRef=me(),this.lastPageContentRef=me(),this.lastPageRef=me(),this.lastPageLayoutRef=me(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},authorized:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:Ke.data.window.h,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=me(),this.scrollingElement={current:ue?null:window}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=eu(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===Ke.data.window.h?null:{windowHeight:Ke.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Ou+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=Ou,Ou=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let i=e.isIntersecting;ue&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},i)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=os.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return os.default.keys(r).length>0&&os.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let i=e?.target.closest("media-item");i&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{i?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),i.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{i.classList.contains("hey-listen")?i.classList.remove("hey-listen"):i.classList.add("hey-listen")},300),setTimeout(()=>{i.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,i=!1;if(this.state.fullyRender){let r=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-r),o=null;this.props.access_level==="password"?o=m(ku,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?o=this.lockedContent:o=this.lockedContent=this.props.content,e=m(re,{children:m(Sf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[m("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: grid;
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),m("div",{className:"page-layout",ref:this.pageLayoutRef,children:m("div",{className:"page-content",ref:this.pageContentRef,children:[this.state.authorized?m("div",{className:"sort-controls",children:[m("text-icon",{icon:"downwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),m("text-icon",{icon:"upwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),m("text-icon",{icon:"shuffle",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.state.imageSort==="shuffle"?this.galleryRef.current.dispatchEvent(new Event("refresh-thumbnail-index")):this.setState({imageSort:"shuffle"})},className:this.state.imageSort==="shuffle"?"active":""}),m("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}):null,m(Em,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[m(fo,{portalHost:this.bodycopyRef}),m("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?m("gallery-justify",{onContextMenu:this.onItemClick,ref:this.galleryRef,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"}):null})]})]})})]})})}else e=m("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return m("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[m("a",{id:this.props.purl}),m(ou,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&wf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(el.delete(this.lastPageRef.current),ss.unobserve(this.lastPageRef.current),Zm.unobserve(this.lastPageRef.current),nx.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(el.set(this.pageRef.current,this),ss.observe(this.pageRef.current),Zm.observe(this.pageRef.current),nx.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Xm.delete(this.lastPageLayoutRef.current),ss.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Xm.set(this.pageLayoutRef.current,this),ss.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(jd.delete(this.lastPageContentRef.current),ss.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(jd.set(this.pageContentRef.current,this),ss.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(Ym.delete(this.lastBodycopyRef.current),ss.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(Ym.set(this.bodycopyRef.current,this),ss.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};onKeyDown=e=>{e.keyCode===27&&!store.getState().frontendState.quickView.inited&&(e.preventDefault(),window.location=window.location.origin)};componentDidMount(){window.addEventListener("keydown",this.onKeyDown),this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)}),setTimeout(()=>{e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)})},100),this.runHashScroll(),Ke.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){document.body.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),window.removeEventListener("keydown",this.onKeyDown),clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.disabled=!1}),Ke.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];os.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||os.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=os.default.keys(this.props.cartData).length,i=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');os.default.each(i,r=>{if(r.hasAttribute("show-count")){let n=r.innerHTML.replace(/ *\([^)]*\) */g,"");r.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),os.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Gd.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};Gd.contextType=Ba;Az=ke((t,e)=>{let i={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},r=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!ue&&!r&&(r=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof r=="string"&&(r=r.toLowerCase()),{inAdminFrame:!1,isMobile:t.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:r,pageDepth:Qe.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,cartData:t.commerce?.cart,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},tse)(Gd)});var Mz,xAe,ox,Rz,Nz=T(()=>{Ee();Mz=he(yn(),1);Ns();Re();xAe=he(xe(),1);ne();ox=class extends se{constructor(e){super(e),this.state={error:!1},this.inputRef=me()}submit=e=>{e.preventDefault(),this.setState({error:!1,downloadStarted:!1});let i=this.inputRef.current?.value;if(!i)return this.setState({error:"Email address is not valid."});Mz.default.post(`https://${Lh?Xl:"dev.cargo.site"}/c3filedownload/validate/${i}/${this.props.hash}`).then(r=>{if(r?.data?.jdata?.valid)return this.setState({error:!1,downloadStarted:!0}),window.location.href=`https://${Lh?Xl:"dev.cargo.site"}/c3filedownload/download/${i}/${this.props.hash}`;this.setState({error:r?.data?.error||"Email address is not valid."})}).catch(r=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return m(re,{children:[m("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),this.state.downloadStarted?m("span",{className:"message",children:"Your download will begin shortly..."}):m(re,{children:[m("span",{className:"message",children:"Please verify your email address:"}),m("form",{noValidate:!0,onSubmit:this.submit,children:[m("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),m("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&m(re,{children:[m("br",{}),m("span",{class:"error",children:this.state.error})]})]})]})}},Rz=ox});var Dz={};ti(Dz,{default:()=>sse});function rse(t,e){return{siteId:t.site.id,contactForm:t.frontendState.contactForm,colorTheme:t.siteDesign?.contact_form?.theme||"auto",adminMode:Ai}}function nse(t){return Pt({updateFrontendState:Fe.updateFrontendState},t)}var kz,Oz,Jm,lx,sx,RAe,ax,ise,ose,sse,Lz=T(()=>{Ee();$e();Ca();kz=he(yn(),1);pt();ai();Bt();Oz=he(xe(),1);Re();ne();Jm={},lx=window.matchMedia("(max-aspect-ratio: 1/1)"),sx=lx.matches,RAe=lx.addEventListener("change",t=>{sx=t.matches,Jm[1]&&Jm[1].setState({isMobile:sx})}),ax=class extends se{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:sx,shadowRoot:null,systemTheme:window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light",transitioningTheme:!1},this.cssLinkRef=me(),this.contactFormRef=me(),this.startTime=null,this.inputRef=me(),this.throttledResize=Oz.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.darkModeMediaQueryCallback),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})}darkModeMediaQueryCallback=e=>{let i=window.matchMedia("(prefers-color-scheme: dark)");this.setState({systemTheme:i.matches?"dark":"light"})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue};kz.default.post("https://cargo.site/dispatch/notifications/sendContactMessage",e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(r=>{let o=new Date-this.startTime;if(this.startTime=null,o<=2500){let l=2500-o;setTimeout(()=>{this.closeForm(null,"submit")},l)}else this.closeForm(null,"submit")}).catch(r=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,i)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),i?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete Jm[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm(),this.props.colorTheme!==e.colorTheme&&this.setState({transitioningTheme:!0},()=>{setTimeout(()=>{this.setState({transitioningTheme:!1})},500)})};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,i=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,r=!0,n=!0,o=this.state.emailValue,l=this.state.messageValue;o.length<=0&&(r=!1),l.length<=0&&(n=!1);let u=o.split("@");return u.length!==2&&(r=!1),e.test(u[0])||(r=!1),i.test(u[1])||(r=!1),r||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!r||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:lx.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",Jm[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){let e=this.props.colorTheme==="auto"||!this.props.colorTheme?this.state.systemTheme:this.props.colorTheme;return m("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&Ge(m(re,{children:[m("link",{rel:"stylesheets",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/656a48/css/front-end/contact-form.css"}),this.state.showContents===!0?m("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}${e?" "+e:""}${this.state.transitioningTheme?" transitioning-theme":""}`,children:m("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:i=>{this.state.sent===!0&&this.handleTransitionEnd(i)},children:m("div",{className:"modal-inner",children:[m("div",{className:"header",children:[m("div",{className:"title"}),m("div",{className:"exit",onPointerUp:i=>{this.closeForm(i)},children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[m("circle",{opacity:"var(--contact-form-close-circle-opacity)",cx:"10",cy:"10",r:"10",fill:"var(--contact-form-color-flat-reverse)"}),m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"var(--contact-form-color-flat)"})]})})]}),m("hr",{}),m("div",{onPointerUp:i=>{this.focusInput(i)},className:"email",children:[m("label",{htmlfor:"email",children:["From:","\xA0"]}),m("div",{className:`text-input${this.state.emailError?" error":""}`,children:m("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:i=>{this.handleEmailChange(i)},placeholder:"(enter your email address)..."})})]}),m("hr",{}),m("div",{className:`text-area${this.state.messageError?" error":""}`,children:m("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:i=>{this.handleMessageChange(i)}})}),m("hr",{}),m("div",{className:"button-area",children:this.state.loading?m(re,{children:m("button",{className:"send",children:["Sending",m(ise,{})]})}):m(re,{children:[m("button",{className:"cancel",onPointerUp:i=>{this.closeForm(i)},children:"Cancel"}),m("button",{className:"send",onPointerUp:i=>{this.submitForm(i)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},ise=()=>m("div",{className:"caution-processing"});ose=ke(rse,nse)(ax),sse=ose});var Fz={};ti(Fz,{default:()=>use,validateShopModel:()=>tg});function ase(t){return Pt({updateFrontendState:Fe.updateFrontendState,fetchCommerceProducts:Fe.fetchCommerceProducts,fetchContent:Fe.fetchContent,fetchShopModel:Fe.fetchShopModel,addCommerceProductToCart:Fe.addCommerceProductToCart,resetCommerceCart:Fe.resetCommerceCart},t)}var HAe,eg,Qm,Kd,ux,tg,cx,lse,use,dx=T(()=>{Ee();$e();Yo();pt();ai();Bt();js();Re();HAe=he(yn(),1),eg=he(xe(),1);ne();ue||(Qm=window.matchMedia("(prefers-color-scheme: dark)"),Kd=window.matchMedia("(max-aspect-ratio: 1/1)"),Kd.addEventListener("change",()=>{ux?.setState({isMobile:Kd.matches})}));tg=async()=>{if(Rt.getState().site.shop_id===null)throw"site does not have shop setup";let e=await Rt.dispatch(Fe.fetchShopModel());if(eg.default.isEmpty(e))throw"no model data";if(Ai===!1&&e.has_valid_config===!1&&!Rt.getState().site?.is_template)throw Rt.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),"shop modal contains invalid config";return e},cx=class extends se{constructor(e){super(e),tg().then(i=>{this.setState({shopModel:i},()=>{this.openOverlay()})}).catch(i=>{console.warn(i),this.closeOverlay()}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:Kd.matches,shadowRoot:null,theme:this.getTheme()},this.cartElementRef=me(),this.iframeRef=me(),this.startTime=null,this.inputRef=me(),this.throttledResize=eg.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{Rt.getState().frontendState.cartOpen!==!0?this.props.closeOverlay({replaceHistory:!0}):window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let r=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(r||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),this.iframeRef.current.src="/following_frame.html")})}onBeforeCartInit=()=>{this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()}};onCartReady=()=>{this.proxyRoute(),this.proxyTheme()};onCSSLoad=()=>{this.setState({loaded:!0,isMobile:Kd.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",document.scrollingElement.style.overflow="hidden",requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState({animate:!0})})})})})})})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),ux=null,Qm.removeEventListener("change",this.onThemeChange),window.removeEventListener("cart-before-init",this.onBeforeCartInit),window.removeEventListener("cart-ready",this.onCartReady),document.body.style.overflow="",document.scrollingElement.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidMount(){ux=this,Qm.addEventListener("change",this.onThemeChange),window.addEventListener("cart-before-init",this.onBeforeCartInit,!1),window.addEventListener("cart-ready",this.onCartReady,!1)}componentDidUpdate(e,i){this.props.requestedTheme!==e.requestedTheme&&this.onThemeChange(),this.state.theme!==i.theme&&this.proxyTheme(),this.proxyRoute()}onThemeChange=()=>{this.setState({theme:this.getTheme()})};getTheme=()=>this.props.requestedTheme==="auto"?Qm.matches?"dark":"light":this.props.requestedTheme;proxyRoute(){!this.iframeRef||!this.iframeRef.current||eg.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}proxyTheme(){try{this.iframeRef.current.contentWindow.dispatchEvent(new CustomEvent("colorScheme",{detail:this.state.theme}))}catch{}}render(){return this.state.shopModel?m("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&Ge(m(re,{children:[m("link",{rel:"stylesheets",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/656a48/css/front-end/cart.css"}),m("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing ":" "}${this.state.theme}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:m("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:m("div",{className:"modal-inner",children:m("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};lse=Fn(ke(t=>({requestedTheme:t.siteDesign.cart?.theme||"light"}),ase)(cx)),use=lse});function cse(t){return Pt({fetchContent:Fe.fetchContent,updateFrontendState:Fe.updateFrontendState},t)}var px,tl,ig,zz,qz,hx,Hz,Uz=T(()=>{Ee();Yo();ai();wR();pt();Re();Bt();Ua();Ei();pd();Pz();Tz();Nz();px=he(xe(),1);ne();tl={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid/:args?",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},ig={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};ue||(zz=(Lz(),Sc(Dz)).default,qz=(dx(),Sc(Fz)).default);hx=class extends se{constructor(e){super(e),this.checkForOverlayPath(this.props.location)}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let i in ig){let r=ig[i],n=Ta(e.pathname,{path:r});if(n){if(px.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};deferredContentRenderer(e,i){let r=this.props.store.getState(),n=i==="purl"?Qe.getContentByPurl(r,e):Qe.getContentById(r,e);return n?.overlay&&(e=Ly(r,Qe,n.id),i="pid"),ue?m(rx,{id:e,idType:i}):(this.lastRequestedId=e,this.lastRequestedIdType=i,this.currentId?(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType)&&(window.__deferred_page_load_promise__=new Promise(o=>{px.default.defer(l=>{this.props.fetchContent(l,{idType:i}).catch(()=>{}).finally(()=>{this.lastRequestedId===l&&(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType,this.forceUpdate()),delete window.__deferred_page_load_promise__,o()})},this.lastRequestedId)})):(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType),m(CR,{children:m(rx,{id:this.currentId,idType:this.currentIdType,hashPurl:this.props.hashPurl})}))}setHomepageClass=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};componentDidUpdate=()=>{this.setHomepageClass()};componentDidMount=()=>{this.setHomepageClass()};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,i=null,r=this.props.location;return this.lockedUnderlayLocation&&(r=this.lockedUnderlayLocation,i=this.props.location,e=m("div",{class:"overlay",children:m(kh,{location:i,children:[m(vn,{exact:!0,path:ig.CART,render:({match:n})=>m(qz,{closeOverlay:(o={})=>{this.props.history[o.replaceHistory?"replace":"push"](this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})}),m(vn,{exact:!0,path:ig.CONTACT,render:({match:n})=>m(zz,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})})]})})),m(re,{children:[e,m(kh,{location:r,children:[m(vn,{exact:!0,path:tl.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),m(vn,{exact:!0,path:tl.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>m(Rz,{hash:n.params.hash})}),m(vn,{exact:!0,path:tl.IMG_PATH,render:({match:n})=>m(Az,{})}),m(vn,{exact:!0,path:tl.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),m(vn,{exact:!0,path:tl.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),m(vn,{exact:!0,path:tl.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),m(vn,{exact:!0,path:tl.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),m(vn,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};Hz=bn(Fn(ke((t,e)=>{let i=ue?null:window.location.hash.substring(1).toLowerCase();return{hasSite:!!t.site,homepageId:Qe.getHomepageId(t),isFeed:t.sets.byId.root.stack,adminInitialized:t.adminState?.initialized||!1,adminMode:t.frontendState.adminMode,hashPurl:i}},cse)(hx)))});var Bz,Wz,$z=T(()=>{_r();Bz=he(xe(),1);Re();Wz={};ue||(Wz=window.lightbox={});(function(){"use strict";(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=n()})(this,function(){"use strict";var r=function(n,o,l,u){var c={features:null,bind:function(x,M,O,N){var ae=(N?"remove":"add")+"EventListener";M=M.split(" ");for(var Se=0;Se<M.length;Se++)M[Se]&&x[ae](M[Se],O,!1)},isArray:function(x){return x instanceof Array},createEl:function(x,M){var O=document.createElement(M||"div");return x&&(O.className=x),O},getScrollY:function(){var x=window.pageYOffset;return x!==void 0?x:document.documentElement.scrollTop},unbind:function(x,M,O){c.bind(x,M,O,!0)},removeClass:function(x,M){var O=new RegExp("(\\s|^)"+M+"(\\s|$)");x.className=x.className.replace(O," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(x,M){c.hasClass(x,M)||(x.className+=(x.className?" ":"")+M)},hasClass:function(x,M){return x.className&&new RegExp("(^|\\s)"+M+"(\\s|$)").test(x.className)},getChildByClass:function(x,M){for(var O=x.firstChild;O;){if(c.hasClass(O,M))return O;O=O.nextSibling}},arraySearch:function(x,M,O){for(var N=x.length;N--;)if(x[N][O]===M)return N;return-1},extend:function(x,M,O){for(var N in M)if(M.hasOwnProperty(N)){if(O&&x.hasOwnProperty(N))continue;x[N]=M[N]}},easing:{sine:{out:function(x){return Math.sin(x*(Math.PI/2))},inOut:function(x){return-(Math.cos(Math.PI*x)-1)/2}},cubic:{out:function(x){return--x*x*x+1}}},detectFeatures:function(){if(c.features)return c.features;var x=c.createEl(),M=x.style,O="",N={};if(N.oldIE=document.all&&!document.addEventListener,N.touch="ontouchstart"in window,window.requestAnimationFrame&&(N.raf=window.requestAnimationFrame,N.caf=window.cancelAnimationFrame),N.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!N.pointerEvent){var ae=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Se=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);Se&&Se.length>0&&(Se=parseInt(Se[1],10),Se>=1&&Se<8&&(N.isOldIOSPhone=!0))}var Ne=ae.match(/Android\s([0-9\.]*)/),He=Ne?Ne[1]:0;He=parseFloat(He),He>=1&&(He<4.4&&(N.isOldAndroid=!0),N.androidVersion=He),N.isMobileOpera=/opera mini|opera mobi/i.test(ae)}for(var et=["transform","perspective","animationName"],De=["","webkit","Moz","ms","O"],Ye,ft,At=0;At<4;At++){O=De[At];for(var Si=0;Si<3;Si++)Ye=et[Si],ft=O+(O?Ye.charAt(0).toUpperCase()+Ye.slice(1):Ye),!N[Ye]&&ft in M&&(N[Ye]=ft);O&&!N.raf&&(O=O.toLowerCase(),N.raf=window[O+"RequestAnimationFrame"],N.raf&&(N.caf=window[O+"CancelAnimationFrame"]||window[O+"CancelRequestAnimationFrame"]))}if(!N.raf){var gr=0;N.raf=function(oi){var Qt=new Date().getTime(),ci=Math.max(0,16-(Qt-gr)),Ri=window.setTimeout(function(){oi(Qt+ci)},ci);return gr=Qt+ci,Ri},N.caf=function(oi){clearTimeout(oi)}}return N.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=N,N}};c.detectFeatures(),c.features.oldIE&&(c.bind=function(x,M,O,N){M=M.split(" ");for(var ae=(N?"detach":"attach")+"Event",Se,Ne=function(){O.handleEvent.call(O)},He=0;He<M.length;He++)if(Se=M[He],Se)if(typeof O=="object"&&O.handleEvent){if(!N)O["oldIE"+Se]=Ne;else if(!O["oldIE"+Se])return!1;x[ae]("on"+Se,O["oldIE"+Se])}else x[ae]("on"+Se,O)});var d=this,f=25,g=3,v={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(x){return x.tagName==="A"},getDoubleTapZoom:function(x,M){return x||M.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};c.extend(v,u);var Lo=null,S=function(){var x=c.getScrollY();Lo===null&&(Lo=x),yl||(Gi=Gi+(x-Lo),Lo=x,Q<=d.currItem.fitRatio&&!$r&&v.modal&&(!v.animatedCloseOnScroll||Ao||dr?Gi=0:je&&Math.abs(Gi)>0&&!Hr&&(Mn(),sc()),Pr&&clearTimeout(Pr),v.animatedCloseOnScroll,Pr=setTimeout(function(){Mn(),ua()},200)))},E=function(){return{x:0,y:0}},_=function(){return{x:0,y:0,rotation:0}},P,I,L,F,z,H,ie=E(),X=_(),k=_(),te,le,Y,K={},D={},Q,J,V,oe,$,U,j=0,ee={},de=E(),fe,ve,Ae=0,_e,Oe,qe,ot,je,st,Ie=!0,lt,ut=[],ht,Ue,gt,Nt,_t,Ht,nt,Wi={},Jt=!1,Co,Hr=!1,Cn=function(x,M){c.extend(d,M.publicMethods),ut.push(x)},as=function(x){var M=tr();return x>M-1?x-M:x<0?M+x:x},Po={},wi=function(x,M){return Po[x]||(Po[x]=[]),Po[x].push(M)},vt=function(x){var M=Po[x];if(M){var O=Array.prototype.slice.call(arguments);O.shift();for(var N=0;N<M.length;N++)M[N].apply(d,O)}},Er=function(){return new Date().getTime()},ur=function(x){ta=x,d.bg.style.opacity=x*v.bgOpacity},ol=function(x,M,O,N,ae,Se){(!Jt||ae&&ae!==d.currItem)&&(N=N/(ae?ae.fitRatio:d.currItem.fitRatio)),O=O+D.top,x[je]=V+M+"px, "+O+"px"+oe+" scale("+N+") rotateZ("+Se+"rad)"},ui=function(x){pr&&(x&&(Q>d.currItem.fitRatio?Jt||(on(d.currItem,!1,!0),Jt=!0):Jt&&(on(d.currItem),Jt=!1)),ol(pr,k.x,k.y,Q,null,k.rotation))},Io=function(x){x.container&&ol(x.container.style,x.initialPosition.x,x.initialPosition.y,x.initialZoomLevel,x,0)},ls=function(x,M,O){O[je]=V+x+"px, "+M+"px"+oe},sl=function(x,M){if(!v.loop&&M){var O=F+(de.x*j-x)/de.x,N=x-Br.x;(O<0&&N>0||O>=tr()-1&&N<0)&&(x=Br.x+N*v.mainScrollEndFriction)}Br.x=x,ls(x,0,z)},Hu=function(x,M){var O=Oo[x]-ee[x];return X[x]+ie[x]+O-O*(M/J)},$i=function(x,M){x.x=M.x,x.y=M.y,M.id&&(x.id=M.id)},Uu=function(x){x.x=Math.round(x.x),x.y=Math.round(x.y)},Bu=null,Wu=function(){Bu&&(c.unbind(document,"mousemove",Wu),c.addClass(n,"quick-view-has-mouse"),v.mouseUsed=!0,vt("mouseUsed")),Bu=setTimeout(function(){Bu=null},100)},Tg=function(){c.bind(document,"keydown",d),nt.transform&&c.bind(d.scrollWrap,"click",d),v.mouseUsed||c.bind(document,"mousemove",Wu),c.bind(window,"resize scroll orientationchange",d),vt("bindEvents")},Mg=function(){c.unbind(window,"resize scroll orientationchange",d),c.unbind(window,"scroll",Y.scroll),c.unbind(document,"keydown",d),c.unbind(document,"mousemove",Wu),nt.transform&&c.unbind(d.scrollWrap,"click",d),dr&&c.unbind(window,te,d),clearTimeout(Co),vt("unbindEvents")},al=function(x,M){var O=ra(d.currItem,K,x);return M&&(ct=O),O},ip=function(x){return x||(x=d.currItem),x.initialZoomLevel},rp=function(x){return x||(x=d.currItem),x.w>0?v.maxSpreadZoom:1},np=function(x,M,O,N){return N===d.currItem.initialZoomLevel?(O[x]=d.currItem.initialPosition[x],!0):(O[x]=Hu(x,N),O[x]>M.min[x]?(O[x]=M.min[x],!0):O[x]<M.max[x]?(O[x]=M.max[x],!0):!1)},$u=function(){if(je){var x=nt.perspective&&!lt;V="translate"+(x?"3d(":"("),oe=nt.perspective?", 0px)":")";return}je="left",c.addClass(n,"quick-view-ie"),ls=function(M,O){O.left=M+"px"},Io=function(M){var O=M.fitRatio>1?1:M.fitRatio,N=M.container.style,ae=O*M.w,Se=O*M.h;N.width=ae+"px",N.height=Se+"px",N.left=M.initialPosition.x+"px",N.top=M.initialPosition.y+"px"},ui=function(){if(pr){var M=pr,O=d.currItem,N=O.fitRatio>1?1:O.fitRatio,ae=N*O.w,Se=N*O.h;M.width=ae+"px",M.height=Se+"px",M.left=k.x+"px",M.top=k.y+"px"}}},Rg=function(x){var M="";v.escKey&&x.keyCode===27?M="close":v.arrowKeys&&(x.keyCode===37?M="prev":x.keyCode===39&&(M="next")),x.keyCode===32&&(x.preventDefault(),x.stopImmediatePropagation(),M="close"),M&&!x.ctrlKey&&!x.altKey&&!x.shiftKey&&!x.metaKey&&(x.preventDefault?x.preventDefault():x.returnValue=!1,d[M]())},Vu=function(x){x&&(Pn||Xn||Vi||cs)&&(x.preventDefault(),x.stopPropagation())},op=function(){d.setScrollOffset(0,c.getScrollY())};ue||window.addEventListener("scroll",S);var cr={},Ao=0,Xs=function(x){cr[x]&&(cr[x].raf&&Ue(cr[x].raf),Ao--,delete cr[x])},ju=function(x){cr[x]&&Xs(x),cr[x]||(Ao++,cr[x]={})},Zs=function(){for(var x in cr)cr.hasOwnProperty(x)&&Xs(x)},us=function(x,M,O,N,ae,Se,Ne){var He=Er(),et;ju(x);var De=function(){if(cr[x]){if(et=Er()-He,et>=N){Xs(x),Se(O),Ne&&Ne();return}Se((O-M)*ae(et/N)+M),cr[x].raf=ht(De)}};De()},Ng={shout:vt,listen:wi,viewportSize:K,options:v,isMainScrollAnimating:function(){return Vi},getZoomLevel:function(){return Q},getCurrentIndex:function(){return F},isDragging:function(){return dr},isZooming:function(){return rn},setScrollOffset:function(x,M){ee.x=x,Ht=ee.y=M,vt("updateScrollOffset",ee)},applyZoomPan:function(x,M,O,N){k.x=M,k.y=O,Q=x,ui(N)},init:function(){if(!(P||I)){e("init",d);var x;d.framework=c,d.template=n,d.bg=c.getChildByClass(n,"quick-view-bg"),d.captionPositioner=c.getChildByClass(n,"quick-view-caption-positioner"),d.captionWrapper=c.getChildByClass(d.captionPositioner,"quick-view-caption-wrapper"),d.caption=c.getChildByClass(d.captionWrapper,"quick-view-caption"),gt=n.className,P=!0,nt=c.detectFeatures(),ht=nt.raf,Ue=nt.caf,je=nt.transform,_t=nt.oldIE,d.scrollWrap=c.getChildByClass(n,"quick-view-scroll-wrap"),d.container=c.getChildByClass(d.scrollWrap,"quick-view-container"),z=d.container.style,d.itemHolders=fe=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}],fe[0].el.style.display=fe[2].el.style.display="none",$u(),Y={resize:d.updateSize,orientationchange:function(){clearTimeout(Co),Co=setTimeout(function(){K.x!==d.scrollWrap.clientWidth&&d.updateSize()},500)},scroll:op,keydown:Rg,click:Vu};var M=nt.isOldIOSPhone||nt.isOldAndroid||nt.isMobileOpera;for((!nt.animationName||!nt.transform||M)&&(v.showAnimationDuration=v.hideAnimationDuration=0),x=0;x<ut.length;x++)d["init"+ut[x]]();if(o){var O=d.ui=new o(d,c);O.init()}vt("firstUpdate"),F=F||v.index||0,(isNaN(F)||F<0||F>=tr())&&(F=0),d.currItem=nn(F),(nt.isOldIOSPhone||nt.isOldAndroid)&&(Ie=!1),n.setAttribute("aria-hidden","false"),v.modal&&(Ie?n.style.position="fixed":(n.style.position="absolute",n.style.top=c.getScrollY()+"px")),n.classList.add("quick-view-vertical-align-"+v.alignVertical),n.classList.add("quick-view-horizontal-align-"+v.alignHorizontal),Ht===void 0&&(vt("initialLayout"),Ht=Nt=c.getScrollY());var N="quick-view-open ";for(v.mainClass&&(N+=v.mainClass+" "),v.showHideOpacity&&(N+="quick-view-animate_opacity "),N+=lt?"quick-view-touch":"quick-view-notouch",N+=nt.animationName?" quick-view-css_animation":"",N+=nt.svg?" quick-view-svg":"",c.addClass(n,N),d.updateSize(),H=-1,Ae=null,x=0;x<g;x++)ls((x+H)*de.x+D.left,0,fe[x].el.style);_t||c.bind(d.scrollWrap,le,d),wi("initialZoomInEnd",function(){d.setContent(fe[0],F-1),d.setContent(fe[2],F+1),fe[0].el.style.display=fe[2].el.style.display="block",v.focus&&n.focus(),Tg()}),d.setContent(fe[1],F),d.updateCurrItem(),setTimeout(d.updateCaption,v.showAnimationDuration+50),vt("afterInit",F),e("after-init",d),Ie||($=setInterval(function(){!Ao&&!dr&&!rn&&Q===d.currItem.initialZoomLevel&&d.updateSize()},1e3)),c.addClass(n,"quick-view-visible")}},close:function(){P&&(P=!1,I=!0,vt("close"),e("closing",d),Mg(),rc(d.currItem,null,!0,d.destroy))},destroy:function(){vt("destroy"),e("destroy",d),hr&&clearTimeout(hr),n.setAttribute("aria-hidden","true"),n.className=gt,$&&clearInterval($),c.unbind(d.scrollWrap,le,d),c.unbind(window,"scroll",d),window.removeEventListener("scroll",S),Ju(),Zs(),Po=null},panTo:function(x,M,O){O||(x>ct.min.x?x=ct.min.x:x<ct.max.x&&(x=ct.max.x),M>ct.min.y?M=ct.min.y:M<ct.max.y&&(M=ct.max.y)),k.x=x,k.y=M,ui()},handleEvent:function(x){x=x||window.event,Y[x.type]&&Y[x.type](x)},goTo:function(x){x=as(x);var M=x-F;Ae=M,F=x,d.currItem=nn(F),j-=M,sl(de.x*j),Zs(),Vi=!1,d.updateCurrItem()},next:function(){d.goTo(F+1)},prev:function(){d.goTo(F-1)},updateCurrZoomItem:function(x){if(x&&(vt("beforeChange",0),e("before-slide-change",d,0)),fe[1].el.children.length){var M=fe[1].el.children[0];c.hasClass(M,"quick-view-zoom-wrap")?pr=M.style:pr=null}else pr=null;ct=d.currItem.bounds,J=Q=d.currItem.initialZoomLevel,k.x=ct.center.x,k.y=ct.center.y,x&&(vt("afterChange",F),e("after-slide-change",d))},invalidateCurrItems:function(){U=!0;for(var x=0;x<g;x++)fe[x].item&&(fe[x].item.needsUpdate=!0)},updateCaption:function(){if(d.currItem.caption&&v.showCaption){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.appendChild(d.currItem.caption),$t(d.currItem),d.caption.classList.remove("hidden")}else if(v.showCaption){var x=function(){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.removeEventListener("transitionend",x)};d.caption.classList.contains("hidden")?x():(d.caption.addEventListener("transitionend",x),d.caption.classList.add("hidden"))}},updateCurrItem:function(x){if(Ae!==0){var M=Math.abs(Ae),O;if(!(x&&M<2)){d.currItem=nn(F),Jt=!1,vt("beforeChange",Ae);var N=Ae;N===null&&(N=0),e("slide-change",d,N),M>=g&&(H+=Ae+(Ae>0?-g:g),M=g);for(var ae=0;ae<M;ae++)Ae>0?(O=fe.shift(),fe[g-1]=O,H++,ls((H+2)*de.x+D.left,0,O.el.style),d.setContent(O,F-M+ae+1+1)):(O=fe.pop(),fe.unshift(O),H--,ls(H*de.x+D.left,0,O.el.style),d.setContent(O,F+M-ae-1-1));if(pr&&Math.abs(Ae)===1){var He=nn(ve);He.initialZoomLevel!==Q&&(ra(He,K),on(He),Io(He))}var Se=1+-Ae,Ne=fe[Se];Ae=0,d.updateCurrZoomItem(),ve!==void 0&&d.updateCaption();var He=nn(ve),et=He?.container?.querySelector("media-item");et&&(et.pause?.(),et.getAttribute("autoplay")!="true"&&et.setCurrentTime?.(0),et.removeAttribute("autoplay"));var De=nn(F),Ye=De?.container?.querySelector("media-item");Ye&&(Ye.setAttribute("force-visible",!0),Ye.onload=()=>{De.autoplay?Ye.play?.():setTimeout(()=>{Ye?.play?.()},400)}),ve=F,vt("afterChange",F)}}},updateSize:function(x){if(!Ie&&v.modal){var M=c.getScrollY();if(Ht!==M&&(n.style.top=M+"px",Ht=M),!x&&Wi.x===window.innerWidth&&Wi.y===window.innerHeight)return;Wi.x=window.innerWidth,Wi.y=window.innerHeight,n.style.height=Wi.y+"px"}var O=window.getComputedStyle(d.template),N=parseFloat(O.getPropertyValue("padding-left"))+parseFloat(O.getPropertyValue("border-left-width")),ae=parseFloat(O.getPropertyValue("margin-left")),Se=parseFloat(O.getPropertyValue("padding-right"))+parseFloat(O.getPropertyValue("border-right-width")),Ne=parseFloat(O.getPropertyValue("margin-right")),He=parseFloat(O.getPropertyValue("padding-top"))+parseFloat(O.getPropertyValue("border-top-width")),et=parseFloat(O.getPropertyValue("margin-top")),De=parseFloat(O.getPropertyValue("padding-bottom"))+parseFloat(O.getPropertyValue("border-bottom-width")),Ye=parseFloat(O.getPropertyValue("margin-bottom"));let ft="quick-view-vertical-align-"+v.alignVertical,At="quick-view-horizontal-align-"+v.alignHorizontal;ft!=="quick-view-vertical-align-center"&&n.classList.remove("quick-view-vertical-align-center"),ft!=="quick-view-vertical-align-top"&&n.classList.remove("quick-view-vertical-align-top"),ft!=="quick-view-vertical-align-bottom"&&n.classList.remove("quick-view-vertical-align-bottom"),At!=="quick-view-horizontal-align-center"&&n.classList.remove("quick-view-horizontal-align-center"),At!=="quick-view-horizontal-align-left"&&n.classList.remove("quick-view-horizontal-align-left"),At!=="quick-view-horizontal-align-right"&&n.classList.remove("quick-view-horizontal-align-right"),n.classList.add(ft),n.classList.add(At),D.top=He,D.left=N,D.bottom=De,D.right=Se,D.marginTop=et,D.marginLeft=ae,D.marginBottom=Ye,D.marginRight=Ne;var Si=d.scrollWrap.getBoundingClientRect();if(K.x=Si.width,K.y=Si.height,op(),de.x=K.x+K.x*v.spacing,de.y=K.y,sl(de.x*j),vt("beforeResize"),H!==void 0){for(var gr,oi,Qt,ci=0;ci<g;ci++)gr=fe[ci],ls((ci+H)*de.x+D.left,0,gr.el.style),Qt=F+ci-1,v.loop&&tr()>2&&(Qt=as(Qt)),oi=nn(Qt),oi&&(U||oi.needsUpdate||!oi.bounds)?(d.cleanSlide(oi),d.setContent(gr,Qt),ci===1&&(d.currItem=oi,d.updateCurrZoomItem(!0)),oi.needsUpdate=!1):gr.index===-1&&Qt>=0&&d.setContent(gr,Qt),oi&&oi.container&&(ra(oi,K),on(oi),Io(oi));U=!1}J=Q=d.currItem.initialZoomLevel,ct=d.currItem.bounds,ct&&(k.x=ct.center.x,k.y=ct.center.y,ui(!0)),vt("resize")},zoomTo:function(x,M,O,N,ae){M&&(J=Q,Oo.x=Math.abs(M.x)-k.x,Oo.y=Math.abs(M.y)-k.y,$i(X,k));var Se=al(x,!1),Ne={};np("x",Se,Ne,x),np("y",Se,Ne,x);var He=Q,et={x:k.x,y:k.y};Uu(Ne);var De=function(Ye){Ye===1?(Q=x,k.x=Ne.x,k.y=Ne.y,d.currItem.caption&&v.showCaption&&(Math.abs(Q-d.currItem.fitRatio)>.01?d.caption.classList.add("hidden"):d.caption.classList.remove("hidden"))):(Q=(x-He)*Ye+He,k.x=(Ne.x-et.x)*Ye+et.x,k.y=(Ne.y-et.y)*Ye+et.y),ae&&ae(Ye),ui(Ye===1)};O?us("customZoomTo",0,1,O,N||c.easing.sine.inOut,De):De(1)}},Gu=30,Ku=10,sp,ll,Qi={},To={},er={},mi={},Mo={},Ur=[],Ro={},Js,No=[],ko={},ul,cs,Qs,cl=0,dl=E(),Yu=0,dr,pl,Xn,Pn,hl,In,Mi,rn,ap,Xu,ct,Br=E(),pr,Vi,Oo=E(),Zn=E(),ji,fl,ea,ta,ia,lp=function(x,M){return x.x===M.x&&x.y===M.y},up=function(x,M){return Math.abs(x.x-M.x)<f&&Math.abs(x.y-M.y)<f},Zu=function(x,M){return ko.x=Math.abs(x.x-M.x),ko.y=Math.abs(x.y-M.y),Math.sqrt(ko.x*ko.x+ko.y*ko.y)},Ju=function(){hl&&(Ue(hl),hl=null)},cp=function(){dr&&(hl=ht(cp),Fg())},kg=function(){return!(v.scaleMode==="fit"&&Q===d.currItem.initialZoomLevel)},Qu=function(x,M){return!x||x===document||x.getAttribute("class")&&x.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:M(x)?x:Qu(x.parentNode,M)},ec={},dp=function(x,M){return ec.prevent=!Qu(x.target,v.isClickableElement),vt("preventDragEvent",x,M,ec),ec.prevent},pp=function(x,M){return M.x=x.pageX+-D.left+-D.marginLeft,M.y=x.pageY+-D.top+-D.marginTop,M.clientY=x.clientY,M.id=x.identifier,M},hp=function(x,M,O){O.x=(x.x+M.x)*.5,O.y=(x.y+M.y)*.5},tc=function(x,M,O){if(x-ll>50){var N=No.length>2?No.shift():{};N.x=M,N.y=O,No.push(N),ll=x}},fp=function(){var x=k.y-d.currItem.initialPosition.y;return Math.min(1.2-Math.abs(x/(K.y/2)),1)},ds={},Og={},Jn=[],ml,kt=function(x){for(;Jn.length>0;)Jn.pop();return st?(ml=0,Ur.forEach(function(M){ml===0?Jn[0]=M:ml===1&&(Jn[1]=M),ml++})):x.type.indexOf("touch")>-1?x.touches&&x.touches.length>0&&(Jn[0]=pp(x.touches[0],ds),x.touches.length>1&&(Jn[1]=pp(x.touches[1],Og))):(ds.x=x.pageX,ds.y=x.pageY,ds.clientY=x.clientY,ds.id="",Jn[0]=ds),Jn},Ot=function(x,M){var O,N=0,ae=k[x]+M[x],Se,Ne=M[x]>0,He=Br.x+M.x,et=Br.x-Ro.x,De,Ye;if(ae>ct.min[x]||ae<ct.max[x]?O=v.panEndFriction:O=1,ae=k[x]+M[x]*O,(v.allowPanToNext||Q===d.currItem.initialZoomLevel)&&(pr?ji==="h"&&x==="x"&&!Xn&&(Ne?(ae>ct.min[x]&&(O=v.panEndFriction,N=ct.min[x]-ae,Se=Math.round(ct.min[x]-X[x])),(Se<=0||et<0)&&tr()>1?(Ye=He,et<0&&He>Ro.x&&(Ye=Ro.x)):ct.min.x!==ct.max.x&&(De=ae)):(ae<ct.max[x]&&(O=v.panEndFriction,N=ae-ct.max[x],Se=Math.round(X[x]-ct.max[x])),(Se<=0||et>0)&&tr()>1?(Ye=He,et>0&&He<Ro.x&&(Ye=Ro.x)):ct.min.x!==ct.max.x&&(De=ae))):Ye=He,x==="x"))return Ye!==void 0&&(sl(Ye,!0),Ye===Ro.x?In=!1:In=!0),ct.min.x!==ct.max.x&&(De!==void 0?k.x=De:In||(k.x+=M.x*O)),Ye!==void 0;Vi||In||Q>d.currItem.fitRatio&&(k[x]+=M[x]*O)},mp=null,Dg=function(x){if(!(x.type==="mousedown"&&x.button>0)){if(ps){x.preventDefault();return}if(!(Qs&&x.type==="mousedown")){if(dp(x,!0)&&x.preventDefault(),la=x.type,mp=setTimeout(function(){d.template.classList.add("mouse-down")},200),vt("pointerDown"),st){var M=c.arraySearch(Ur,x.pointerId,"id");M<0&&(M=Ur.length),Ur[M]={x:x.pageX,y:x.pageY,clientY:x.clientY,id:x.pointerId}}var O=kt(x),N=O.length;Mi=null,Zs(),(!dr||N===1)&&(dr=fl=!0,c.bind(window,te,d),ul=$r=ia=ea=cs=In=Pn=pl=Xn=!1,ji=null,oc=O[0].y+-Ht,vt("firstTouchStart",O),$i(X,k),ie.x=ie.y=0,$i(mi,O[0]),$i(Mo,mi),Ro.x=de.x*j,No=[{x:mi.x,y:mi.y}],ll=sp=Er(),al(Q,!0),Ju(),cp()),!rn&&N>1&&!Vi&&!In&&(J=Q,Xn=!1,rn=pl=!0,ie.y=ie.x=0,$i(X,k),$i(Qi,O[0]),$i(To,O[1]),hp(Qi,To,Zn),Oo.x=Math.abs(Zn.x)-k.x,Oo.y=Math.abs(Zn.y)-k.y,ap=Xu=Zu(Qi,To))}}},Lg=function(x){if(x.preventDefault(),st){var M=c.arraySearch(Ur,x.pointerId,"id");if(M>-1){var O=Ur[M];O.x=x.pageX,O.y=x.pageY,O.clientY=x.clientY}}if(dr){var N=kt(x);if(!ji&&!Pn&&!rn)if(Br.x!==de.x*j)ji="h";else{var ae=Math.abs(N[0].x-mi.x)-Math.abs(N[0].y-mi.y);Math.abs(ae)>=Ku&&(ji=ae>0?"h":"v",Mi=N)}else Mi=N;aa=aa+(oc-N[0].clientY),oc=N[0].clientY}},Fg=function(){if(Mi){var x=Mi.length;if(x!==0)if($i(Qi,Mi[0]),er.x=Qi.x-mi.x,er.y=Qi.y-mi.y,rn&&x>1){if(mi.x=Qi.x,mi.y=Qi.y,!er.x&&!er.y&&lp(Mi[1],To))return;$i(To,Mi[1]),Xn||(Xn=!0,vt("zoomGestureStarted"),d.currItem.caption&&v.showCaption&&d.caption.classList.add("hidden"));var M=Zu(Qi,To),O=xi(M);O>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(ia=!0);var N=1,ae=ip(),Se=rp();if(O<ae)if(v.pinchToClose&&!ia&&J<=d.currItem.initialZoomLevel){var Ne=ae-O,He=1-Ne/(ae/1.2);ur(He),vt("onPinchClose",He),ea=!0}else N=(ae-O)/ae,N>1&&(N=1),O=ae-N*(ae/3);else O>Se&&(N=(O-Se)/(ae*6),N>1&&(N=1),O=Se+N*ae);N<0&&(N=0),ap=M,hp(Qi,To,dl),ie.x+=dl.x-Zn.x,ie.y+=dl.y-Zn.y,$i(Zn,dl),k.x=Hu("x",O),k.y=Hu("y",O),ul=O>Q,Q=O,ui()}else{if(!ji||(fl&&(fl=!1,Math.abs(er.x)>=Ku&&(er.x-=Mi[0].x-Mo.x),Math.abs(er.y)>=Ku&&(er.y-=Mi[0].y-Mo.y,aa-=-(Mi[0].y-Mo.y))),mi.x=Qi.x,mi.y=Qi.y,er.x===0&&er.y===0))return;if(ji==="v"&&v.animatedCloseOnScroll&&la==="touchstart"){if(Gi=aa,aa=0,!$r&&!Hr){$r=!0,Mn(),sc();var et=!1,De=0,Ye=1,ft=0;Do=0,an=0;var At=mi.y,Si=mi.y,gr,oi,Qt=document.documentElement.scrollTop,ci=document.documentElement.scrollHeight,Ri=K.y,fs=!1,bl=document.querySelectorAll(".content_container, .pinned > div:not(.fixed)"),wl=[],ac=function(){fs||(fs=!0,oi=requestAnimationFrame(function(){bl.style.transform="translateY("+-an+"px)",wl.each(function(Ce){var tt=this.parentElement.__backdropData,wt=this.parentElement.__cached_size,ei=this.parentElement.__cached_page_size;if(tt){var Ct=0,Fo=0,Ki=0;wt&&(Ct=wt.top,Fo=wt.height,Ki=Fo),ei&&(Ki=ei.height);var Yi=parseFloat(tt.yPos)||0;this.style.position==="fixed"&&(this.style.position="absolute");var Rn=Qt+an,ms=Qt+an+Cargo.Backdrop.cache_window_data.height,Ir=Ct+Qt,pa=Ct+Qt+Ki;if(Ir<=Rn&&pa>=ms){var xl=Ir-Rn;this.style.transform="translateY("+-xl+"px)"}else pa<ms?this.style.transform="translateY("+(Ki-Cargo.Backdrop.cache_window_data.height)+"px)":this.style.transform="translateY(0px)"}}),fs=!1}))},da=function(Ce){if(Ce.touches.length==0||Ce.touches.length>1){Vr(),ir();return}Ce.preventDefault(),Do=Si-Ce.touches[0].pageY,an=Do,Do+Qt<=0?(scrollMonitor.__frozen=!0,an=-Qt):Do+Qt+Ri>=ci?(scrollMonitor.__frozen=!0,an=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,ft=At-Ce.touches[0].pageY,At=Ce.touches[0].pageY,ac()},Vr=function(){window.removeEventListener("touchmove",da),window.removeEventListener("touchend",Vr),window.addEventListener("touchstart",ir),cancelAnimationFrame(oi),bl.style.transform="",wl.each(function(){this.__cacheStyle&&(this.style=this.__cacheStyle,delete this.__cacheStyle)}),document.documentElement.scrollTop=document.documentElement.scrollTop+Do,G(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},ir=function(){ft=0,cancelAnimationFrame(gr),window.removeEventListener("touchstart",ir)},G=function(){Ye=Ye*.95;var Ce=ft*Ye;document.documentElement.scrollTop=document.documentElement.scrollTop+Ce,Math.abs(Ce)>.5?gr=requestAnimationFrame(function(){G()}):ir()};window.addEventListener("touchmove",da),window.addEventListener("touchend",Vr)}return}else if(ji==="v"&&v.closeOnVerticalDrag&&!kg()){ie.y+=er.y,k.y+=er.y;var pe=fp();cs=!0,vt("onVerticalDrag",pe),ur(pe),ui();return}tc(Er(),Qi.x,Qi.y),ji==="h"&&v.showCaption&&!Pn&&d.caption.classList.add("hidden"),Pn=!0,ct=d.currItem.bounds;var ce=Ot("x",er);ce||(Ot("y",er),Uu(k),ui())}}},zg=function(x){if(la="",nt.isOldAndroid){if(Qs&&x.type==="mouseup")return;x.type.indexOf("touch")>-1&&(clearTimeout(Qs),Qs=setTimeout(function(){Qs=0},600))}clearTimeout(mp),d.template.classList.remove("mouse-down"),vt("pointerUp"),dp(x,!1)&&x.preventDefault();var M;if(st){var O=c.arraySearch(Ur,x.pointerId,"id");if(O>-1)if(M=Ur.splice(O,1)[0],navigator.pointerEnabled)M.type=x.pointerType||"mouse";else{var N={4:"mouse",2:"touch",3:"pen"};M.type=N[x.pointerType],M.type||(M.type=x.pointerType||"mouse")}}var ae=kt(x),Se,Ne=ae.length;if(x.type==="mouseup"&&(Ne=0),Ne===2)return Mi=null,!0;Ne===1&&$i(Mo,ae[0]),Ne===0&&!ji&&!Vi&&(M||(x.type==="mouseup"?M={x:x.pageX+-D.left+-D.marginLeft,y:x.pageY+-D.top+-D.marginTop,type:"mouse"}:x.changedTouches&&x.changedTouches[0]&&(M={x:x.changedTouches[0].pageX+-D.left+-D.marginLeft,y:x.changedTouches[0].pageY+-D.top+-D.marginTop,type:"touch"})),vt("touchRelease",x,M));var He=-1;if(Ne===0&&(dr=!1,c.unbind(window,te,d),Ju(),rn?He=0:Yu!==-1&&(He=Er()-Yu)),Yu=Ne===1?Er():-1,He!==-1&&He<150?Se="zoom":Se="swipe",rn&&Ne<2&&(rn=!1,Ne===1&&(Se="zoomPointerUp"),vt("zoomGestureEnded")),Mi=null,!(!Pn&&!Xn&&!Vi&&!cs&&!$r)){if(Zs(),Js||(Js=qg()),Js.calculateSwipeSpeed("x"),$r)Pr&&clearTimeout(Pr),$r=!1,Mn(),ua();else if(cs){var et=fp();if(et<v.verticalDragRange)d.close();else{var De=k.y,Ye=ta;us("verticalDrag",0,1,300,c.easing.cubic.out,function(At){k.y=(d.currItem.initialPosition.y-De)*At+De,ur((1-Ye)*At+Ye),ui()}),vt("onVerticalDrag",1)}return}if((In||Vi)&&Ne===0){var ft=Hg(Se,Js);if(ft)return;Se="zoomPointerUp"}if(!Vi){if(Se!=="swipe"){ic();return}!In&&Q>d.currItem.fitRatio&&gp(Js)}}},qg=function(){var x,M,O={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(N){No.length>1?(x=Er()-ll+50,M=No[No.length-2][N]):(x=Er()-sp,M=Mo[N]),O.lastFlickOffset[N]=mi[N]-M,O.lastFlickDist[N]=Math.abs(O.lastFlickOffset[N]),O.lastFlickDist[N]>20?O.lastFlickSpeed[N]=O.lastFlickOffset[N]/x:O.lastFlickSpeed[N]=0,Math.abs(O.lastFlickSpeed[N])<.1&&(O.lastFlickSpeed[N]=0),O.slowDownRatio[N]=.95,O.slowDownRatioReverse[N]=1-O.slowDownRatio[N],O.speedDecelerationRatio[N]=1},calculateOverBoundsAnimOffset:function(N,ae){O.backAnimStarted[N]||(k[N]>ct.min[N]?O.backAnimDestination[N]=ct.min[N]:k[N]<ct.max[N]&&(O.backAnimDestination[N]=ct.max[N]),O.backAnimDestination[N]!==void 0&&(O.slowDownRatio[N]=.7,O.slowDownRatioReverse[N]=1-O.slowDownRatio[N],O.speedDecelerationRatioAbs[N]<.05&&(O.lastFlickSpeed[N]=0,O.backAnimStarted[N]=!0,us("bounceZoomPan"+N,k[N],O.backAnimDestination[N],ae||300,c.easing.sine.out,function(Se){k[N]=Se,ui()}))))},calculateAnimOffset:function(N){O.backAnimStarted[N]||(O.speedDecelerationRatio[N]=O.speedDecelerationRatio[N]*(O.slowDownRatio[N]+O.slowDownRatioReverse[N]-O.slowDownRatioReverse[N]*O.timeDiff/10),O.speedDecelerationRatioAbs[N]=Math.abs(O.lastFlickSpeed[N]*O.speedDecelerationRatio[N]),O.distanceOffset[N]=O.lastFlickSpeed[N]*O.speedDecelerationRatio[N]*O.timeDiff,k[N]+=O.distanceOffset[N])},panAnimLoop:function(){if(cr.zoomPan&&(cr.zoomPan.raf=ht(O.panAnimLoop),O.now=Er(),O.timeDiff=O.now-O.lastNow,O.lastNow=O.now,O.calculateAnimOffset("x"),O.calculateAnimOffset("y"),ui(),O.calculateOverBoundsAnimOffset("x"),O.calculateOverBoundsAnimOffset("y"),O.speedDecelerationRatioAbs.x<.05&&O.speedDecelerationRatioAbs.y<.05)){k.x=k.x,k.y=k.y,ui(),Xs("zoomPan");return}}};return O},gp=function(x){if(x.calculateSwipeSpeed("y"),ct=d.currItem.bounds,x.backAnimDestination={},x.backAnimStarted={},Math.abs(x.lastFlickSpeed.x)<=.05&&Math.abs(x.lastFlickSpeed.y)<=.05)return x.speedDecelerationRatioAbs.x=x.speedDecelerationRatioAbs.y=0,x.calculateOverBoundsAnimOffset("x"),x.calculateOverBoundsAnimOffset("y"),!0;ju("zoomPan"),x.lastNow=Er(),x.panAnimLoop()},Hg=function(x,M){var O;Vi||(cl=F);var N;if(x==="swipe"){var ae=mi.x-Mo.x,Se=M.lastFlickDist.x<10;ae>Gu&&(Se||M.lastFlickOffset.x>20)?N=-1:ae<-Gu&&(Se||M.lastFlickOffset.x<-20)&&(N=1)}var Ne;N&&(F+=N,F<0?(F=v.loop?tr()-1:0,Ne=!0):F>=tr()&&(F=v.loop?0:tr()-1,Ne=!0),(!Ne||v.loop)&&(Ae+=N,j-=N,O=!0));var He=de.x*j,et=Math.abs(He-Br.x),De;return!O&&He>Br.x!=M.lastFlickSpeed.x>0?De=333:(De=Math.abs(M.lastFlickSpeed.x)>0?et/Math.abs(M.lastFlickSpeed.x):333,De=Math.min(De,400),De=Math.max(De,250)),cl===F&&(O=!1),Vi=!0,vt("mainScrollAnimStart"),us("mainScroll",Br.x,He,De,c.easing.cubic.out,sl,function(){Zs(),Vi=!1,cl=-1,(O||cl!==F)&&d.updateCurrItem(),vt("mainScrollAnimComplete")}),O?d.updateCurrItem(!0):d.updateCaption(),O},xi=function(x){return 1/Xu*x*J},ic=function(){var x=Q,M=ip(),O=rp();Q<M?x=M:Q>O&&(x=O);var N=1,ae,Se=ta;return ea&&!ul&&!ia&&Q<M?(d.close(),!0):(ea&&(ae=function(Ne){ur((N-Se)*Ne+Se)}),d.zoomTo(x,0,200,c.easing.cubic.out,ae),!0)};Cn("Gestures",{publicMethods:{initGestures:function(){var x=function(M,O,N,ae,Se){_e=M+O,Oe=M+N,qe=M+ae,Se?ot=M+Se:ot=""};st=nt.pointerEvent,st&&nt.touch&&(nt.touch=!1),st?navigator.pointerEnabled?x("pointer","down","move","up","cancel"):x("MSPointer","Down","Move","Up","Cancel"):nt.touch?(x("touch","start","move","end","cancel"),lt=!0):x("mouse","down","move","up"),te=Oe+" "+qe+" "+ot,le=_e,st&&!lt&&(lt=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),d.likelyTouchDevice=lt,Y[_e]=Dg,Y[Oe]=Lg,Y[qe]=zg,ot&&(Y[ot]=Y[qe]),nt.touch&&(le+=" mousedown",te+=" mousemove mouseup",Y.mousedown=Y[_e],Y.mousemove=Y[Oe],Y.mouseup=Y[qe]),lt||(v.allowPanToNext=!1)}}});var hr,rc=function(x,M,O,N){if(hr&&clearTimeout(hr),ps=!0,gl=!0,O){let et=x.el?.closest?.("gallery-slideshow");if(et){let De=x.el?.assignedSlot?.name?.replace("slot-","")??-1;De!==-1&&et.goToSlide(parseInt(De))}}var ae;x.initialLayout?(ae=x.initialLayout,x.initialLayout=null):ae=v.getThumbBoundsFn&&v.getThumbBoundsFn(F);var Se=O?v.hideAnimationDuration:v.showAnimationDuration,Ne=function(){if(Xs("initialZoom"),O)d.template.removeAttribute("style"),d.bg.removeAttribute("style");else{if(ur(1),M&&(M.style.display="block"),x.autoplay){let et=x.container.querySelector("media-item");et&&(et.onload=()=>{et.play?.()})}c.addClass(n,"quick-view-hide-overflow"),c.addClass(n,"quick-view-animated-in"),vt("initialZoom"+(O?"OutEnd":"InEnd"))}N&&N(),ps=!1};if(!Se||!ae||ae.x===void 0){vt("initialZoom"+(O?"Out":"In")),Q=x.initialZoomLevel,$i(k,x.initialPosition),ui(),n.style.opacity=O?0:1,ur(1),Se?setTimeout(function(){Ne()},Se):Ne();return}var He=function(){var et=L,De=d.currItem.loadError||v.showHideOpacity,Ye=$r,ft=O?25:90;et&&(ft=0),x.miniImg&&(x.miniImg.style.webkitBackfaceVisibility="hidden");var At=parseFloat(x.w),Si=parseFloat(x.h);x.useViewportWidth&&(At=(K.x-(D.left+D.right))*x.viewportWidthPercentage),x.useViewportHeight&&(Si=(K.y-(D.top+D.bottom))*x.viewportHeightPercentage);var gr=ae.w/ae.h,oi=At/Si,Qt=gr>oi;if(!O){Q=Qt?ae.h/Si:ae.w/At;var ci=(ae.w-At*Q)*.5,Ri=(ae.h-Si*Q)*.5,fs=ci*Math.cos(ae.transform.rotation)-Ri*Math.sin(ae.transform.rotation),bl=ci*Math.sin(ae.transform.rotation)+Ri*Math.cos(ae.transform.rotation);k.rotation=ae.transform.rotation,k.y=ae.y+-(D.top+D.marginTop)+bl,k.x=ae.x+-(D.left+D.marginLeft)+fs,d[De?"template":"bg"].style.opacity=.001,ui(),k.rotation=0}if(ju("initialZoom"),O&&!et&&c.removeClass(n,"quick-view-animated-in"),O){c.removeClass(n,"quick-view-hide-overflow");var wl=d.getCurrentIndex();Bz.default.each(d.itemHolders,function(Vr){Vr.index!==wl&&(Vr.el.style.display="none")}),v.showCaption&&d.caption.classList.add("hidden")}let ac=d.currItem.el?.getAttribute?.("rel")==="quick-view";(De||Ye||ac)&&(O?c[(et?"remove":"add")+"Class"](n,"quick-view-animate_opacity"):setTimeout(function(){c.addClass(n,"quick-view-animate_opacity")},30));var da=function(){if(vt("initialZoom"+(O?"Out":"In")),O){var Vr=Qt?ae.h/Si:ae.w/At,ir=(ae.w-At*Vr)*.5,G=(ae.h-Si*Vr)*.5,pe=ir*Math.cos(ae.transform.rotation)-G*Math.sin(ae.transform.rotation),ce=ir*Math.sin(ae.transform.rotation)+G*Math.cos(ae.transform.rotation),Ce={x:k.x,y:k.y,rotation:0},tt=Q,wt=ta,ei=document.documentElement.scrollTop,Ct=an,Fo=function(Ki){var Yi=ei-document.documentElement.scrollTop,Rn=Ct-an;if(Ki===1?(Q=Vr,k.x=ae.x+-(D.left+D.marginLeft)+pe,k.y=ae.y+Yi+Rn+-(D.top+D.marginTop)+ce,k.rotation=ae.transform.rotation):(Q=(Vr-tt)*Ki+tt,k.x=(ae.x+-Ce.x+-(D.left+D.marginLeft)+pe)*Ki+Ce.x,k.y=(ae.y+Yi+Rn+-(D.top+D.marginTop)+ce)*Ki+(1-Ki)*(Ce.y+Yi+Rn),k.rotation=(ae.transform.rotation-Ce.rotation)*Ki+Ce.rotation),ui(),Ye){var ms=1-Ki;if(Math.hasOwnProperty("cbrt")){var Ir=1-Math.cbrt(ms);ms=1-Ir*Ir*Ir*Ir}n.style.opacity=ms}else De?n.style.opacity=1-Ki:ur(wt-Ki*wt)};et?us("initialZoom",0,1,Se,c.easing.cubic.out,Fo,Ne):(Fo(1),hr=setTimeout(Ne,Se+20))}else{if(Q=x.initialZoomLevel,$i(k,x.initialPosition),ui(),ur(1),pr){pr.opacity="",pr.transitionDuration="";let Ki=x.container.offsetHeight}De?n.style.opacity=1:ur(1),hr=setTimeout(Ne,Se+20)}};ft===0?da():hr=setTimeout(function(){da()},ft)};He()},Qn,Dt={},eo=[],gl,ps,vp={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Qn.length}},nn,tr,fr,Ug=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Cr=function(x,M,O){var N=x.bounds;v.alignHorizontal==="left"?N.center.x=0:v.alignHorizontal==="right"?N.center.x=Dt.x-M+x.hGap.left:N.center.x=(Dt.x-M)/2+x.hGap.left,v.alignVertical==="top"?N.center.y=0:v.alignVertical==="bottom"?N.center.y=Dt.y-O+x.vGap.top:N.center.y=(Dt.y-O)/2+x.vGap.top,N.max.x=M>Dt.x?Dt.x-M+x.hGap.left:N.center.x,N.max.y=O>Dt.y?Dt.y-O+x.vGap.top:N.center.y,N.min.x=M>Dt.x?x.hGap.left:N.center.x,N.min.y=O>Dt.y?x.vGap.top:N.center.y},ra=function(x,M,O){var N=!O;if(N&&(x.vGap||(x.vGap={top:0,bottom:0}),x.hGap||(x.hGap={left:0,right:0}),vt("parseVerticalMargin",x)),x.useViewportHeight||x.useViewportWidth?(Dt.x=M.x-x.hGap.left-x.hGap.right,Dt.y=M.y-x.vGap.top-x.vGap.bottom):(Dt.x=M.x-x.hGap.left-x.hGap.right+-(D.left+D.right),Dt.y=M.y-x.vGap.top-x.vGap.bottom+-(D.top+D.bottom)),N){var He=x.w,et=x.h;x.useViewportWidth&&(He=(M.x-(D.left+D.right))*x.viewportWidthPercentage),x.useViewportHeight&&(et=(M.y-(D.top+D.bottom))*x.viewportHeightPercentage);var ae=Dt.x/He,Se=Dt.y/et;x.useViewportHeight||x.useViewportWidth?x.fitRatio=1:x.fitRatio=ae<Se?ae:Se;var Ne=v.scaleMode;Ne==="orig"?O=1:Ne==="fit"&&(O=x.fitRatio),O>1&&(O=1),O==0&&(O=.01),x.initialZoomLevel=O,x.bounds||(x.bounds=Ug())}if(O){var He=x.w,et=x.h;return x.useViewportWidth&&(He=M.x*x.viewportWidthPercentage),x.useViewportHeight&&(et=M.y*x.viewportHeightPercentage),(x.useViewportHeight||x.useViewportWidth)&&(O=1),Cr(x,He*O,et*O),N&&O===x.initialZoomLevel&&(x.initialPosition=x.bounds.center),x.bounds}},na=function(x,M,O,N,ae,Se){if(M.loadError)return;N&&(M.imageAppended=!0,on(M,N,M===d.currItem&&Jt),Se?(M.placeholder&&M.placeholder.classList.remove("quick-view-item"),setTimeout(function(){M&&M.loaded&&M.placeholder&&(M.placeholder.style.display="none",M.placeholder=null)},500)):(N.classList.add("quick-view-item"),O.appendChild(N)));let Ne=M.container.querySelector("media-item");if(Ne){(x===F||!M.noLazyLoading)&&Ne.setAttribute("force-visible",!0),M.hash&&M.hash!=="placeholder"&&Ne.hasAttribute("src")?(Ne.setAttribute("hash",M.hash),Ne.removeAttribute("src")):M.src&&Ne.getAttribute("src")!==M.src?(M.posterSrc&&!Ne.poster&&Ne.setAttribute("poster",M.posterSrc),Ne.setAttribute("src",M.src)):M.model&&(Ne.model=M.model);let He=Ne.shadowRoot.querySelector("video");He&&(He.style.display="table",setTimeout(()=>{He.style.display=""},0)),M.autoplay&&(Ne.onload=()=>{setTimeout(()=>{Ne?.play?.()})})}},An=function(x){x.loading=!0,x.loaded=!1;var M=document.createElement("img"),O=function(){x.loading=!1,x.loaded=!0,x.loadComplete?x.loadComplete(x):x.img=null,M.onload=M.onerror=null,M=null};M.onload=O,M.onerror=function(){x.loadError=!0,O()};var N=x.el?.shadowRoot?.querySelector('img[part*="media"]')?.src??x.posterSrc??null;N&&x.src&&N!==x.src&&(x.src.toLowerCase().endsWith(".jpg")||x.src.toLowerCase().endsWith(".gif")||x.src.toLowerCase().endsWith(".png")||x.src.toLowerCase().endsWith(".webp")||x.src.toLowerCase().endsWith(".jpeg")||x.src.toLowerCase().endsWith(".svg")?N=x.src:N=null),N?(M.setAttribute("decoding","sync"),M.setAttribute("src",N)):setTimeout(()=>{O()})},oa=function(x,M){if(x.src&&x.loadError&&x.container)return M&&(x.container.innerHTML=""),x.container.innerHTML=v.errorMsg.replace("%url%",x.src),!0},on=function(x,M,O){M||(M=x.container.lastChild);var N=O?x.w:x.w*x.fitRatio,ae=O?x.h:x.h*x.fitRatio,Se=x.w*x.fitRatio,Ne=x.h*x.fitRatio;x.useViewportWidth&&(N=K.x*x.viewportWidthPercentage,N=Se=N-(D.left+D.right)),x.useViewportHeight&&(ae=K.y*x.viewportHeightPercentage,ae=Ne=ae-(D.top+D.bottom)),x.renderedSize={w:Se,h:Ne},x===d.currItem&&$t(x),!dr&&D.top>5&&D.right>5&&D.bottom>5&&D.left>5&&(N=Math.round(N),ae=Math.round(ae)),M.style.transform="translate3d(0,0,0)",M.style.width=N+"px",M.style.height=ae+"px",M.style.setProperty("--frame-padding",ae+"px"),M.style.setProperty("padding","0px"),M.style.setProperty("border","none"),M.style.setProperty("outline","none")},$t=function(x){var M=x.renderedSize.w,O=x.renderedSize.h,N=Math.max(1,x.fitRatio);d.captionWrapper.style.width=M/N+"px",d.captionWrapper.style.right=D.right+"px",d.captionWrapper.style.left=D.left+"px";var ae=0;switch(v.alignVertical){case"center":ae=(K.y+-D.bottom+-D.top+-O/N)*.5+D.bottom;break;case"top":ae=K.y+-D.bottom+-D.top+-O/N+D.bottom;break;case"bottom":ae=D.bottom;break}d.captionWrapper.style.height=ae+"px"},Tn=function(){if(eo.length){for(var x,M=0;M<eo.length;M++)x=eo[M],x.holder.index===x.index&&na(x.index,x.item,x.baseDiv,x.img,!1,x.clearPlaceholder);eo=[]}};Cn("Controller",{publicMethods:{lazyLoadItem:function(x){x=as(x);var M=nn(x);!M||(M.loaded||M.loading)&&!U||(vt("gettingData",x,M),An(M))},initController:function(){c.extend(v,vp,!0),d.items=Qn=l,nn=d.getItemAt,tr=v.getNumItemsFn,fr=v.loop,tr()<3&&(v.loop=!1),wi("beforeChange",function(x){var M=v.preload,O=x===null?!0:x>=0,N=Math.min(M[0],tr()),ae=Math.min(M[1],tr()),Se;for(Se=1;Se<=(O?ae:N);Se++)d.lazyLoadItem(F+Se);for(Se=1;Se<=(O?N:ae);Se++)d.lazyLoadItem(F-Se)}),wi("initialLayout",function(){d.currItem.initialLayout=v.getThumbBoundsFn&&v.getThumbBoundsFn(F)}),wi("mainScrollAnimComplete",Tn),wi("initialZoomInEnd",Tn),wi("destroy",function(){for(var x,M=0;M<Qn.length;M++)x=Qn[M],x.container&&(x.container=null),x.placeholder&&(x.placeholder=null),x.img&&(x.img=null),x.preloader&&(x.preloader=null),x.loadError&&(x.loaded=x.loadError=!1);eo=null})},getItemAt:function(x){return x>=0&&Qn[x]!==void 0?Qn[x]:!1},allowProgressiveImg:function(){return!0},setContent:function(x,M){v.loop&&(M=as(M));var O=d.getItemAt(x.index);O&&(O.container=null);var N=d.getItemAt(M),ae;if(!N){x.el.innerHTML="";return}vt("gettingData",M,N),x.index=M,x.item=N;var Se=N.container=c.createEl("quick-view-zoom-wrap"),Ne=x.el?.querySelector("media-item"),He=!1;if(Ne){let ft=Ne.getFileType();(ft.startsWith("vimeo")||ft.startsWith("youtube")||ft==="url")&&(He=!0)}if(He?x.el.classList.add("iframe-item"):x.el.classList.remove("iframe-item"),oa(N),ra(N,K),!N.loadError&&!N.loaded){N.loadComplete=function(ft){if(P){if(x&&x.index===M){if(oa(ft,!0)){ft.loadComplete=ft.img=null,ra(ft,K),Io(ft),x.index===F&&d.updateCurrZoomItem();return}ft.imageAppended||(nt.transform&&(Vi||ps)?eo.push({item:ft,baseDiv:Se,img:ft.img,index:M,holder:x,clearPlaceholder:!0}):na(M,ft,Se,ft.img,Vi||ps,!0))}ft.loadComplete=null,ft.img=null,vt("imageLoadComplete",M,ft)}};var et="quick-view-item",De=c.createEl(et,"media-item");if(De.setAttribute("force-visible",N.noLazyLoading&&M!==F?"false":"true"),De.setAttribute("disable-scroll-animation",!0),De.setAttribute("disable-zoom",!0),De.setAttribute("width",N.w),De.setAttribute("height",N.h),De.setAttribute("uses","inline-part-styles"),De.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),De.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),N.usePlaceholder)De.setAttribute("hash","placeholder");else if(N.fileType=="video"||N.fileType.startsWith("vimeo")||N.fileType.startsWith("youtube"))N.src?N.posterSrc?De.setAttribute("src",N.posterSrc):De.setAttribute("src",N.src):N.hash&&N.hash!=="placeholder"&&De.setAttribute("hash",N.hash),N.autoplay?(N.el?.getCurrentTime?.().then(ft=>{De.onload=()=>{setTimeout(()=>{De.setCurrentTime?.(ft)},0)}}),De.setAttribute("muted",!0),De.setAttribute("loop",!0),De.setAttribute("autoplay",!0),De.setAttribute("browser-default",!1)):(N.el?.pause?.(),N.poster&&De.setAttribute("poster",N.poster),De.setAttribute("browser-default",!0));else if(N.fileType==="image"){var Ye=N.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;Ye&&N.src&&Ye!==N.src&&(Ye=N.src),Ye?De.setAttribute("src",Ye):N.src?De.setAttribute("src",N.src):N.hash&&N.hash!=="placeholder"&&De.setAttribute("hash",N.hash)}else N.fileType==="url"&&(N.src?De.setAttribute("src",N.src):N.hash&&N.hash!=="placeholder"&&De.setAttribute("hash",N.hash));on(N,De),Se.appendChild(De),N.placeholder=De,N.loading||An(N),d.allowProgressiveImg()&&(!gl&&nt.transform?eo.push({item:N,baseDiv:Se,img:N.img,index:M,holder:x}):na(M,N,Se,N.img,!0,!0))}else N.loadError?N.fileType=="url"&&on(N,null):(ae=c.createEl("quick-view-item","media-item"),ae.setAttribute("force-visible",!1),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",N.w),ae.setAttribute("height",N.h),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",N.w),ae.setAttribute("height",N.h),ae.setAttribute("uses","inline-part-styles"),ae.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),ae.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px;"),N.usePlaceholder?ae.setAttribute("hash","placeholder"):N.hash?ae.setAttribute("hash",N.hash):N.src&&ae.setAttribute("src",N.src),(N.fileType=="video"||N.fileType.startsWith("vimeo")||N.fileType.startsWith("youtube"))&&(N.autoplay?(ae.setAttribute("muted",!0),ae.setAttribute("loop",!0),ae.setAttribute("browser-default",!1)):ae.setAttribute("browser-default",!0)),on(N,ae),na(M,N,Se,ae,!0));!gl&&M===F?(pr=Se.style,rc(N,ae||N.img)):Io(N),x.el.innerHTML="",x.el.appendChild(Se)},cleanSlide:function(x){x.img&&(x.img.onload=x.img.onerror=null),x.loaded=x.loading=x.img=x.imageAppended=!1}}});var sn,nc={},sa=function(x,M,O){var N=document.createEvent("CustomEvent"),ae={origEvent:x,target:x.target,releasePoint:M,pointerType:O||"touch"};N.initCustomEvent("pswpTap",!0,!0,ae),x.target.dispatchEvent(N)};Cn("Tap",{publicMethods:{initTap:function(){wi("firstTouchStart",d.onTapStart),wi("touchRelease",d.onTapRelease),wi("destroy",function(){nc={},sn=null})},onTapStart:function(x){x.length>1&&(clearTimeout(sn),sn=null)},onTapRelease:function(x,M){if(M&&!Pn&&!pl&&!Ao){var O=M;if(sn&&(clearTimeout(sn),sn=null,up(O,nc))){vt("doubleTap",O);return}if(M.type==="mouse"){sa(x,M,"mouse");return}var N=x.target.tagName.toUpperCase();if(N==="BUTTON"||c.hasClass(x.target,"quick-view-single-tap")){sa(x,M);return}$i(nc,O),sn=setTimeout(function(){sa(x,M),sn=null},300)}}}});var vl,aa=0,oc=0,Gi=0,hs=!1,Wr=0,$r=!1,Do=0,an=0,la="",Lo=null,yl=!1,sc=function(){Hr=!0,yp()},Mn=function(){vl&&(Ue(vl),vl=null,Wr=0,Gi=0,Hr=!1)},ua=function(){if(!(Hr||ca)){var x=k.y,M=k.x,O=ta,N=Q;us("resetVertical",0,1,300,c.easing.cubic.out,function(ae){Q=d.currItem.initialZoomLevel*ae+(1-ae)*N,k.y=(d.currItem.initialPosition.y-x)*ae+x;var Se=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-Q*parseFloat(d.currItem.w))*.5;k.x=d.currItem.initialPosition.x+Se,ur((1-O)*ae+O),ui()})}},yp=function(){hs||(hs=!0,Hr&&(vl=ht(yp),mr(),hs=!1))},ca=!1,mr=function(){!$r&&yl&&(document.documentElement.scrollTop=document.documentElement.scrollTop+Gi);var x=Math.min(K.y,K.x),M=Math.abs(Gi)/x,O=Math.max(0,Math.min(1.3-Math.abs(Wr/(x/3)),1));if(O<.85||ca||M>.2){Mn(),Pr&&clearTimeout(Pr),ca||(ca=!0,$r?(L=!0,d.close()):setTimeout(function(){L=!0,d.close()},25));return}ur(O);var N=Math.abs(Wr)/(K.y*.75);if(d.currItem.hasOwnProperty("thumbRect")){var ae=d.currItem.initialZoomLevel*parseFloat(d.currItem.h)*.5<d.currItem.thumbRect.h;ae&&(N=0)}Q=(1-N*N)*d.currItem.initialZoomLevel;var Se=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-Q*parseFloat(d.currItem.w))*.5,Ne=(d.currItem.initialZoomLevel*parseFloat(d.currItem.h)-Q*parseFloat(d.currItem.h))*.5;k.y=d.currItem.initialPosition.y+Ne+-Wr,k.x=d.currItem.initialPosition.x+Se,ui(),Wr=Wr+Gi,Gi=0},Pr,gi;Cn("DesktopZoom",{publicMethods:{initDesktopZoom:function(){_t||(lt?d.setupDesktopZoom():d.setupDesktopZoom(!0))},setupDesktopZoom:function(x){gi={};var M="wheel mousewheel DOMMouseScroll";wi("bindEvents",function(){c.bind(n,M,d.handleMouseWheel)}),wi("unbindEvents",function(){gi&&c.unbind(n,M,d.handleMouseWheel)}),d.mouseZoomedIn=!1;var O,N=function(){d.mouseZoomedIn&&(c.removeClass(n,"quick-view-zoomed-in"),d.mouseZoomedIn=!1),Q<1?c.addClass(n,"quick-view-zoom-allowed"):c.removeClass(n,"quick-view-zoom-allowed"),ae()},ae=function(){O&&(c.removeClass(n,"quick-view-dragging"),O=!1)};wi("resize",N),wi("afterChange",N),wi("pointerDown",function(){d.mouseZoomedIn&&(O=!0,c.addClass(n,"quick-view-dragging"))}),wi("pointerUp",ae),x||N()},handleMouseWheel:function(x){if(yl=!0,Q<=d.currItem.fitRatio&&v.modal&&(!v.closeOnScroll||Ao||dr?x.preventDefault():je&&Math.abs(x.deltaY)>2&&(L=!0,d.close())),gi.x=0,"deltaX"in x)x.deltaMode===1?(gi.x=x.deltaX*18,gi.y=x.deltaY*18):(gi.x=x.deltaX,gi.y=x.deltaY);else if("wheelDelta"in x)x.wheelDeltaX&&(gi.x=-.16*x.wheelDeltaX),x.wheelDeltaY?gi.y=-.16*x.wheelDeltaY:gi.y=-.16*x.wheelDelta;else if("detail"in x)gi.y=x.detail;else return;if(Q<=d.currItem.fitRatio&&!$r){Gi=Gi+gi.y,v.modal&&(!v.animatedCloseOnScroll||Ao||dr?(x.preventDefault(),Gi=0):je&&Math.abs(gi.y)>0&&!Hr&&(Mn(),sc()),Pr&&clearTimeout(Pr),Pr=setTimeout(function(){Mn(),ua()},200));return}else Gi=0,x.stopPropagation();al(Q,!0);var M=k.x-gi.x,O=k.y-gi.y;(v.modal||M<=ct.min.x&&M>=ct.max.x&&O<=ct.min.y&&O>=ct.max.y)&&x.preventDefault(),d.panTo(M,O)},toggleDesktopZoom:function(x){x=x||{x:K.x/2+ee.x,y:K.y/2+ee.y};var M=v.getDoubleTapZoom(!0,d.currItem),O=Q===M;d.mouseZoomedIn=!O,d.zoomTo(O?d.currItem.initialZoomLevel:M,x,333),c[(O?"remove":"add")+"Class"](n,"quick-view-zoomed-in"),d.currItem.caption&&v.showCaption&&(O?d.caption.classList.remove("hidden"):d.caption.classList.add("hidden"))}}}),c.extend(d,Ng)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var t=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)};var i=function(r,n,o,l,u,c,d){var f=Math.acos,g=Math.atan,v=Math.sqrt,S=Math.PI,E={x:u,y:c},_=0,P={x:1,y:1},I={x:0,y:0},L=r*l-n*o;if(d)r?(I={x:g(o/r),y:g(n/r)},P={x:r,y:L/r}):n?(_=S*.5,P={x:n,y:L/n},I.x=g(l/n)):(P={x:o,y:l},I.x=S*.25);else if(r||n){var F=v(r*r+n*n);_=n>0?f(r/F):-f(r/F),P={x:F,y:L/F},I.x=g((r*o+n*l)/(F*F))}else if(o||l){var z=v(o*o+l*l);_=S*.5-(l>0?f(-o/z):-f(o/z)),P={x:L/z,y:z},I.y=g((r*o+n*l)/(z*z))}else P={x:0,y:0};return{scale:P,translate:E,rotation:_,skew:I}};this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,n,o){if(!(r===void 0||this.activeGallery!==void 0)){var l=document.querySelectorAll(".quick-view")[0],u=this,c=o.alignVertical||"center",d=o.alignHorizontal||"center",f=o.useControls,g=o.animatedCloseOnScroll,v=o.showCaption,S={index:n,maxSpreadZoom:1,getThumbBoundsFn:function(F){if(o&&o.preventAnimation||u.activeGallery==null)return!1;var z=u.activeGallery.getItemAt(F),H;if(!z||!z.el)return!1;z.el.tagName==="A"?H=z.el.querySelector("media-item, video, iframe, img")||z.el:H=z.el;let ie=H.closest("marquee-set");if(ie){let Ie=ie.querySelector('marquee-inner[slot="contents"]'),lt=ie.querySelector('marquee-inner[slot="contents-clone"]');if(u.isActive&&lt)return!1}if(H&&H.tagName==="MEDIA-ITEM"&&(H=H.shadowRoot.querySelector('[part*="media"]')),!H)return!1;let X=H.getRootNode();for(;X&&X!==document;)X instanceof ShadowRoot?X=X.host.getRootNode():X=void 0;if(!X)return!1;let k=getComputedStyle(H),te=parseFloat(k.getPropertyValue("padding-top"))||0,le=parseFloat(k.getPropertyValue("padding-bottom"))||0,Y=parseFloat(k.getPropertyValue("padding-left"))||0,K=parseFloat(k.getPropertyValue("padding-right"))||0,D=parseFloat(k.getPropertyValue("border-top"))||0,Q=parseFloat(k.getPropertyValue("border-bottom"))||0,J=parseFloat(k.getPropertyValue("border-left"))||0,V=parseFloat(k.getPropertyValue("border-right"))||0,oe={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}},$=H,U=H,j=0,ee=0,de=0,fe=0;for(;$;)k=getComputedStyle($),te=parseFloat(k.getPropertyValue("padding-top"))||0,le=parseFloat(k.getPropertyValue("padding-bottom"))||0,Y=parseFloat(k.getPropertyValue("padding-left"))||0,K=parseFloat(k.getPropertyValue("padding-right"))||0,D=parseFloat(k.getPropertyValue("border-top"))||0,Q=parseFloat(k.getPropertyValue("border-bottom"))||0,J=parseFloat(k.getPropertyValue("border-left"))||0,V=parseFloat(k.getPropertyValue("border-right"))||0,$==H?(de=$.offsetWidth-(Y+J+K+V),fe=$.offsetHeight-(te+D+le+Q),j=j+$.offsetLeft+J+Y,ee=ee+$.offsetTop+D+te):(j=j+$.offsetLeft+J,ee=ee+$.offsetTop+D),$=$.offsetParent;let ve=[];for(;U;){let Ie=[],lt=getComputedStyle(U),ut=lt.getPropertyValue("transform"),ht=lt.getPropertyValue("position")==="fixed",Ue;var Ae=ut.indexOf("matrix(")>-1,_e=ut.indexOf("matrix3d(")>-1,Oe=Ae||_e;if(Ae){Ie=ut.replace(")","").replace("matrix(","").split(",");for(var qe=0;qe<Ie.length;qe++)Ie[qe]=parseFloat(Ie[qe]);Ue=i(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5],!1)}else if(_e){Ie=ut.replace(")","").replace("matrix3d(","").split(",");for(var qe=0;qe<Ie.length;qe++)Ie[qe]=parseFloat(Ie[qe]);Ue=i(Ie[0],Ie[1],Ie[4],Ie[5],Ie[12],Ie[13],!1)}else Ue={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}};if(Oe){let gt=j+de*.5,Nt=ee+fe*.5,_t=j-gt,Ht=ee-Nt,nt=_t*Math.cos(Ue.rotation)-Ht*Math.sin(Ue.rotation),Wi=_t*Math.sin(Ue.rotation)+Ht*Math.cos(Ue.rotation);j=nt+gt,ee=Wi+Nt,j+=Ue.translate.x,ee+=Ue.translate.y,oe.rotation=Ue.rotation+oe.rotation,oe.scale.x=Ue.scale.x+oe.scale.x,oe.scale.y=Ue.scale.y+oe.scale.y,oe.translate.y=Ue.translate.y+oe.translate.y,oe.translate.x=Ue.translate.x+oe.translate.x}U?.assignedSlot?U=U.assignedSlot:U=U.parentNode,U?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(U=U.host),U?.nodeType!==Node.ELEMENT_NODE&&(U=null),U&&(ht?ve.push("fixed"):ve.push(U.scrollTop))}let ot=ve.findIndex(Ie=>Ie==="fixed");ot!==-1&&(ve=ve.slice(0,ot));let je=ve.reduce((Ie,lt=0)=>Ie+lt);ee=ee-je;var st={x:j,y:ee,w:de,h:fe,padding:{top:te,bottom:le,left:Y,right:K},border:{top:D,bottom:Q,left:J,right:V},transform:oe};return z.thumbRect=st,st},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:d,alignVertical:c,useControls:f,animatedCloseOnScroll:g,showCaption:v},E=!1,_=!1,P=function(){_=!0},I=function(){_=!1};if(window.addEventListener("touchend",I),window.addEventListener("touchstart",P),o!==void 0&&typeof o=="object"){for(var L in o)o.hasOwnProperty(L)&&(S[L]=o[L]);o.disableZoom===!0&&(E=!0,S.zoomEl=!1,S.getDoubleTapZoom=function(F,z){return z.initialZoomLevel},S.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(l,this.PhotoSwipeUI_Default,r,S),o.afterInit&&this.activeGallery.listen("afterInit",o.afterInit),E?l.classList.add("quick-view-zoom-disabled"):l.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){l.parentNode!==null?(l.parentNode.removeChild(l),window.removeEventListener("touchend",I),window.removeEventListener("touchstart",P)):(window.removeEventListener("touchend",I),window.removeEventListener("touchstart",P)),u.isActive=!1,u.activeGallery=void 0}),this.activeGallery}};(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=n()})(this,function(){"use strict";var r=function(n,o){var l=this,u=!1,c=!0,d,f,g,v,S,E,_,P={closeElClasses:["holder","caption","zoom-wrap","ui","top-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},I,L,F=function($){if(I)return!0;$=$||window.event,_.timeToIdle&&_.mouseUsed&&!v&&Y();for(var U=$.target||$.srcElement;U.nodeName==="svg"||U.nodeName==="path"||U.nodeName==="circle"||U.nodeName==="polyline"||U.nodeName==="g"||U.nodeName==="foreignObject"||U.nodeName==="line";)U=U.parentNode;for(var j,ee=U.getAttribute("class")||"",de,fe=0;fe<V.length;fe++)j=V[fe],j.onTap&&ee.indexOf("quick-view-"+j.name)>-1&&(j.onTap(),de=!0);if(de){$.stopPropagation&&$.stopPropagation(),I=!0;var ve=o.features.isOldAndroid?600:30;L=setTimeout(function(){I=!1},ve)}},z=function(){return!n.likelyTouchDevice||_.mouseUsed||screen.width>_.fitControlsWidth},H=function($,U,j){o[(j?"add":"remove")+"Class"]($,"quick-view-"+U)},ie=function($){for(var U=0;U<_.closeElClasses.length;U++)if(o.hasClass($,"quick-view-"+_.closeElClasses[U]))return!0},X,k,te=0,le=!1,Y=function($){if($){var U=Ra($.target,function(j){if(j&&j.nodeType===Node.ELEMENT_NODE)return j.classList.contains("left-arrow")||j.classList.contains("right-arrow")||j.classList.contains("close-button")});le=!!U}clearTimeout(k),te=0,v&&l.setIdle(!1)},K=function($){$=$||window.event;var U=$.relatedTarget||$.toElement;(!U||U.nodeName==="HTML")&&(clearTimeout(k),k=setTimeout(function(){l.setIdle(!0)},_.timeToIdleOutside))},D=function(){_.fullscreenEl&&!o.features.isOldAndroid&&(d||(d=l.getFullscreenAPI()),d?(o.bind(document,d.eventK,l.updateFullscreen),l.updateFullscreen(),o.addClass(n.template,"quick-view-supports-fs")):o.removeClass(n.template,"quick-view-supports-fs"))},Q=function(){_.timeToIdle&&S("mouseUsed",function(){o.bind(document,"mousemove",Y),o.bind(document,"mouseout",K),X=setInterval(function(){te++,te===2&&l.setIdle(!0)},_.timeToIdle/2)})},J=function(){S("onVerticalDrag",function(U){c&&U<.95?l.hideControls():!c&&U>=.95&&l.showControls()});var $;S("onPinchClose",function(U){c&&U<.9?(l.hideControls(),$=!0):$&&!c&&U>.9&&l.showControls()}),S("zoomGestureEnded",function(){$=!1,$&&!c&&l.showControls()})},V=[{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:n.close},{name:"button-prev",option:"arrowEl",onTap:n.prev},{name:"button-next",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}}],oe=function(){var $,U,j,ee=function(ve){if(ve){for(var Ae=ve.length,_e=[],Oe=0;Oe<Ae;Oe++){$=ve[Oe],U=$.className;for(var qe=0;qe<V.length;qe++)j=V[qe],U.indexOf("quick-view-"+j.name)>-1&&(_[j.option]?(o.removeClass($,"quick-view-element--disabled"),_e.push($),j.onInit&&j.onInit($)):o.addClass($,"quick-view-element--disabled"))}_e.length>0}};ee(f.children);for(var de=f.querySelectorAll(".quick-view-group"),fe=0;fe<de.length;fe++)ee(de[fe].children)};l.init=function(){o.extend(n.options,P,!0),_=n.options,f=o.getChildByClass(n.scrollWrap,"quick-view-ui"),S=n.listen,S("beforeChange",l.update),S("doubleTap",function($){var U=n.currItem.initialZoomLevel;n.getZoomLevel()!==U?n.zoomTo(U,$,333):n.zoomTo(_.getDoubleTapZoom(!1,n.currItem),$,333)}),S("preventDragEvent",function($,U,j){var ee=$.target||$.srcElement;ee&&ee.getAttribute("class")&&$.type.indexOf("mouse")>-1&&(ee.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(ee.tagName))&&(j.prevent=!1)}),S("destroy",function(){_.captionEl&&(_fakeCaptionContainer&&f.removeChild(_fakeCaptionContainer),o.removeClass(_captionContainer,"quick-view-caption--empty"))}),l.bindEvents(),D()},l.unbindEvents=function(){X&&clearInterval(X),o.unbind(document,"mouseout",K),o.unbind(document,"mousemove",Y),o.unbind(n.scrollWrap,"pswpTap",l.onGlobalTap),window.removeEventListener("mousedown",l.onGlobalClick),d&&(o.unbind(document,d.eventK,l.updateFullscreen),d.isFullscreen()&&(_.hideAnimationDuration=0,d.exit()),d=null)},l.setupIdle=function(){Q()},l.bindEvents=function(){_.useControls,window.addEventListener("mousedown",l.onGlobalClick),o.bind(n.scrollWrap,"pswpTap",l.onGlobalTap),n.likelyTouchDevice},l.setIdle=function($){window.store?.getState()?.frontendState?.adminMode||le||(v=$)},l.update=function(){c&&n.currItem?u=!0:u=!1},l.updateFullscreen=function($){$&&setTimeout(function(){n.setScrollOffset(0,o.getScrollY())},50),o[(d.isFullscreen()?"add":"remove")+"Class"](n.template,"quick-view-fs")},l.onGlobalClick=function($){let U=$.target.closest('.quick-view, media-item:not([disable-zoom="true"]), href[rel="quick-view"]');U&&(U.getAttribute("rel")=="quick-view"||U.nodeName==="MEDIA-ITEM")?n.elementArray.findIndex(ee=>ee.el==U)===-1&&n.close():U||n.close()},l.onGlobalTap=function($){$=$||window.event;var U=$.target||$.srcElement;if(!I){if($.detail&&$.detail.pointerType==="mouse"){if(ie(U)){n.close();return}if(o.hasClass(U,"quick-view-item")){if(_.disableZoom){let j=U.getFileType?.();if(j&&!n.currItem.autoplay&&(j.startsWith("vimeo")||j.startsWith("youtube")||j==="video"))return;n.close();return}if(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio){if(_.clickToCloseNonZoomable){n.close();return}}else n.toggleDesktopZoom($.detail.releasePoint)}}else if(_.tapToToggleControls&&(c?l.hideControls():l.showControls()),_.tapToClose&&(o.hasClass(U,"quick-view-item")||ie(U))){(!U.getFileType||U.getFileType?.()==="image")&&n.close();return}}},l.onMouseOver=function($){$=$||window.event;var U=$.target||$.srcElement;H(f,"ui--over-close",ie(U))},l.hideControls=function(){},l.showControls=function(){},l.toggleFullscreen=function(){d.isFullscreen()?d.exit():d.enter()},l.supportsFullscreen=function(){var $=document;return!!($.exitFullscreen||$.mozCancelFullScreen||$.webkitExitFullscreen||$.msExitFullscreen)},l.getFullscreenAPI=function(){var $=document.documentElement,U,j="fullscreenchange";return $.requestFullscreen?U={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:j}:$.mozRequestFullScreen?U={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+j}:$.webkitRequestFullscreen?U={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+j}:$.msRequestFullscreen&&(U={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),U&&(U.enter=function(){if(g=_.closeOnScroll,_.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},U.exit=function(){return _.closeOnScroll=g,document[this.exitK]()},U.isFullscreen=function(){return document[this.elementK]}),U}};return r})}).call(Wz)});var Vz=W((aTe,dse)=>{dse.exports={}});var gx={};ti(gx,{default:()=>mse,openQuickViewFromElement:()=>mx});function pse(t,e){return{imageSettings:t.siteDesign.images,settings:t.siteDesign.quick_view,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode}}function hse(t){return Pt({updateFrontendState:actions.updateFrontendState},t)}var rg,fx,jz,fse,mx,mse,ng=T(()=>{Ee();$e();pt();ai();Ei();_r();Re();js();Yo();$z();rg=he(xe(),1);ne();fx=class extends se{constructor(e){super(e),this.state={lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=me(),this.navigationRef=me(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,Promise.resolve().then(()=>he(Vz(),1)),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0}),ao&&this.hideArrows()};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{if(!this.state.showInterface&&!ao&&!this.state.pointerDown&&this.setState({showInterface:!0}),ao)return;let i=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===i||i&&i.contains(e.target))?this.hideInterface.cancel():!ao&&this.hideInterface()};isInAdmin=()=>Ai&&this.props.adminMode===!0;hideInterface=rg.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=rg.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){ao||document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){ao||document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,i){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),this.props.location!==e.location&&this.closeQuickView(),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({showInterface:!0,showArrows:!1}),!ao&&this.hideInterface()}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var r;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),r=!0):r&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{r=!1,r&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({showInterface:!1,showArrows:!0}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!0})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!rg.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{Rt.getState().frontendState?.quickView?.inited!==!1&&this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?m(re,{children:[m("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?m("div",{className:"quick-view nav",ref:this.navigationRef,children:[this.state.navigationElement?m("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?Ge(m(re,{children:[m("style",{children:`
								[part*="slideshow-nav"],
								.quick-view-caption {
									opacity: ${this.state.showInterface?"1":"0"};
								}
								${ao&&`
									[part*="slideshow-nav-next-button"],
									[part*="slideshow-nav-previous-button"]{
										opacity: ${this.state.showArrows?"1":"0"};
										${this.state.showArrows?"":"pointer-events: none !important;"}
								}`}
								
							`}),m("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?m(re,{children:[m("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:m("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),m("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:m("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,m("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:m("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let i=this.props.quickView.elementArray[e],r=!1,n=i?.el?.getAttribute?.("rel")==="quick-view";lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,showHideOpacity:n,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:o=>{let l=lightbox.activeGallery.template,u=window.getComputedStyle(l),c=parseInt(u.getPropertyValue("width")),d=parseInt(u.getPropertyValue("height"));this.props.updateFrontendState({quickView:{activeIndex:o}})}}),lightbox?.activeGallery?.listen("afterChange",o=>{if(!this.props.quickView.inited)return;this.props.updateFrontendState({quickView:{activeIndex:o}}),this.props.quickView.elementArray[o]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:!0}}))})};previewInAdmin=()=>{let i=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(r=>{let n=document.createElement("media-item"),o=document.createElement("span");return o.classList.add("caption-background"),o.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("width",r[0]),n.setAttribute("height",r[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:r[0],h:r[1],caption:o,hash:null,src:n.href,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(i,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};jz=ke(pse,hse)(fx),fse=(t="")=>{let e="none";if(t){let l=t.toLowerCase();if(l.endsWith(".mov")||l.endsWith(".mp4")||l.endsWith(".webm"))e="video";else if(l.endsWith(".png")||l.endsWith(".webp")||l.endsWith(".jpg")||l.endsWith(".jpeg")||l.endsWith(".gif")||l.endsWith(".avif")||l.endsWith(".apng")||l.endsWith(".svg"))e="image";else{e="url";var i,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(r);if(o&&o[3]){i=o[3];let u=t.split("/");u[u.length-1]!=i&&(i+="/"+u[u.length-1]),e="vimeo:"+i}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=t.match(n);o&&o[7].length==11&&(i=o[7],e="youtube:"+i)}}return e},mx=t=>{let e=Rt.getState();if(t&&t.nodeName!=="MEDIA-ITEM"&&(t=t.closest('a[rel="quick-view"]')||t),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let d=e.frontendState.quickView.elementArray.findIndex(f=>f.el==t);if(d!==-1){window.lightbox.activeGallery.goTo(d);return}}let i=t.closest(".page"),r=t.getAttribute("hash"),n=[],o=Ra(t,d=>d?.tagName?.startsWith("GALLERY-")),l=!1,u=t.closest("marquee-set");if(o){if(o.getAttribute("thumbnail-index")==="img:all")l=!0;else if(o&&o.getAttribute("disable-zoom")==="true")return;n=Array.from(o.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{i?n=Array.from(i.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let d=u&&t.closest('[slot="contents-clone"]');n=n.filter(f=>!Ra(f,g=>!!(g?.tagName?.startsWith("GALLERY-")||g.tagName==="MARQUEE-INNER"&&(g.slot==="contents-clone"&&!d||g.slot==="contents"&&d))))}n=n.filter(d=>{if(d.tagName!=="A")return!0;let f=d.getAttribute("href")||"";return!(f===""||f=="#"||f.indexOf("mailto:")==0||f.indexOf("tel:")==0)});let c=n.indexOf(t);Promise.all(n.map((d,f)=>new Promise(g=>{var v=!1,S=d?.querySelector("figcaption"),E=S?.innerHTML;S&&E!==""&&(v=document.createElement("span"),v.classList.add("caption-background"),v.innerHTML=E);let _=!1,P=!1,I=1,L=1,F=1600,z=1600,H=null,ie=null,X=!1,k="url",te=null,le=null;if(d.tagName==="MEDIA-ITEM"&&d.getAttribute("rel")!=="quick-view"){H=d.getAttribute("hash")||"",ie=d.getAttribute("src"),le=d.getAttribute("poster");var Y=d?.shadowRoot?.querySelector("video")?.getAttribute("poster");Y||(Y=d?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src")),Y=Y,k=d.getFileType(),X=H==="placeholder"&&!ie;let Q=screen.width,J=screen.height,V=Math.max(Math.ceil(screen.width/d._size.width),Math.ceil(screen.height/d._size.height));if(X)g({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,fileType:k,w:d._size.width*V,h:d._size.height*V,caption:v,hash:"placeholder",src:null,posterSrc:Y,autoplay:!1,usePlaceholder:!0,el:d,model:d.model});else{var K=null,D=()=>{switch(!0){case k==="url":H=null,_=!0,P=!0;break;case k.startsWith("youtube"):case k.startsWith("vimeo"):case k=="video":F=d._size.width*V,z=d._size.height*V;break;default:F=d._size.width*V,z=d._size.height*V;break}k.startsWith("youtube")||k.startsWith("vimeo")||k=="video"?d.getAttribute("autoplay")?g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:I,viewportHeightPercentage:L,fileType:k,w:F,h:z,caption:v,hash:H,src:ie,posterSrc:Y,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:I,viewportHeightPercentage:L,fileType:k,poster:d.getAttribute("poster"),w:F,h:z,caption:v,hash:H,src:ie,posterSrc:Y,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:I,viewportHeightPercentage:L,fileType:k,w:F,h:z,caption:v,hash:H,posterSrc:null,src:ie,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model})};D()}}else if(k=fse(d.getAttribute("href")),k.startsWith("vimeo")||k.startsWith("youtube")){let Q="";k.startsWith("vimeo")?Q="https://vimeo.com/api/oembed.json?url="+d.getAttribute("href")+"&width=640":Q="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+d.getAttribute("href"),fetch(Q,{mode:"cors"}).then(J=>{J.json().then(V=>{g({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:d.getAttribute("autoplay")=="true",fileType:k,w:V.width*20,h:V.height*20,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})})})}else if(k==="url"){let Q=Yc()&&d.href.indexOf(".pdf")>-1&&d.href.indexOf("docs.google.com/viewer")==-1,J=Q?`https://docs.google.com/viewer?url=${d.href}&embedded=true&chrome=false`:d.href;g({useViewportWidth:!0,useViewportHeight:!0,viewportWidthPercentage:I,viewportHeightPercentage:L,fileType:k,noLazyLoading:!!Q,w:1600,h:1e3,caption:v,hash:null,src:J,usePlaceholder:!1,el:d,model:d.model})}else{te=document.createElement("media-item");let Q,J=d.href.toLowerCase();te.onerror=function(){te?.remove(),g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:I,viewportHeightPercentage:L,autoplay:d.getAttribute("autoplay")=="true",fileType:k,w:1600,h:1e3,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},te.onload=V=>{clearTimeout(Q),V.onload=null;let oe=V.getFileType();if(d.hasAttribute("width")&&d.hasAttribute("height"))d.getAttribute("width").indexOf("%")>-1&&d.getAttribute("height").indexOf("%")>-1?(_=!0,P=!0,I=parseFloat(d.getAttribute("width"))/100,L=parseFloat(d.getAttribute("height"))/100):(F=parseFloat(d.getAttribute("width")),z=parseFloat(d.getAttribute("height")));else switch(!0){case oe==="url":_=!0,P=!0,X=!1;break;default:F=V._size.width,z=V._size.height;break}V.remove(),g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:I,viewportHeightPercentage:L,autoplay:d.getAttribute("autoplay")=="true",fileType:oe,w:F*1e3,h:z*1e3,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},te.setAttribute("style","position: fixed; top: -900px; left: -900px; width: 100px; height: 100px; overflow:hidden;"),te.setAttribute("force-visible",!0),document.body.appendChild(te),te.setAttribute("src",d.href)}}))).then(d=>{Rt.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:d,activeIndex:c===-1?0:c}}))})};jz.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};mse=Fn(jz)});var Gs,vx,yx,Gz=T(()=>{Ee();Re();Yo();Ua();ai();pt();Bt();Ei();Gs=he(xe(),1);Gm();dx();ue||(window.logSiteStructure=()=>{let t=window.store.getState(),e=t.structure.bySort,i=Object.keys(e);i.sort((n,o)=>e[n]-e[o]);let r={};i.forEach(n=>{let o=t.pages.byId[n]||t.sets.byId[n];r[n]={title:o.title,sort:e[n],index:t.structure.indexById[n],page_count:o.page_count}}),console.table(r)});vx=class extends se{constructor(e){super(e),this.state={},this.isMac=!1,ue||(Promise.resolve().then(()=>(ng(),gx)).then(({openQuickViewFromElement:i})=>{this.setState({openQuickViewFromElement:i})}),this.isMac=Kc())}handleGlobalClick=e=>{let i=e.target,r=i;if(i.shadowRoot?i=e.composedPath().find(o=>o.tagName==="A")||i:i.closest("a")&&(i=i.closest("a")),Ui.handleGlobalClick(i,r),!e.defaultPrevented&&i&&(i.nodeName==="A"||i.nodeName==="a")&&i.getAttribute("href")&&i.getAttribute("href")!==""){let o=i.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let l=i.getAttribute("href")||"",u=i.getAttribute("target"),c;switch(o){case"history":e.preventDefault();let d=this.props.store.getState(),f=Qe.getContentByPurl(store.getState(),l.replace(/\//,""));if(f?.overlay){Ui.toggleOverlay(f.id);return}c=i.getAttribute("data-tags");let g=!1;if(c?.length>0)l=c;else{let _=Qe.getHomepagePurl(d);l.toLowerCase()===_&&!d.sets.byId.root.stack&&(l="/")}l.startsWith("/")||(l="/"+l),l==="/contact-form"&&(g=!0),r.nodeName==="MEDIA-ITEM"&&r?.classList.contains("thumbnail")&&l.replace(/\//,"")===this.props.activePURL&&window.scrollTo(0,0),this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(l,"_blank"):this.props.history.push(l,{preventScrollReset:g});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadPrevPage();break;case"next_page":case"next-page":e.preventDefault(),this.loadNextPage();break;case"home_page":case"home-page":e.preventDefault(),this.props.history.push("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"top":e.preventDefault();let v=i.closest?.(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll");v?this.scrollToTop(v):(this.scrollToTop(document.scrollingElement),Gs.default.each(document.querySelectorAll(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll"),this.scrollToTop));break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"close-overlay":case"close_overlay":e.preventDefault();let S=r.closest("[page-url]")?.id;Ui.getOverlay(S)?Ui.closeOverlay(S):this.props.history.push("/");break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((i.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(i.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:_=>{this.props.updateFrontendState({alertModal:{header:_,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),tg().then(_=>{this.props.history.push("/cart",{preventScrollReset:!0})}).catch(_=>{console.warn(_)});break;case"filter-index":case"filter_index":e.preventDefault(),c=i.getAttribute("data-tags");let E=i.getAttribute("data-set");var n=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:c?"tag:"+c:E?"set:"+E:"all"}});i.dispatchEvent(n);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(l)):u!=="_blank"&&(e.preventDefault(),parent.location.href=l);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let i=document.querySelector(".content .pages .page");i?e=i.id:e=""}e?window.location.href="/edit/"+e:window.location.href="/edit"};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.zIndex="2147483647",i.style.position="fixed",i.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',i.style.backgroundSize="60%",i.style.transform="rotate(-30deg)",setTimeout(function(){i.style.transition="opacity 500ms",setTimeout(function(){i.parentNode.removeChild(i)},700),setTimeout(function(){i.style.opacity="0"})},1e3),document.body.appendChild(i)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{if(e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA"||e.target.closest?.('[contenteditable]:not([contenteditable="false"])'))return;let i=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadPrevPage()):e.keyCode===39&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNextPage()),e.which===27&&!e.metaKey&&!e.ctrlKey){if(i.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(i.frontendState.quickView.inited||i.frontendState.cartOpen||i.frontendState?.contactForm?.inited||i.frontendState.alertModal)return;if(!this.props.inAdminFrame){let r=Ui.getAllOverlays();r.length>0?Ui.closeOverlay(r[r.length-1].pid):this.props.history.location.pathname!=="/"&&this.props.history.push("/")}}}};componentDidMount(){ue||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){ue||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),i=[];if(Gs.default.each(e.sets.byId,o=>{if(o.stack&&o.id!=="root")o.page_count>0&&e.frontendState.activePID!==o.id&&i.push([o.id]);else{let l=Array.apply(null,{length:o.page_count}).map(Number.call,c=>[o.id,c]),u=Qe.getSetContentsByIndex(e,o.id);i=i.concat(l.filter(([c,d])=>{let f=u[d];return!(f&&(f.id===e.frontendState.activePID||f.id===e.site.homepage_id||f.id===e.site.mobile_homepage_id||f.page_type==="set"||f.pin===!0))}))}}),i.length===0)return;let r=i[Math.floor(Math.random()*i.length)],n=e.sets.byId[r[0]];r.length===2?this.props.fetchContent(n.id,{indexes:[r[1]],idType:"pid"}).then(o=>{o.data&&o.data[0]?this.props.history.push("/"+o.data[0].purl):this.loadRandomPage()}):r.length===1&&this.props.history.push("/"+n.purl)};doScroll=(e,i,r,n)=>{let l=i-r,u=l/(12*12);l!==0&&(n+=(n+u)/l);let c=Math.abs(r-i)<1,d=c?r+l:r+l*(-Math.pow(2,-20*n/1)+1);n>0&&e.scrollTo(0,d),c||requestAnimationFrame(()=>{this.doScroll(e,i,d,n)})};scrollToTop=e=>{let i=e.scrollTop,r=Math.round(i*.2);i>e.clientHeight?this.doScroll(e,0,r,0):this.doScroll(e,0,i,0)};loadNextPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"next"):this.props.fetchContent(i.id,{next:!0}).then(c=>{c?.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Gs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=Gs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<n.page_count&&(r++,r>=n.page_count&&(r=0),!!o.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(e.structure.indexById[d]!==null&&(c[e.structure.indexById[d]]=d),c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadNextPage()})};loadPrevPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"prev"):this.props.fetchContent(i.id,{prev:!0}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Gs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=Gs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<=n.page_count&&(r--,r<0&&(r=n.page_count-1),!!o.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(c[e.structure.indexById[d]]=d,c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadPrevPage()})};loadNearestContentNeighbor=(e,i)=>{let r=this.props.store.getState();if(i!=="next"&&i!=="prev")throw'direction needs to be "next" or "prev"';let n=Object.keys(r.structure.bySort).sort((c,d)=>r.structure.bySort[c]-r.structure.bySort[d]);i==="prev"&&n.reverse();let o=n.indexOf(e.id);if(o===-1)throw"Unable to locate current id in sort list";let l;for(let c=1;c<n.length+1;c++){let d=n[(o+c)%n.length],f=r.structure.byParent.hasOwnProperty(d);if(f&&r.sets.byId[d]?.stack===!0){l=d;break}else if(!f&&r.structure.indexById[d]!==null&&d!==r.site.homepage_id&&d!==r.site.mobile_homepage_id){l=d;break}}let u=r.pages.byId[l]||r.sets.byId[l];u?this.props.history.push("/"+u.purl):this.props.fetchContent(l,{idType:"pid"}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)})}},yx=bn(Fn(ke((t,e)=>{let i;return t.auth.data?.id&&(i=Gs.default.find(t.site?.editors,r=>r.id===parseInt(t.auth.data.id))?.role),{editorRole:i,adminMode:t.frontendState.adminMode,inAdminFrame:t.frontendState.inAdminFrame,activePID:t.frontendState.activePID,isInHomepagePreview:t.auth.previewing,activePURL:(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl}},t=>Pt({updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,addCommerceProductToCart:Fe.addCommerceProductToCart},t))(vx)))});var Kz=T(()=>{});var Yz=T(()=>{$e();Kz();ne()});var Xz=T(()=>{});var Zz,og,Jz=T(()=>{$e();Zz=he(xe());Yz();gf();Xz();ne();og=class extends se{constructor(e){super(e),this.ref=We.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(Zz.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return m("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[m("span",{className:"slide-message",children:this.props.slideMessage}),m("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),m("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?m(Zo,{className:"accent"}):null]})}}});var Qz=T(()=>{});var bx,wx,sg,e5=T(()=>{$e();bx=he(xe());Jz();gf();Qz();ne();wx=We.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null}),sg=class extends se{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=We.createRef(),this.inputRef=We.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let i=bx.default.defaults(e,this.modalDefaults),r=new Event("openAlertModal");window.dispatchEvent(r),i.onOpen&&i.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),i.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),window.addEventListener("keydown",this.onTabKeyDown),i.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...i},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),i.frontendData&&i.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let i=bx.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current){if(this.state.onConfirm){let i=this.inputRef.current.value;this.setState({existingValue:i},()=>{this.state.onConfirm(i)})}}else{let i={};i.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(i)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventCancel||this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let i=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&i&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",i=this.state.denyButton||"Cancel",r=this.state.header&&m("div",{className:"header",children:this.state.header}),n=this.state.message&&m("div",{className:"sub-message",children:this.state.message}),o=this.state.htmlHeader&&m("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),l=this.state.htmlMessage&&m("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),u=this.state.placeholder?this.state.placeholder:"",c=this.state.existingValue?this.state.existingValue:"",d=this.state.confirmButton!==!1&&m("button",{className:"confirm rounded",onClick:I=>this.confirmModal(I,null),children:[e,this.state.processConfirm?m(Zo,{className:"default-border-radius"}):""]}),f=!this.state.preventCancel&&m("button",{className:"deny rounded",onClick:this.denyModal,children:i}),g=this.state.children&&!this.state.wrapperlessChildren?m("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,v=()=>m(re,{children:[m("div",{className:"message",children:[r,n]}),m("div",{className:"opt-buttons",children:[f,d]})]}),S=()=>m(re,{children:[m("div",{className:"message",children:[r,n,o,l]}),m("div",{className:"input"}),m("div",{className:"buttons",children:d})]}),E=()=>m(re,{children:[m("div",{className:"message",children:[r,o,n,l]}),g,m("div",{className:"input"}),m("div",{className:"buttons",children:[f,d]})]}),_=()=>m(re,{children:[m("div",{className:"message",children:[r,n]}),m("div",{className:"input",children:this.state.maxInputLength?m("input",{type:"text",maxLength:this.state.maxInputLength,placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef}):m("input",{type:"text",placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef})}),m("div",{className:"buttons",children:[m("button",{className:"deny rounded",onClick:this.denyModal,children:"Cancel"}),m("button",{className:"confirm rounded",onClick:I=>this.confirmModal(I,null),children:"OK"})]})]}),P=()=>m(re,{children:[m("div",{className:"message",children:[r,n]}),this.state.checkBoxConfirmation?m("div",{className:"footer",children:m("label",{onClick:I=>{I.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,m("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,m("div",{className:"buttons",children:[this.state.cancelButton?m("button",{className:"deny rounded",onClick:this.cancelModal,children:"Cancel"}):null,m("button",{className:"deny rounded",onClick:this.denyModal,children:this.state.denyButton}),m("button",{className:"confirm rounded",onClick:I=>this.confirmModal(I,null),children:this.state.confirmButton})]})]});return m(wx.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal},children:[this.state.modalOpen?m(re,{children:[this.state.HotKeyProxy?m(re,{children:[this.state.type!=="slide-confirm"&&this.state.HotKeyProxy("enter","all",this.confirmModal),this.state.HotKeyProxy("escape","all",this.cancelModal)]}):null,m("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancel||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:this.state.customElement?this.state.customElement:m("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[this.state.type==="alert"&&m(v,{}),this.state.type==="notice"&&m(S,{}),this.state.type==="confirm"&&m(E,{}),this.state.type==="dialog"&&m(_,{}),this.state.type==="publish"&&m(P,{}),this.state.type==="custom"&&m(re,{children:[m("div",{className:"message",children:[r,n]}),g]}),this.state.type==="slide-confirm"&&m(re,{children:[m("div",{className:"message",children:[r,n,o,l,g]}),m("div",{className:"buttons",children:[m("br",{}),m("br",{}),m("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),m(og,{onConfirm:I=>this.confirmModal(I,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]})})]}):null,this.props.children]})}}});function vse(t,e){return{alertModal:t.frontendState.alertModal,adminMode:t.frontendState.adminMode}}function yse(t){return Pt({updateFrontendState:Fe.updateFrontendState},t)}var uMe,gse,bse,t5,i5=T(()=>{Ee();pt();ai();Bt();uMe=he(xe(),1);e5();ne();gse=({alertModal:t,adminMode:e,...i})=>m(sg,{children:m(wx.Consumer,{children:r=>{t&&!e&&r.openModal({...t,manuallyBindHotkeys:!0,onConfirm:n=>{i.onConfirm&&i.onConfirm(),i.updateFrontendState({alertModal:!1})},onClose:n=>{i.onClose&&i.onclose(),i.updateFrontendState({alertModal:!1})},onCancel:n=>{i.onCancel&&i.onCancel(),i.updateFrontendState({alertModal:!1})}})}})});bse=ke(vse,yse)(gse),t5=bse});var ag,xx=T(()=>{ag=(t,e=window)=>new Promise((i,r)=>{var n=e.document.getElementsByTagName("head")[0],o=e.document.createElement("link");o.rel="stylesheets",o.type="text/css",o.href=t,o.media="all",o.onload=i,o.onError=r,n.appendChild(o)})});var r5,n5,o5=T(()=>{xx();r5="https://api.cargo.site/v1/fonts/css?family=",n5=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();let n=e.join("%7C").replace(/[\. -]+/g,"");if(n+="&c=3",t.context==="server"){fetch(r5+n).then(async l=>{let u=await l.text();i(u)}).catch(r);return}let o=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});o.forEach(l=>t.context.document.body.appendChild(l)),ag(r5+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{o.forEach(u=>u.remove()),i()})}).catch(r)})});var wse,xse,s5,a5=T(()=>{xx();wse="https://fonts.googleapis.com/css?family=",xse=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],s5=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();if(t.context==="server")return r("Google fonts should only be loaded by the client");let n=e.map(l=>l.indexOf(":")===-1?l+":"+xse.join(","):l).join("%7C").replace(/ /g,"+"),o=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});o.forEach(l=>t.context.document.body.appendChild(l)),ag(wse+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{o.forEach(u=>u.remove()),i()})}).catch(r)})});var Sx,l5=T(()=>{o5();a5();Sx=t=>{if(!t)throw"No config given";t.context=t.context||window,t.active=t.active||function(){};let e=[];return e.push(s5(t,t.families?.reduce?.((i,r)=>(r.provider==="google"&&i.push(r.family),i),[]))),e.push(n5(t,t.families?.reduce?.((i,r)=>(r.provider==="cargo"&&i.push(r.family),i),[]))),Promise.all(e).catch(i=>{console.log("something went wrong while loading the site's fonts...",i)}).finally(i=>{t.active?.(i)})}});var u5,_x,Ex,Yd,Cx=T(()=>{Ee();$e();pt();u5=he(xe(),1);Re();Ei();Sr();ne();_x=new Set,Ex=class extends se{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=u5.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,i){let{model:r,adminMode:n,isZoomable:o,alt:l,hash:u,src:c,decoding:d}=e,f=e.width??r?.width??1600,g=e.height??r?.height??1600,v=this.state.src||this.blankURI;return _x.has(this.state.src)||(v=this.state.lastSrc||this.blankURI),v=this.props.isLazyLoadable?v:this.blankURI,It("img",{onClick:this.props.onClick,crossorigin:"",alt:l||null,src:v,width:f,height:g,className:`media${o?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,i){let r=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||r!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=(e,i)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let r=document.createElement("img"),n=()=>{r.onload=null,_x.has(r.src)?this.forceUpdate():(_x.add(r.src),this.state.src==r.src&&this.forceUpdate())};this.firstLoad?(r.decoding="async",r.onload=n,r.onerror=this.props.onError,r.src=e):(r.decoding="async",r.src=e,r.onerror=this.props.onError,r.decode().then(o=>{n()}).catch(o=>{n()}))};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,i=this.props.renderWidth,r=this.props.renderHeight,n=i<500?50:250,o=Math.ceil(i/n)*n,l=r<500?50:250,u=Math.ceil(r/l)*l;this.props.model&&o!==0&&u!==0&&(e=Ql({w:o,h:u},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(c=>e==c.src||!e?null:(this.firstLoad=!1,{lastSrc:c.src,src:e}))}},Yd=mn((t,e)=>{let i=t.model?.is_video&&t.model?.poster?t.model.poster:t.model;return i&&i.loading&&(i=null),m(Ex,{...t,model:i,mediaRef:e})})});var c5,il,Xd,Sse,rl,Zd,_se,Px,d5,p5=T(()=>{Ee();$e();c5=he(xe(),1);ne();il=new Set,Xd="unloaded",Sse=function(){if(window?.YT&&(Xd="loaded"),Xd==="unloaded"){let i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Xd="loaded",il.forEach(r=>{r.initYoutubePlayer()}),il.clear(),typeof i=="function"&&i()},Xd="loading";var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}Xd==="loaded"&&(il.forEach(i=>{i.initYoutubePlayer()}),il.clear())},rl=new Set,Zd="unloaded",_se=function(){if(window?.Vimeo&&(Zd="loaded"),Zd==="unloaded"){Zd="loading";var t=document.createElement("script");t.onload=()=>{Zd="loaded",rl.forEach(i=>{i.initVimeoPlayer()}),rl.clear()},t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}Zd==="loaded"&&(rl.forEach(i=>{i.initVimeoPlayer()}),rl.clear())},Px=class extends se{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1},wasInLazyLoadRange:e.isLazyLoadable},this.uid=c5.default.uniqueId(),this.html="",this.divRef=me()}render(e){let{src:i,width:r,height:n,model:o}=e;return m(re,{children:[e.adminMode?m("div",{style:{position:"absolute",zIndex:9999,pointerEvents:"auto",background:"transparent",inset:0}}):null,m("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})]})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let i="margin: auto; position: absolute;";i+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",i)};loadAPIPlayer=()=>{rl.delete(this),il.delete(this),this.props.fileType.startsWith("youtube:")?(il.add(this),Sse()):this.props.fileType.startsWith("vimeo:")&&(rl.add(this),_se())};initVimeoPlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),i=new window.Vimeo.Player(this.divRef.current,{id:e.length>1&&this.props.src?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});this.setState({apiPlayer:i},()=>{Promise.all([i.getVideoWidth(),i.getVideoHeight()]).then(r=>{i.on("loaded",()=>{i.element?.setAttribute("id","vimeo-player-"+this.uid),i.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),i.on("play",()=>{this.props.onPlay?.()}),i.on("pause",()=>{this.props.onPause?.()}),i.on("ended",()=>{this.props.onEnded?.()}),i.pause().then(i.setCurrentTime(0));var n=r[0],o=r[1];this.setState({nativeSize:{width:n,height:o}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((l,u)=>{this.props.muted||this.props.autoplay?this.state.apiPlayer.setVolume(0).then(()=>{this.state.apiPlayer.play().then(()=>{l(!0)}).catch(c=>{u(c)})}).catch(c=>{u(c)}):this.state.apiPlayer.play().then(c=>{l(!0)}).catch(c=>{u(c)})}),pause:()=>new Promise((l,u)=>{this.state.apiPlayer.pause().then(c=>{l(!0)})}),setCurrentTime:l=>new Promise((u,c)=>{this.state.apiPlayer.setCurrentTime(l).then(d=>{u(!0)})}),getCurrentTime:()=>new Promise((l,u)=>{this.state.apiPlayer.getCurrentTime().then(c=>{l(c)})}),setVolume:l=>new Promise((u,c)=>{this.state.apiPlayer.setVolume(l).then(d=>{u(!0)})}),getVolume:()=>new Promise((l,u)=>{this.state.apiPlayer.getVolume().then(c=>{l(c)})}),getDuration:()=>new Promise((l,u)=>{this.state.apiPlayer.getDuration().then(c=>{l(!0)})}),stop:()=>new Promise((l,u)=>{Promise.all([i.pause(),i.setCurrentTime(0)]).then(()=>{l(!0)})}),setPlaybackRate:l=>new Promise((u,c)=>{this.state.apiPlayer.setPlaybackRate(l).then(d=>{u(!0)})}),size:{width:n,height:o}})})})};initYoutubePlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("iframe"),i=this.props.fileType.replace("youtube:","");e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let r=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,n=this.props.fileType?.replace("youtube:","")||null,o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+r;n&&n.length>0&&(o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+n),fetch(o,{mode:"cors"}).then(l=>{l.json().then(u=>{let c=u.width*2||640,d=u.height*2||480;e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0");let f={autoplay:0,width:c,height:d,modestbranding:1,loop:this.props.loop,host:"https://www.youtube.com",controls:this.props["browser-default"]?void 0:0,disablekb:this.props["browser-default"]?1:0,enablejsapi:1,origin:window.location.origin,rel:0},g=Object.entries(f).filter(([S,E])=>E!==void 0).map(([S,E])=>S+"="+E).join("&");e.setAttribute("src","https://www.youtube.com/embed/"+i+"?"+g),this.setState({nativeSize:{width:c,height:d}}),this.setIframeStyles();let v=new YT.Player(e,{videoId:i,playerVars:f,events:{onReady:()=>{this.setState({nativeSize:{width:c,height:d}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((S,E)=>{this.state.apiPlayer.playVideo(),S(!0)}),pause:()=>new Promise((S,E)=>{this.state.apiPlayer.pauseVideo(),S(!0)}),stop:()=>new Promise((S,E)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:c,height:d},setCurrentTime:S=>new Promise((E,_)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(S,!1)}E(!0)}),getCurrentTime:()=>new Promise((S,E)=>{S(this.state.apiPlayer.getCurrentTime())}),setVolume:S=>new Promise((E,_)=>{S==0?this.state.apiPlayer.mute():this.state.apiPlayer.unMute(),this.state.apiPlayer.setVolume(S*100),E(!0)}),getVolume:S=>new Promise((E,_)=>{E(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((S,E)=>{S(this.state.apiPlayer.getDuration())}),setPlaybackRate:S=>new Promise((E,_)=>{this.state.apiPlayer.setPlaybackRate(S),E(!0)})})},onStateChange:S=>{switch(S.data){case YT.PlayerState.ENDED:this.props.onEnded?.();break;case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:v})})})};componentDidUpdate(e,i){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==i.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let r=this.divRef.current?.querySelector("iframe");r&&r.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}e.isLazyLoadable!==this.props.isLazyLoadable&&this.props.isLazyLoadable&&this.setState({wasInLazyLoadRange:!0}),(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted||i.wasInLazyLoadRange!==this.state.wasInLazyLoadRange)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&this.state.apiPlayer&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&this.state.apiPlayer&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){clearTimeout(this.initPlayerTimeout),il.delete(this),rl.delete(this)}},d5=mn((t,e)=>m(Px,{...t,mediaRef:e}))});var h5,Ix,f5,m5=T(()=>{Ee();pt();Cx();p5();Sr();Re();$e();h5=he(xe(),1);ne();Ix=class extends se{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((i,r)=>{r("null player play")}),pause:()=>new Promise((i,r)=>{r("null player pause")}),stop:()=>new Promise((i,r)=>{r("null player stop")}),getDuration:()=>new Promise((i,r)=>{r("null player getDuration")}),getCurrentTime:()=>new Promise((i,r)=>{r("null player getCurrentTime")}),setCurrentTime:()=>new Promise((i,r)=>{r("null player setCurrentTime")}),getVolume:()=>new Promise((i,r)=>{r("null player getVolume")}),setVolume:()=>new Promise((i,r)=>{r("null player setVolume")}),setPlaybackRate:()=>new Promise((i,r)=>{r("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,hasPlayedThrough:!1,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=me(),this.videoRef=me(),this.videoPlayerRef=me()}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e){let{model:i,posterModel:r,adminMode:n,isZoomable:o,alt:l,hash:u,src:c,fileType:d,decoding:f,"browser-default":g,"dynamic-src":v}=e,S=e.width??i?.width??1600,E=e.height??i?.height??1600,_=v||c||"",P=null;i&&(i.is_url?P=i.url:P="https://freight.cargo.site/i/"+i.hash+"/"+i.name);let I="";i?.loading||!P?I=_||"":I=P||"",d==="video"&&(I=this.props.isLazyLoadable?I:"");let L=null;r&&!r.loading?r.is_video&&r.poster?L=Ql({w:this.props.renderWidth},r.poster).url||"":L=Ql({w:this.props.renderWidth},r).url||"":i&&i.poster&&!i.poster.loading?L=Ql({w:this.props.renderWidth},i.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(L=this.props["dynamic-poster"]||this.props.poster||null,L=L.startsWith("https://")?L:""),L=this.props.isLazyLoadable?L:"";let F=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",z=!g;return m("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(F?" video-player"+F:""),ref:this.props.mediaRef,className:`media${o?" image-zoom":""}`,children:m("div",{className:"video-player-crop",children:[z?m(Yd,{ref:this.posterRef,src:L||this.blankURI,isZoomable:o,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:S,height:E,style:{transform:"rotate(1deg)"},part:"poster"+(F?" poster"+F:"")}):null,d==="video"?m("video",{ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted||this.props.autoplay,src:I,controls:g,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(F?" video"+F:""),poster:g?L:null,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,width:S,height:E}):m(d5,{...this.props,statusPartAppendix:F,fileType:d,ref:this.videoRef,loop:this.props.loop,width:S,height:E,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,onNewPlayer:this.onNewPlayer,src:I})]})})}componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&(this.props.loop||!this.state.hasPlayedThrough)&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.getVolume().then(e=>{this.play()})}).catch(e=>{clearInterval(this.autoplayInterval)})},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setVolume(0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,i){i.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||i.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(i.videoLoaded!==this.state.videoLoaded||i.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(i=>{i!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(r=>{})}).catch(r=>{})}).catch(i=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,i)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(r){i(r)})}),pause:()=>new Promise((e,i)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,i)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,i)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,i)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((i,r)=>{this.videoRef.current.currentTime===e?i(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{i(!0)},{once:!0}))}),getVolume:()=>new Promise((e,i)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((i,r)=>{this.videoRef.current.volume=e,e==0&&(this.videoRef.current.muted=!0),i(!0)}),setPlaybackRate:e=>new Promise((i,r)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),i(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!0,i.paused=!1,i.stopped=!1,i})};onPause=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!1,i.paused=!0,i})};onEnded=()=>{this.setState({hasPlayedThrough:!0})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({hasPlayedThrough:!1,paused:!0,stopped:!0},()=>{this.props.poster&&this.videoRef.current&&this.props["browser-default"]&&this.videoRef.current.load()})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&!this.state.playing&&this.play()}exitedView=h5.default.debounce(()=>{this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([e,i,r])=>{r-i<.1&&!this.props.loop&&this.resetVideoPlayer()})},500)},f5=mn((t,e)=>m(Ix,{...t,mediaRef:e}))});var lRe,Ax,g5,v5=T(()=>{Ee();pt();Sr();$e();lRe=he(xe(),1);ne();Ax=class extends se{constructor(e){super(e)}render(e){let{model:i,src:r,isLazyLoadable:n}=e,o=i?.is_url?i.url:r;return m("iframe",{part:"media iframe",allowfullscreen:!0,mozallowfullscreen:!0,webkitallowfullscreen:!0,frameborder:"0",className:this.props.loaded?"loaded":"",onload:this.onLoad,ref:this.props.mediaRef,src:n?o:""})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()};componentDidMount(){this.props.isLazyLoadable&&this.startGDocsLoadCheck()}componentDidUpdate(e,i){this.props.loaded!==e.loaded&&(clearInterval(this.gDocsTimeoutCheck),this.props.loaded||this.startGDocsLoadCheck()),this.props.isLazyLoadable!==e.isLazyLoadable&&(clearInterval(this.gDocsTimeoutCheck),this.props.isLazyLoadable&&this.startGDocsLoadCheck())}componentWillUnmount(){clearInterval(this.gDocsTimeoutCheck)}startGDocsLoadCheck=()=>{let e=this.props.model?.is_url?this.props.model.url:this.props.src;if(e.indexOf("https://docs.google.com/viewer")==0){let i=2500;this.gDocsTimeoutCheck=setInterval(()=>{this.props.mediaRef.current?.contentDocument?(this.props.mediaRef.current.setAttribute("src",""),this.props.mediaRef.current.setAttribute("src",e)):clearInterval(this.gDocsTimeoutCheck),i=i+500,i>4e3&&(console.warn("Google Docs Viewer failed to load"),clearInterval(this.gDocsTimeoutCheck))},i)}}},g5=mn((t,e)=>m(Ax,{...t,mediaRef:e}))});var Ks,Du,Tx,Mx,y5,b5=T(()=>{Ee();$e();qt();Re();zi();go();Ti();Ks=he(xe(),1);ne();Du=new Set,Tx=Ks.default.debounce(()=>{let t=Array.from(Du),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(c=>{let d;return c.state.selected?d=c.props.baseNode.getBoundingClientRect():d={top:-9e9},{component:c,rect:d}});e=Ks.default.sortBy(o,(c,d)=>c.rect.top);let l=e.filter(c=>c.component.state.selected),u=l[l.length-1].component.props.baseNode._size;r=l[l.length-1].rect.bottom+-l[0].rect.top+-u.mediaItemSize.padSize+-u.mediaSize.padSize,e=e.map(c=>c.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r},()=>{o.setEditorFrame()}),n=!0)})},100);ue||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",Tx):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",Tx)}),document.addEventListener("selectionchange",Tx));Mx=class extends se{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,overlayPosition:{x:0,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=ze.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=me(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,i){let{mediaItemEditorInfo:r,overlayPosition:n,resizeCorner:o,pointerAttention:l,pointerProxyAttention:u,disabledFigureOptions:c,editorFramePosition:d,editorMediaFramePosition:f,isResizing:g,dragStartPosition:v,dragDelta:S,scalingLimit:E,resizeDimensions:_,handlePos:P,mediaCornerPositions:I,cursorOrientation:L,partOfMultipleSelection:F,showMultipleSelectionButton:z,UIWindow:H,contextPos:ie}=i,{rotation:X,dimensions:k,mediaDimensions:te,baseNode:le,size:Y}=e;if(r?.disableAll==!0)return null;let K=_.width*_.overSize/Y.mediaSize.width,D=_.height*_.overSize/Y.mediaSize.height,Q=1/K||1,J=e.scale;g&&(_.displayScale?J=_.displayScale:_.scaleArray[1]=="px"?J=parseFloat(_.scaleArray[0]).toFixed(0)+_.scaleArray[1]+"":J=parseFloat(_.scaleArray[0]).toFixed(1)+_.scaleArray[1]+""),J=J==="100.0%"?"100%":J;let V=e.rotation+"\xB0",oe=null;(l||u)&&!r?.disableButton&&!H&&!g&&(z&&F?oe=m("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(ie.x*2)/2}px, ${Math.floor(ie.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!z&&!F&&(oe=m("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(ie.x*2)/2}px, ${Math.floor(ie.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:m("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),m("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),m("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let $=null;!g&&l&&!r?.disableResize&&!F&&($=m("button",{class:`resize-handle ${L}`,style:{transform:`translate(${Math.floor(P.x*2)/2}px, ${Math.floor(P.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:m("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[m("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),m("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let U=r?.additionalUI?.(this,le)||null;return m(re,{children:[m("style",{children:`:host {
				${g?"visibility: hidden!important;":""}
			}
			`}),m(qi,{baseNode:le,onSelectionChange:this.onSelectionChange}),Ge(m("div",{class:"editor-overlay",style:{height:Y.mediaItemSize.height+"px",width:Y.mediaItemSize.width+"px",display:l||g||u?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[m("div",{class:`figure-outline${this.state.usingLocalScale?" using-local-scale":""}`,style:{width:Y.mediaItemSize.width+"px",height:Y.mediaItemSize.height+"px",top:d.y+"px",left:d.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[g&&l&&m("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(ie.x*2)/2}px, ${Math.floor(ie.y*2)/2}px)`},children:m("div",{className:"tooltip-content",children:m("span",{children:`${this.props.limitBy}: ${J}`})})}),oe,$,U]}),m("div",{class:"media-ghost-container",style:{display:g?"block":"none",width:_.width+Y.mediaSize.padSize+"px",height:_.height+Y.mediaSize.padSize+"px",top:o===2||o===3?"0":"auto",right:o===1||o===2?"auto":"0",left:o===1||o===2?"0":"auto",bottom:o===2||o===3?"auto":"0"},children:m("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let i=[];Du.forEach(o=>{o.state.selected&&i.push(o.props.baseNode)}),i.indexOf(this.props.baseNode)===-1&&(i=[this.props.baseNode]);let r=this.props.baseNode.getBoundingClientRect(),n={x:r.x+10,y:r.y+10,left:r.left+10,right:r.right+10,top:r.top+10,bottom:r.top+10,width:r.width,height:0};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:i,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{let e=this.props.figCaptionElement;if(e){e.classList.contains("caption")||e.classList.add("caption");let i=Array.from(e.childNodes).every(r=>r.nodeType==Node.TEXT_NODE&&r.nodeValue.trim()==="");i&&!e.classList.contains("empty")?e.classList.add("empty"):!i&&e.classList.contains("empty")&&e.classList.remove("empty")}};componentDidMount(){Du.add(this),this.props.baseNode._editorInterface=this,this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),be.globalDragEventController.on("dragend",this.updatePosition),be.globalDragEventController.on("drop",this.updatePosition),this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(cancelAnimationFrame(this.onScrollAnimFrame),Du.delete(this),this.observer.disconnect(),be.globalDragEventController.off("dragend",this.updatePosition),be.globalDragEventController.off("drop",this.updatePosition),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],i=e.indexOf(this.props.baseNode);i>-1&&(e[i]=this.props.baseNode.__willBeReplacedWith);let r=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==r&&(r=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:r},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,ze.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}updatePosition=()=>{(this.state.pointerAttention||this.state.pointerProxyAttention||this.state.selected)&&this.onScroll()};onScroll=e=>{this.ticking||(this.ticking=!0,this.onScrollAnimFrame=requestAnimationFrame(()=>{let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(r),ze.testHover(),this.setEditorFrame(),this.ticking=!1}))};componentDidUpdate(e,i){this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),(!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)},{preventDraft:!0}),(this.props.src!==e.src||this.props.hash!==e.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")},{preventDraft:!0}),(this.state.UIWindow!==i.UIWindow||this.state.pointerAttention!==i.pointerAttention||this.state.pointerProxyAttention!==i.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&(this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),ze.testHover(),this.setEditorFrame())}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},i=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(i&&!i.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.hasAttribute?.("data-active-slide")){this.pointerOut();return}this.setState({mediaItemEditorInfo:e}),this.state.selected&&Du.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0},()=>{this.setEditorFrame()})};pointerOut=()=>{this.state.selected&&Du.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let i=this.props.mediaElement,r=this.mediaGhostRef.current;if(!i||!r||this.props.size.width?.indexOf?.("%")>-1)return;for(;r.lastChild;)r.lastChild.remove();if(i.tagName=="IMG"){let o=i.cloneNode(!0);o.setAttribute("decoding","sync"),r.appendChild(o)}else if(i.tagName==="VIDEO"&&i.hasAttribute("poster")){let o=document.createElement("img");o.setAttribute("decoding","sync"),o.setAttribute("src",i.getAttribute("poster")),r.appendChild(o)}else i.classList.contains("placeholder")?r.appendChild(i.cloneNode(!0)):r.appendChild(document.createElement("div"));let n=window.getComputedStyle(i);r.firstChild.style.border=n.getPropertyValue("border"),r.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),r.firstChild.style.padding=n.getPropertyValue("padding"),r.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:i,mediaCornerPositions:r,cursorOrientation:n}=this.state,{baseNode:o,rotation:l,limitBy:u,size:c}=this.props,d=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),f=0;if(d){let P=window.getComputedStyle(d);f=d.offsetWidth+-parseFloat(P.getPropertyValue("padding-left"))+-parseFloat(P.getPropertyValue("padding-right"))}else f=window.innerWidth;f=f+-c.mediaSize.padSize+-c.mediaItemSize.padSize;let g={x:e.clientX,y:e.clientY};e.preventDefault();let v=this.props.scale??100,S=Kt(v,u==="width"?"%":"rem");u!=="width"&&u!=="height"&&(S[1]=""),S[0]=parseFloat(S[0]),(S[0]===""||S[1].indexOf("calc(")>-1||S[1].indexOf("var(")>-1)&&(u==="width"?(S[0]=c.mediaSize.width/f*100,S[1]="%"):(S[0]=c.mediaSize.height/window.innerHeight*100,S[1]="vh"));let E=Math.min(S[0].toString().indexOf(".")>-1?S[0].toString().split(".").pop().length:0,3);S[0]=parseFloat(parseFloat(S[0]).toFixed(E));let _={width:c.mediaSize.width,height:c.mediaSize.height,atLimit:Math.abs(c.mediaSize.width-f)<2,scaleArray:S,scale:v,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(_=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,_)),this.setState({dragStartPosition:g,scalingLimit:f,dragDelta:{x:0,y:0},resizeDimensions:_,initialDimensions:{..._,scaleArray:[..._.scaleArray]},isResizing:!0},()=>{ze.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),be.adminWindow.addEventListener("mouseup",this.onPointerUp),be.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:i,mediaCornerPositions:r,scalingLimit:n,resizeCorner:o,handlePos:l,handleTrack:u,initialDimensions:c}=this.state,{rotation:d,limitBy:f,baseNode:g,size:v}=this.props,{resizeDimensions:S}=this.state,{scale:E,scaleArray:_}=c,P={x:e.clientX-i.x,y:e.clientY+-i.y},I=d*(Math.PI/180)||0,L=r[o],F=r[(o+1)%4],z=r[(o+2)%4],H=r[(o+3)%4],ie=this.getDistance(H,l),X=this.getDistance(z,l),k=parseInt(v.width),te=parseInt(v.height),le=45,Y=this.getAngle(H,L),K=this.getAngle(L,F),D={x:l.x+P.x,y:l.y+P.y},Q=[{x:l.x+Math.cos(K)*10,y:u.y+u.h+-le+Math.sin(K+Math.PI)*10},{x:l.x,y:u.y+u.h+-le}],J=[{x:l.x+Math.cos(Y)*10,y:u.y+u.h+-le+Math.sin(Y+Math.PI)*10},{x:l.x,y:u.y+u.h+-le}],V=0,oe=0,$=0,U,j;if(o%2==0){let Oe=this.getIntersection(Q,[F,z]),qe=this.getIntersection(J,[z,H]),ot=this.getDistance(z,l),je=this.getDistance(z,D),st=this.getAngle(z,D),Ie=this.getDistance(z,l);$=je/Ie;let lt=this.getDistance(z,Oe);oe=je/lt;let ut=Math.abs(Math.sin(st+I));oe*=ut;let ht=this.getDistance(qe,z);V=je/ht;let Ue=Math.cos(st+I);V*=Ue}else{let Oe=this.getIntersection(Q,[H,L]),qe=this.getIntersection(J,[L,F]),ot=this.getDistance(z,l),je=this.getDistance(z,D),st=this.getAngle(z,D),Ie=this.getDistance(z,l);$=je/Ie;let lt=this.getDistance(z,Oe);oe=je/lt;let ut=Math.abs(Math.sin(st+I));oe*=ut;let ht=this.getDistance(qe,z);V=je/ht;let Ue=Math.cos(st+I);V*=Ue}let ee=Math.max(V,$,oe),de=Math.min(v.mediaSize.width/k,v.mediaSize.height/te),fe=k/te;U=k*de*ee,j=te*de*ee;let ve=!1,Ae=1;if(U>n){let Oe=n/U;ve=!0,U=n,j=j*Oe}let _e=e.altKey||e.metaKey;f==="width"?([_,U]=this.scaleDimension(_,U+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.width+v.mediaSize.padSize+v.mediaItemSize.padSize,_e),U=U+-v.mediaSize.padSize+-v.mediaItemSize.padSize,j=U/fe):([_,j]=this.scaleDimension(_,j+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.height+v.mediaSize.padSize+v.mediaItemSize.padSize,_e),U=fe*(j+-v.mediaSize.padSize+-v.mediaItemSize.padSize),j=U/fe),_[0]=parseFloat(_[0]),S={scale:_.join(""),scaleArray:_,limitBy:f,width:U,height:j,atLimit:ve,overSize:Ae,displayScale:null},_[1]=="%"&&f=="width"&&parseFloat(_[0])>=100&&(S.scale="100%",S.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(S=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...S})),this.setState({resizeDimensions:S})};scaleDimension=(e,i,r,n)=>{let o=e[0]*(i/r),l=o;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?o=Math.round(o/.5)*.5:o=Math.round(o/10)*10:e[1]=="px"?o=Math.round(o):o=Math.round(o*10)/10,o=Math.max(1,o);let u=o/l||0;return[[o,e[1]],i*u]};onPointerUp=e=>{let{resizeDimensions:i,scalingLimit:r}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,i):this.props.baseNode.setAttribute("scale",i.scale),this.props.baseNode.flushMutationQueue()}),ze.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",be.adminWindow.removeEventListener("mouseup",this.onPointerUp),be.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};setEditorFrame=()=>{let{figureElement:e,mediaElement:i,sizingFrameElement:r,baseNode:n,rotation:o,size:l}=this.props;if(!e||!i||!i.parentElement||l.mediaItemSize.width==0||l.mediaItemSize.height==0||!r||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let u=o*(Math.PI/180)||0,c=n.getBoundingClientRect(),d={w:l.mediaItemSize.width*Math.cos(u)-l.mediaItemSize.height*Math.sin(u),h:l.mediaItemSize.width*Math.sin(u)+l.mediaItemSize.height*Math.cos(u)},v={x:c.left+(c.width-d.w)*.5+-0,y:c.top+(c.height-d.h)*.5+-0},S=r.getBoundingClientRect(),E=45,_=45,P=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,I={x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight};P&&(I.h=this.state.multiSelectHeight);let L=i.offsetLeft,F=i.offsetTop,z=i;for(;z&&z.parentNode&&z.parentNode!==n.shadowRoot&&z.parentNode!==e&&z.parentNode!==n;)L=L+z.offsetLeft,F=F+z.offsetTop,z=z.offsetParent;let H={x:L||0,y:F||0},ie=[{x:H.x,y:H.y},{x:H.x+l.mediaSize.width+l.mediaSize.padSize,y:H.y},{x:H.x+l.mediaSize.width+l.mediaSize.padSize,y:H.y+l.mediaSize.height+l.mediaSize.padSize},{x:H.x,y:H.y+l.mediaSize.height+l.mediaSize.padSize}],X=[];if(P)X=ie,X[2].y=H.y+this.state.multiSelectHeight,X[3].y=H.y+this.state.multiSelectHeight;else{let Ie={x:I.w*.5,y:I.h*.5};X=ie.map(lt=>{let ut={x:lt.x-Ie.x,y:lt.y-Ie.y},ht={x:ut.x*Math.cos(u)-ut.y*Math.sin(u),y:ut.x*Math.sin(u)+ut.y*Math.cos(u)};return{x:ht.x+Ie.x,y:ht.y+Ie.y}})}if(Ks.default.isEqual(X))return;let k,te,le,Y;k=Ks.default.minBy(X,Ie=>Ie.y);let K=X.indexOf(k);te=X[(K+1)%4],le=X[(K+2)%4],Y=X[(K+3)%4];let D={x:0,y:0,w:E,h:_},Q={x:0,y:0},J={x:k.x,y:k.y},V={w:te.x-Y.x,h:le.y-k.y,x:Y.x,y:k.y},oe=[{x:V.x+V.w*.5,y:V.y+V.h*.5},{x:V.x+V.w,y:V.y+V.h}],$=this.getIntersection(oe,[te,le]),U=this.getIntersection(oe,[Y,le]),j=!1,ee=Ks.default.minBy([U,$],Ie=>Ie.y<oe[0].y?9e9:Ie.y);if(ee==U)D.x=le.x,D.y=le.y;else{let Ie=this.getDistance(te,ee);this.getDistance(le,ee)<Ie?(D.x=le.x,D.y=le.y):(D.x=te.x,D.y=te.y,j=!0)}let de,fe=0,ve=0;if(j){let Ie=this.getAngle(te,k),lt=Math.PI-(Math.abs(Ie)+Math.PI*.5),ut=_*Math.cos(lt),ht=-Math.cos(lt+Math.PI*.5)*ut,Ue=-Math.sin(lt+Math.PI*.5)*ut;J={x:Y.x+-ht,y:Y.y+-Ue+_},D.x=D.x+ht+-E,de=D.y+Ue+_;let gt=[{x:k.x-E,y:de},{x:k.x-E,y:de-10}],Nt=[{x:k.x,y:de},{x:k.x,y:de-10}],_t=[this.getIntersection(gt,[Y,k]),this.getIntersection(gt,[k,te]),this.getIntersection(Nt,[Y,k]),this.getIntersection(Nt,[k,te])],Ht=Ks.default.maxBy(_t,Jt=>Jt.y);D.y=Ht.y,D.h=de-D.y;let nt=Math.max(0,S.bottom+(_+Ue)+-Ke.data.window.h+-(le.y-te.y));ve=D.h-_+-nt,fe=this.getIntersection([{x:D.x,y:D.y+ve},{x:D.x-10,y:D.y+ve}],[k,te]).x-D.x+-E}else{let Ie=this.getAngle(le,te),lt=Math.PI-(Math.abs(Ie)+Math.PI*.5),ut=E*Math.cos(lt),ht=-Math.cos(lt)*ut,Ue=-Math.sin(lt)*ut;if(de=D.y+Ue,D.x=D.x+ht,D.y=te.y,D.h=de-te.y,J={x:k.x+-ht+-E,y:k.y+-Ue},Math.abs(this.getSlope(te,le))>1&&S.bottom+Ue>=Ke.data.window.h){let Nt=S.bottom+-Ke.data.window.h,_t={x:le.x,y:le.y-Nt},Ht=this.getIntersection([_t,{x:_t.x+10,y:_t.y}],[le,te]);fe=Ht.x-(D.x+D.w),ve=Ht.y-D.y+-_}else{let Nt=[{x:D.x,y:de},{x:D.x,y:de-10}],_t=[{x:D.x+D.w,y:de},{x:D.x+D.w,y:de-10}],Ht=[this.getIntersection(Nt,[Y,k]),this.getIntersection(Nt,[k,te]),this.getIntersection(_t,[Y,k]),this.getIntersection(_t,[k,te])],nt=Ks.default.maxBy(Ht,Jt=>Jt.y);D.y=nt.y,D.h=de-D.y;let Wi=Math.max(0,S.bottom+-Ke.data.window.h+Ue);ve=D.h-_+-Wi,fe=0}}Q.x=D.x+fe,Q.y=Math.max(D.y,D.y+ve);let Ae=Math.max(0,S.left+S.width+-Ke.data.window.w);Q.x=Math.min(Q.x,te.x-(Ae+E));let _e=Math.min(0,S.left),Oe=Math.min(0,S.top);J.x=Math.max(J.x,-_e+Y.x),J.y=Math.max(J.y,-Oe+k.y);let qe=this.getIntersection([J,{x:J.x,y:J.y+10}],[Y,le]);J.y=Math.min(J.y,qe.y+-_);let ot=(K+2)%4;j&&(ot=(ot+3)%4);let je="nwse-resize",st=this.getAngle(Q,X[(ot+2)%4]);Math.abs(Math.PI*.5-st)<.4?je="ns-resize":Math.abs(Math.PI-Math.abs(st))<.4&&(je="ew-resize"),this.setState({mediaCornerPositions:X,resizeCorner:ot,contextPos:J,handlePos:Q,cursorOrientation:je,handleTrack:D,overlayPosition:v,editorMediaFramePosition:{x:H.x,y:H.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,i)=>Math.atan2(-(i.y-e.y),i.x-e.x);getDistance=(e,i)=>Math.sqrt(Math.pow(i.y-e.y,2)+Math.pow(i.x-e.x,2));getSlope=(e,i)=>(i.y-e.y)/(i.x-e.x);getIntersection=(e,i)=>{let r=this.getSlope(...e),n=this.getSlope(...i),o,l;return r==0?(isFinite(n)?o=(n*i[0].x-(i[0].y-e[0].y))/n:o=i[0].x,l=e[0].y):isFinite(r)?(o=(n*i[0].x-r*e[0].x-(i[0].y-e[0].y))/(n-r),l=r*(o-e[0].x)+e[0].y):(o=e[0].x,l=n*(o-i[0].x)+i[0].y),isFinite(o)||(o=null),isFinite(l)||(l=null),{x:o,y:l}}},y5=Mx});function Ese(t){return Pt({updateFrontendState:actions.updateFrontendState},t)}var w5,Jd,lg,Cse,Pse,x5=T(()=>{Ee();$e();ai();pt();w5=he(xe(),1);Re();_r();Fi();ng();Ei();Cx();m5();v5();Ji();b5();Ya();ne();Ee();ue||(Jd=new ResizeObserver(function(t){t.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let i=0,r=0,n=0,o=0,l=0,u=0,c=0,d=0,f=0,g=0,v=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!v)e.borderBoxSize.length?(i=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(i=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,r=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let S=window.getComputedStyle(e.target);n=parseFloat(S.getPropertyValue("padding-left"))||0,o=parseFloat(S.getPropertyValue("padding-right"))||0,l=parseFloat(S.getPropertyValue("border-right-width"))||0,u=parseFloat(S.getPropertyValue("border-left-width"))||0,c=parseFloat(S.getPropertyValue("padding-top"))||0,d=parseFloat(S.getPropertyValue("padding-bottom"))||0,f=parseFloat(S.getPropertyValue("border-bottom-width"))||0,g=parseFloat(S.getPropertyValue("border-top-width"))||0,i=c+d+g+f,r=n+o+l+u}Mt(e.target,"elementResize",{padSize:r,vertPadSize:i,horizPadSize:r,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:o,leftBorder:l,rightBorder:u,topPad:c,bottomPad:d,bottomBorder:f,topBorder:g},{bubbles:!1})})}));lg=class extends _i{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,scrollTransitionDisabled:!1,slottedMediaNode:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,viewportIntersection:{hasLayout:!1,visible:!1,position:"unknown"},isLazyLoadable:!1,loaded:!1},this.uid=w5.default.uniqueId(),this.figureRef=me(),this.mediaRef=me(),this.lastMediaRef=me(),this.figCaptionRef=me(),this.sizingFrameRef=me(),Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1e3,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_nativeMediaDimensions",{get:()=>({width:this.state.nativeMediaDimensions.width??1600,height:this.state.nativeMediaDimensions.height??1600}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let i=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:n=>{this.onloadCallback=n,this.state.loaded&&n&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=i;let r=this.props.baseNode.onerror;Object.defineProperty(this.props.baseNode,"onerror",{get:()=>this.onErrorCallback,set:n=>{this.onErrorCallback=n},configurable:!0}),this.props.baseNode.onerror=r,this.props.baseNode._setZoomStatus=n=>{this.setState(o=>o.zoomTemporarilyDisabled===n?null:{zoomTemporarilyDisabled:n})},this.props.baseNode._setScrollTransitionStatus=n=>{this.setState(o=>o.scrollTransitionDisabled===n?null:{scrollTransitionDisabled:n})},this.props.baseNode._forceRedraw=n=>{this.setState({forceRedraw:Math.random()})},this.props.baseNode.getFileType=this.getFileType}handleClick=e=>{if(e?.defaultPrevented)return;let i=e.composedPath();if(i.find(d=>d.tagName==="A"))return;let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),o=!1,l=window.getSelection();if(l&&l.rangeCount>0&&!this.props.adminMode){let d=l.getRangeAt(0);d&&d.commonAncestorContainer&&!d.collapsed&&this.props.baseNode.contains(d.commonAncestorContainer)&&(o=!0)}if(n&&!o&&!this.props.adminMode){n.click();return}let u=this.getFileType(),c=this.isZoomable();if((u==="video"||u.startsWith("vimeo")||u.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!c){if(i.some(d=>d.nodeName=="VIDEO"||d.nodeName==="IFRAME")&&this.props["browser-default"])return;e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!c||o||!i.find(d=>d&&d.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),mx(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:i,"dynamic-src":r}=this.props;if(i=r||i,this.props["dynamic-filetype"]!==void 0&&this.props["dynamic-filetype"]!==null)return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video?n="video":e.is_url&&(n="url",e.url_type&&!e.url_id?n=e.url_type:e.url_id&&e.url_type&&(n=e.url_type+":"+e.url_id));else if(i){let f=i.toLowerCase();if(f.endsWith(".mov")||f.endsWith(".mp4")||f.endsWith(".webm"))n="video";else if(f.endsWith(".png")||f.endsWith(".webp")||f.endsWith(".jpg")||f.endsWith(".jpeg")||f.endsWith(".gif")||f.endsWith(".avif")||f.endsWith(".apng")||f.endsWith(".svg"))n="image";else{n="url";var o="",l=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,d=i.match(l);if(d&&d[0]){let g=d[0].split(/\/|\?h=|&|\?/);for(var u=0;u<g.length;u++)!g[u].includes(":")&&!g[u].includes(".")&&!g[u].includes("vimeo")&&!g[u].includes("=")&&!g[u].includes("video")&&!g[u].includes("showcase")&&!g[u].includes("player")&&g[u].length>3&&(o.length==0?o=g[u]:o+="/"+g[u]);n="vimeo:"+o}var c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=i.match(c);d&&d[7].length==11&&(o=d[7],n="youtube:"+o)}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,i,r){let{dimensions:n,mediaDimensions:o,viewportIntersection:l,loading:u,nativeMediaDimensions:c,scrollTransitionDisabled:d}=i,{rotation:f,drag:g,"force-visible":v,"dynamic-src":S,adminMode:E,imageSettings:_,pageInfo:P,width:I,height:L,baseNode:F,model:z,posterModel:H,href:ie,src:X,hash:k,isMobile:te}=e,le=v??this.state.isVisible,Y=v??this.state.isLazyLoadable,{uid:K}=this,D=this.props.scale!==void 0?this.props.scale:te&&_.mobile_image_width_maximize?"100%":_.scale,Q=this.props["limit-by"]!==void 0?this.props["limit-by"]:te&&_.mobile_image_width_maximize?"width":_.limit_by;X=S||X;let J=I??z?.width??c.width??1600,V=L??z?.height??c.height??1e3,oe=Kt(D,Q=="height"?"rem":"%"),$=V/J,j=o.width*$,ee=o.horizPadSize+n.horizPadSize,de=o.vertPadSize+n.vertPadSize,fe=o.width+o.horizPadSize,Ae=(j+o.vertPadSize)/fe,_e=oe.join(""),Oe,qe=null;isNaN(Ae)&&(Ae=V/J);let ot=J.toString().trim().endsWith("%"),je=V.toString().trim().endsWith("%"),st=Kt(J,"%"),Ie=Kt(V,"%");if(ot&&je)Q==="width"||Q=="height"?(_e=`calc(${st[0]*.01} * var(--resize-parent-width, 100%) )`,qe=`calc( var(--fit-height) * ${Ie[0]*.01} )`,Oe="var(--custom-fit-height)"):(_e=`calc(${st[0]*oe[0]*1e-4} * var(--resize-parent-width, 100%) )`,qe=`calc( var(--fit-height) * ${Ie[0]*oe[0]*1e-4} )`,Oe="var(--custom-fit-height)");else if(Q=="height")if(je)qe=`calc( var(--fit-height) * ${Ie[0]*.01} )`,Oe="var(--custom-fit-height)",_e=`${st[0]*.01}px`;else{let nt="";oe[1]=="%"?nt=`( ${oe[0]*.01} * var(--resize-parent-width, 100%) )`:oe[1].indexOf("calc(")>-1?(oe[1]=oe[1].replace(/[\d*\.]+%/g,function(Wi){return`( ${Kt(Wi,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),nt=oe[1].replace("calc(","(")):nt=oe.join(""),ot?(_e=`calc( ${st[0]*.01} * var(--resize-parent-width, 100%) )`,Oe=`calc( ${nt} )`):(_e=`calc( ( ${nt} - ${de}px ) * ( 1 / ${$} ) + ${ee}px )`,Oe=Ae*100+"%")}else Q==="width"?ot?(_e=`calc( ${st[0]*.01} * var(--resize-parent-width, 100%) )`,Oe=`${Ie[0]}px`):(oe[1]=="%"?_e=`calc(${oe[0]*.01} * var(--resize-parent-width, 100%) )`:(oe[1].indexOf("calc(")>-1&&(oe[1]=oe[1].replace(/[\d*\.]+%/g,function(nt){return`( ${Kt(nt,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),_e=oe.join("")),je?(qe=`calc( var(--fit-height) * ${Ie[0]*.01} )`,Oe="var(--custom-fit-height)"):Oe=Ae*100+"%"):ot?(_e=`calc(${st[0]*oe[0]*1e-4} * var(--resize-parent-width, 100%) )`,qe=`calc( min( var(--fit-height) * ${oe[0]*.01} , ${Ie[0]*oe[0]*.01}px ) )`,Oe="var(--custom-fit-height)"):je?(_e=`calc( min( ${oe[0]*.01} * var(--resize-parent-width, 100%) , ${st[0]*oe[0]*.01}px ) )`,qe=`calc(  var(--fit-height) * ${oe[0]*Ie[0]*1e-4}  )`,Oe="var(--custom-fit-height)"):(_e=`calc( ( ( var(--fit-height, 50vh) * ${oe[0]/100} ) - ${ee}px ) * ( 1 / ${$} ) + ${ee}px )`,Oe=Ae*100+"%");let lt=_?.scroll_animation&&e["disable-scroll-animation"]!==!0&&!d&&this.props.scrollContext.scrollUid!=="default",ut=this.props.uses||"";ut.indexOf("scroll-transition")===-1&&lt&&(ut=ut+" scroll-transition");let ht=null,Ue=this.getFileType()||"",gt=this.isZoomable(),Nt=e.autoplay&&e.muted;switch(!0){case(!Nt&&gt&&Ue.startsWith("youtube")&&H&&!e["browser-default"]):case(!Nt&&gt&&Ue.startsWith("vimeo")&&H&&!e["browser-default"]):case(!Nt&&gt&&Ue==="video"&&H&&!e["browser-default"]):case(gt&&Ue==="url"&&H):ht=m(Yd,{...e,model:H,isZoomable:gt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:Y,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Ue=="video":case Ue.startsWith("vimeo:"):case Ue.startsWith("youtube:"):ht=m(f5,{...e,baseNode:this.props.baseNode,isZoomable:gt,ref:this.mediaRef,onLoad:this.onLoad,visible:le,fileType:Ue,isLazyLoadable:Y,renderWidth:n.width,renderHeight:n.height,src:X});break;case Ue=="image":ht=m(Yd,{...e,isZoomable:gt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:Y,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Ue=="url":ht=m(g5,{...e,loaded:this.state.loaded,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:Y,src:X});break;default:ht=m("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1000",draggable:"true",children:m("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[m("rect",{part:"placeholder-rect"}),m("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}let _t=m("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:ht},"media-slot-key"),Ht=m(re,{children:[m("style",{id:"media-item",children:`
:host {
	 ${this.state.forceRedraw?`/* ${this.state.forceRedraw} */`:""}
	${!E&&ie&&ie!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${_e||"100%"};
	${qe?`--custom-fit-height: ${qe};`:""}
	transform-origin: center center;
	margin: 0;
	padding: 0;
	z-index: var(--z-index, initial);    
}
 :host, * {
	box-sizing: border-box;
}
a {
	cursor: inherit;
}

figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain;
}
:host([image-fit="fill"]) {
	--object-fit: cover;
}
:host([image-fit="stretch"]) {
	--object-fit: fill;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

[part*="media"]:-webkit-full-screen,
[part*="media"]:fullscreen,
[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain!important;
}


.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${Oe});
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/*
	for URL fileType and default setup for iframe-videos
*/
iframe {
	opacity: 0;
	pointer-events: ${!E&&!this.props.href&&!gt?"auto":"none"};
}

iframe.loaded {
	opacity: 1;
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${o.leftPad+o.leftBorder}px;
	border-right-width: ${o.rightPad+o.rightBorder}px;
	border-top-width: ${o.topPad+o.topBorder}px;
	border-bottom-width: ${o.bottomPad+o.bottomBorder}px;
	top: ${-o.topBorder}px;
	left: ${-o.leftBorder}px;
	right: ${-o.rightBorder}px;
	bottom: ${-o.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}

[part*="video"] iframe[part*="iframe"] {
	opacity: 1;
}

[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}
${e["browser-default"]?`[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
`:""}	
[part*="poster-stopped"]{
	opacity: 1;
}
${u?`[part*="media"] {
	opacity: 0;
}`:""}

${E?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${P.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),m(Sn,{uses:ut,visibility:l,onLazyLoadChange:this.onlazyLoadChange,adminMode:E,customElementMode:!0,baseNode:F,children:m("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,children:[m("div",{part:"frame",className:"frame",children:this.props.href!==void 0?m("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:_t}):m("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:_t})}),m("slot",{name:"caption"})]})},"media-host"),P.isEditing&&E&&It(y5,{...this.props,fileType:Ue,limitBy:Q,width:I,height:L,rotation:f||0,scale:D,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:F,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid})]},"media-item-fragment");return Ge(Ht,F.shadowRoot)}onViewportIntersectionChange=e=>{this.state.viewportIntersection?.position!==e.position?this.setState({isVisible:e.position==="inside",viewportIntersection:e}):(this.state.viewportIntersection.hasLayout!==e.hasLayout||this.state.viewportIntersection.visibility!==e.visibility)&&this.setState({viewportIntersection:e})};onLazyloadIntersectionChange=e=>{let i=e.position==="inside";this.state.isLazyLoadable!==i&&this.setState({isLazyLoadable:i})};onMediaSlotChange=e=>{let i=e.target.assignedNodes();i[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(i[0].getAttribute("width"))||null,height:parseFloat(i[0].getAttribute("height"))||null},slottedMediaNode:i[0]}),this.mediaRef.current=i[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let i=parseFloat(e.getAttribute("width"))||null,r=parseFloat(e.getAttribute("height"))||null;i&&r&&this.state.nativeMediaDimensions.width!==i&&this.state.nativeMediaDimensions.height!==r&&this.setState({nativeMediaDimensions:{width:i,height:r}}),Xt(e,"elementResize",this.onMediaResize),Jd.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),ii(e,"elementResize",this.onMediaResize),Jd.unobserve(e))};componentDidMount(){if(ue)return;this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked");let e=this.props["dynamic-src"]||this.props.modelSrc||this.props.src;this.props.hash==="placeholder"&&!e&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Xt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Xt(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,Jd.observe(this.props.baseNode)}componentWillUnmount(){ue||(cancelAnimationFrame(this.itemResizeAfterModelChange),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ii(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),ii(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),Jd.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,i){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let r=this.getFileType();(r.startsWith("vimeo")||r.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==i.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&!(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.state.nativeMediaDimensions.width!==i.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==i.nativeMediaDimensions.height||this.state.dimensions.width!=i.dimensions.width||this.state.dimensions.height!=i.dimensions.height||this.state.dimensions.padSize!=i.dimensions.padSize||this.state.mediaDimensions.padSize!=i.mediaDimensions.padSize)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),e.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onSetZoomDisabled=e=>{};onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let i=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(i&&!i.contains(e.target)||!i)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(i=>e&&(e.width!==i.nativeMediaDimensions.width||e.height!==i.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};lg.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,"disable-scroll-animation":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};Cse=Wt(ke((t,e)=>{let i=e["dynamic-hash"]||e.hash||null,r=i?Qe.getMediaByHash(t)[i]:null;e.model&&(r=e.model);let n=e.poster||null,o=null,l;return e.posterModel?o=e.posterModel:n&&!n.includes?.(".")&&(o=Qe.getMediaByHash(t)[n]||null),{posterModel:o,model:r,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...t.siteDesign.images}}},Ese)(lg)),Pse=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","rotation","limit-by","disable-zoom","disable-scroll-animation","scale","hash","src","force-visible","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];ri(Cse,"media-item",Pse)});var Ise,Lu,ug=T(()=>{Ise=he(xe(),1),Lu=(t,e,i)=>{let r=window.devicePixelRatio>1,n=i/t-e*((t-1)/t);n=Math.max(n,1);let o=[];n*t+e*(t-1)>i+.001&&(e=Math.floor(i/(t-1)-n));let u=r?Math.round(e*2)/2:Math.round(e);for(let c=0;c<t;c++){let d={left:n*c+e*c,right:n*c+e*c+n};c<t-1?d.right=r?Math.round(d.right*2)/2:Math.round(d.right):d.right=i,c>0&&(d.left=o[c-1].right+u),o.push(d)}return{columnAndGutterMap:o,columnWidth:n,gutterPixelWidth:u,halfPixels:r}}});var WRe,Rx,S5,_5=T(()=>{Ee();WRe=he(xe(),1);qt();Ru();ne();Rx=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,"vertical-align":n}=e,o=!!e?.["blog-gallery"],l=o?!0:!!this.props.disableResize,u=o?!0:!!e?.["disable-button"];return m(wo,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:l,disableButton:u,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:r,onCleanUp:(c,d,f,g,v,S)=>{f.forEach(E=>{E.getAttribute("grid-vertical-align")===n&&E.removeAttribute("grid-vertical-align"),E.getAttribute("grid-span")===1&&E.removeAttribute("grid-span")}),d.forEach(E=>{E&&(E.classList.remove("last-column"),E.classList.remove("last-row"),E.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(c,d,f,g,v,S)}})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let l=i[o+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},S5=Rx});var cg,_n,dg,Nx,pg=T(()=>{Ee();$e();pt();Bs();Nu();Re();ug();$s();Fi();Ti();_5();cg=he(xe(),1);Ji();ne();_n={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};_n.mediaItemDefaults=at(_n.mediaItemOptions);_n.defaults=at(_n.options);_n.mobileDefaults=at(_n.mobileOptions);dg=class extends se{constructor(e){super(e),this.state={isMobile:Ke.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=cg.default.uniqueId(),this.paginationWatcherRef=me(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+100;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o}=e,{isMobile:l,gutterWidth:u,gutterHeight:c,hasSizes:d}=i,{elWidth:f}=i;d||(f=this.props.baseNode.offsetWidth);let g=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(g=this.props.verticalAlign);let v=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;v=Math.max(1,parseInt(v))||1;let E=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),_=(E.length>1,E[0]);_=Kt(_,"rem"),_[1]=="rem"&&l&&(_=["","calc( var(--mobile-padding-offset, 1) * "+_.join("")+" )"]);let P=E.length>1?E[1]:E[0];P=Kt(P,"rem"),P[1]=="rem"&&l&&(P=["","calc( var(--mobile-padding-offset, 1) * "+P.join("")+" )"]);let{columnAndGutterMap:I,columnWidth:L,gutterPixelWidth:F}=Lu(v,u,f),z=this.getMediaItems(),H=[],ie=0,X=0,k=l&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);z.forEach((D,Q)=>{if(Q>this.state.renderLimit)return;H[ie]||(H[ie]=[]);let J=k?1:parseInt(D.getAttribute("grid-span"))||1;X%v+J>v&&(J=v-X%v);let V=D.getAttribute("grid-vertical-align")||null;H[ie].push({index:Q,spans:J,hasOrphans:!1,verticalAlign:V,el:D}),X=X+J,X%v==0&&ie++,X%v!=0&&Q==z.length-1&&(H[H.length-1].hasOrphans=!0)});let te=z.length%v,le=[],Y=[];H.forEach((D,Q)=>{let J=cg.default.sumBy(D,de=>de.spans),V=0,oe=[],$=0,U=0,j=D.map((de,fe)=>{let ve=de.spans,Ae=de.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},_e=V,Oe=V+ve+-1,qe=L*ve+u*(ve-1),ot=(qe+-Ae.mediaItemSize.horizPadSize+-Ae.mediaSize.horizPadSize)/Ae.width||1,je=Math.round(Ae.height*ot+Ae.mediaSize.vertPadSize)||300;qe=I[Oe].right-I[_e].left,V+=ve,$=Math.max($,je);let st={},Ie=` --grid-width: ${qe}px;`;return st.orphanedItem=D.hasOrphans,fe===D.length-1?(st.lastColumn=!0,de.index<z.length-1&&(Ie=` --grid-width: ${f-U}px;`),U=0):(fe==0&&(st.firstColumn=!0),U=U+qe+u),Q==H.length-1&&(st.lastRow=!0),st.gridItemPixelHeight=je,st.gridItemPixelWidth=qe,st.gridWidthStyle=Ie,st});var ee=cg.default.maxBy(j,de=>de.gridItemPixelHeight);$=ee.gridItemPixelHeight,D.forEach((de,fe)=>{let ve=j[fe],Ae=0,_e=g;switch(de.verticalAlign){case"top":case"center":case"bottom":_e=de.verticalAlign;break}switch(_e){case"top":Ae=0;break;case"center":Ae=($-ve.gridItemPixelHeight)*.5;break;case"bottom":Ae=$-ve.gridItemPixelHeight;break}let Oe=`margin-top: ${Ae}px; --frame-padding: ${ve.gridItemPixelHeight}px; ${ve.gridWidthStyle}`,qe=Q==0?" first-row":ve.lastRow?" last-row":"",ot=ve.firstColumn?" first-in-row":ve.lastColumn?" last-in-row":"",je="row-"+Q+"-"+de.index+qe+ot;le.push({slot:je,itemResize:this.onItemResize,"limit-by":null}),Y.push({slot:je,style:Oe,itemStatuses:ve})})}),z.forEach((D,Q)=>{let J=le[Q]||{slot:null},V=D._props||{};xo(D,{...V,...J},V,!1,!1)});let K=[];return H.forEach((D,Q)=>{K.push(m("div",{part:Q==0?"first-row":Q===H.length-1?"last-row":"row",className:`row ${D.hasOrphans?"has-orphans":""}`,children:D.map(J=>m("slot",{name:le[J.index].slot},"slot-"+Q+"-"+J.index))},"row-"+Q))}),m(re,{children:[this.props.children,Ge(m(re,{children:[m("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${F}px;
							--grid-gutter-height: ${c}px;
							--grid-columns: ${v};
							margin-top: calc(var(--gutter-expand, 0) * ${c}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${Y.map((D,Q)=>`::slotted(media-item[slot="${D.slot}"]) {
								${D.style}
								${D.itemStatuses.lastColumn&&!D.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${D.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${D.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${f}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${l&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${r?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),m(Dr,{values:{elWidth:"100%",gutterWidth:_.join(""),gutterHeight:P.join("")},onResize:this.onResize}),r&&o.isEditing&&!ue&&m(S5,{...e,disableResize:k,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:I}),K,m("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){Ke.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){Ke.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})}};dg.defaultProps={"show-tags":!0,"show-title":!0,columns:_n.defaults.columns.value,gutter:_n.defaults.gutter.value,"vertical-align":_n.defaults["vertical-align"].value,"horizontal-align":_n.defaults["horizontal-align"].value};Nx=Wt(So(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(dg)));ri(Nx,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var hNe,kx,E5,C5=T(()=>{Ee();hNe=he(xe(),1);qt();Ru();ne();kx=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,elHeight:l,disabledAttributes:u}=e;return m(wo,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:r,mediaItemEditorInfo:{disableResize:this.props.disableResize,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:u})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let l=i[o+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},E5=kx});var Ox,Eo,hg,Ase,Dx=T(()=>{Ee();$e();pt();Bs();Re();ug();$s();Nu();Fi();C5();Ti();Ox=he(xe(),1);Ji();ne();Eo={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};Eo.mediaItemDefaults=at(Eo.mediaItemOptions);Eo.defaults=at(Eo.options);Eo.mobileDefaults=at(Eo.mobileOptions);hg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:Ke.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,i){let{gutterWidth:r,gutterHeight:n,isMobile:o,hasSizes:l}=i,{baseNode:u,adminMode:c,pageInfo:d}=e,{elWidth:f}=i;l||(f=this.props.baseNode.offsetWidth);let v=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),S=(v.length>1,v[0]);S.includes("rem")&&o&&(S="calc( var(--mobile-padding-offset, 1) * "+S+" )");let E=v.length>1?v[1]:v[0];E.includes("rem")&&o&&(E="calc( var(--mobile-padding-offset, 1) * "+E+" )");let _=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;_=Math.max(1,parseInt(_))||1;let{columnAndGutterMap:P,columnWidth:I,gutterPixelWidth:L,halfPixels:F}=Lu(_,r,f),z=Array.from(u.children).filter(V=>V.tagName=="MEDIA-ITEM"),H=[],ie=[],X=[],k=[],te=0;te=(f-(_-1)*r)/_;for(let V=0;V<Math.min(z.length,_);V++)H[V]=[],k[V]=[];for(let V=0;V<_;V++)ie[V]={height:0,marginTop:-r,index:V};let le=!0,Y=0,K=0;for(Y=0;Y<12;){let V=parseInt(z[K]?.getAttribute("columnized-span"))||1;if(Y=Y+V,Y>=_){Y=_,le=!1;break}K++}let D=[],Q=o&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),J=[];z.forEach((V,oe)=>{let $=Q?1:Math.min(parseInt(V.getAttribute("columnized-span"))||1,_);$=Math.min($,z.length);let U=-1,j=Ox.default.minBy(ie,Ue=>{U++;let gt=ie.slice(U+1,U+$).map(_t=>_t.height);if(gt.length+1<$)return 9e9;let Nt=Ue.height==0?0:Math.abs((U+(U%2==0?.25:.75))*2-_);return Ox.default.mean([Ue.height,...gt])+Nt}),ee=`column-${j.index}-slot-${oe}`,de=j.height;j.index+$>_&&($=_-j.index),X[j.index]=oe;let fe=0,ve=null,Ae=I*$+r*($-1),_e=V._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};fe=_e.mediaItemSize.height+_e.mediaItemSize.padSize;let Oe=j.index,qe=j.index+$+-1;Ae=P[qe].right-P[Oe].left;let ot=(Ae+-_e.mediaItemSize.padSize+-_e.mediaSize.padSize)/_e.width||1;ve=F?Math.round((_e.height*ot+_e.mediaSize.padSize)*2)/2||NaN:Math.round(_e.height*ot+_e.mediaSize.padSize)||NaN,Number.isNaN(ve)&&(ve=300);let je=j,st=j.height;for(let Ue=1;Ue<$;Ue++){let gt=j.index+Ue;ie[gt].height>=st&&(je=ie[gt],st=ie[gt].height)}let Ie=je.height,lt=je.height+_e.mediaItemSize.height+_e.mediaItemSize.padSize+r;for(let Ue=0;Ue<$;Ue++){let gt=j.index+Ue;Ue===0?(ie[gt].marginTop=ie[gt].marginTop+(Ie-ie[gt].height),ie[gt].height=lt):(ie[gt].marginTop=ie[gt].marginTop+(lt-ie[gt].height),ie[gt].height=lt)}let ut={},ht=ie[j.index].marginTop;ie[j.index].marginTop=0,ut.styleString="",ht!==n&&(ut.styleString+=` --column-gutter-height: ${ht+n}px;`),$>1&&(ut.styleString+=` --resize-parent-width:${Ae}px; min-width: ${Ae}px;`),ve!==null&&(ut.styleString+=` --frame-padding: ${ve}px;`),de===0&&(ut.firstColumnItem=!0),ut.slotName=ee,J.push(ut),H[j.index]||(H[j.index]=[]),H[j.index].push(m("slot",{name:ee},ee)),D.push({slot:ee})});for(let V=0;V<Y;V++)H[V]||(H[V]=[]);return X.forEach(V=>{J[V].lastInColumn=!0}),z.forEach((V,oe)=>{let $=D[oe]||{};$.itemResize=this.onItemResize;let U=V._props||{};xo(V,{...U,...$},U,!1,!1)}),m(re,{children:[this.props.children,Ge(m(re,{children:[m("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${le?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${L}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${J.map((V,oe)=>`::slotted(media-item[slot="${V.slotName}"]){
						margin-top: ${V.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${V.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${_===1?"100%":0};						
						`:""}
						${V.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${le?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(f/_)}px;
					`}
					min-height: 10px;			
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${_===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),m(Dr,{values:{gutterWidth:S,gutterHeight:E,elWidth:"100%"},onResize:this.onResize}),c&&d.isEditing&&!ue&&m(E5,{...this.props,disableResize:Q,isMobile:o,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:P,galleryInstance:u,galleryComponent:this}),H.map((V,oe)=>{let $=P[oe];return m("div",{className:`columns-column${oe===_-1?" last-column":""}`,style:{width:$.right-$.left+"px"},children:V},`columns-column-${oe}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){Ke.on("mobile-change",this.onMobileChange)}componentWillUnmount(){Ke.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}};hg.defaultProps={"show-tags":!0,"show-title":!0,columns:Eo.defaults.columns.value,gutter:Eo.defaults.gutter.value};Ase=Wt(So(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(hg)));ri(Ase,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var qr,Lx,P5,I5=T(()=>{Ee();qr=he(xe(),1);Ru();zi();qt();ne();Lx=class extends se{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=me(),this.dragGhostRef=me(),this.lastPosition=null,this.debouncedCommitTransform=qr.default.debounce(this.commitTransform,500)}render(e,i){let{showDropTarget:r,draggedMediaItem:n,isDragging:o,dragDelta:l,draggedItemIndex:u,initialPosition:c,dragSrcIndex:d,ghostRect:f}=i,{galleryInstance:g}=e;return m(re,{children:[m("style",{id:"freeform-editor",children:[d>-1&&o?`
			::slotted(media-item:nth-child(${d+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(v=>`::slotted(media-item[slot="${v.slot}"]){
						--base-translate: translate(${v.x}px , ${v.y}px)!important;
					} `):""]}),m(wo,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:g,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),m("div",{className:`drag-ghost ${f.significantShift?"snapping":""}`,style:{display:o&&f.width>0&&f.height>0?"block":"none",transform:`translate3d(${f.x}px, ${f.y}px, 1001px)`,width:f.width+"px",height:f.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(i=>i.isDragging?{scrollDelta:{x:0,y:i.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,i)=>{let r=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...i,scaleArray:[parseFloat(r),"%"],scale:r+""}};whileScaling=(e,i)=>{let{magneticSnap:r,magneticSnapMargin:n}=this.props,o=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!r)return i;let{width:l,height:u,scaleArray:c,overSize:d,atLimit:f,scale:g}=i,{elWidth:v,attributeMap:S}=this.props;v=v+-o.mediaItemSize.padSize+-o.mediaSize.padSize;let E=n*.01*v,_=l/u,P={width:!1,height:!1},I=Array.from(this.props.galleryInstance.children).filter(ie=>ie.tagName==="MEDIA-ITEM").indexOf(e),L=S[I],F={x1:L.xPx,y1:L.yPx,x2:L.xPx+l,y2:L.yPx+u},z={top:!0,left:!0,right:!1,bottom:!1},H=this.calculateMagnetism(e,F,z);return Math.abs(H.x)<Math.abs(H.y)&&Math.abs(H.x)>.1?P.width=!0:Math.abs(H.y)>.1&&(P.height=!0),Math.abs(H.x)>15&&(P.width=!1,H.x=0),Math.abs(H.y)>15&&(P.height=!1,H.y=0),P.width?(l=l+H.x,u=l/_):P.height&&(u=u+H.y,l=u*_),c[0]=l/v*100,{...i,scale:c.join(""),width:l,height:u,scaleArray:c,overSize:d,atLimit:f}};afterScaleChange=(e,i)=>{let{elWidth:r}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};r=r+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let o=(100*(i.width/r)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",o),e.setAttribute("freeform-scale",o),this.props.galleryComponent.onItemResize()};onDragStart=(e,i,r)=>{let n=r.draggedMediaItems?.find(E=>this.props.galleryInstance.contains(E))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:o,elWidth:l}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(E=>{E.remove()});let u=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),c=Array.from(this.props.galleryInstance.children),d=c.indexOf(n),f=c.filter(E=>E.tagName==="MEDIA-ITEM").indexOf(n),g=o[f],v={x:g?.xPx??0,y:g?.yPx??0},S=this.props.galleryInstance.offsetHeight;this.setState(E=>(be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:v,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:d,overrideHeight:!0,minHeight:S,isDragging:!0}))};onDragOver=(e,i,r)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:o,mediaItems:l,magneticSnapMargin:u,magneticSnap:c,attributeArray:d}=this.props,f=r.draggedMediaItems.length>0,g=this.props.galleryInstance.contains(r.dropTarget),v=this.props.galleryInstance===r.customDropTarget;r.inAdmin||r.fromOutside||!(g||this.state.draggedItemIsInsideGallery)?be.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(S=>{if(be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),S.isDragging){let E={x:r.cursorPosition.x+-S.dragStartPosition.x+S.scrollDelta.x,y:r.cursorPosition.y+-S.dragStartPosition.y+S.scrollDelta.y},_={x:S.initialPosition.x+E.x,y:S.initialPosition.y+E.y};this.lastPosition||(this.lastPosition=_);let P={width:0,height:0,x1:_.x,x2:_.x,y1:_.y,y2:_.y};if(this.draggedItem.current){let z=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};P.x2=P.x1+z.mediaItemSize.padSize+z.mediaSize.padSize+z.mediaItemSize.width,P.y2=P.y1+z.mediaItemSize.padSize+z.mediaItemSize.height,P.width=z.mediaItemSize.padSize+z.mediaSize.padSize+z.mediaItemSize.width,P.height=z.mediaItemSize.padSize+z.mediaItemSize.height}let I=c?this.calculateMagnetism(this.draggedItem.current,P):{x:0,y:0},L=u*.01*n;Math.abs(I.x)>Math.max(L,6)?I.x=0:I.x!==0&&(_.x=(_.x+I.x)*.5+this.lastPosition.x*.5),Math.abs(I.y)>Math.max(L,6)?I.y=0:I.y!==0&&(_.y=(_.y+I.y)*.5+this.lastPosition.y*.5);let F=Math.abs(I.x)>1||Math.abs(I.y)>1;return this.lastPosition=_,{ghostRect:{significantShift:F,x:_.x,y:_.y,width:P.width,height:P.height},dragDelta:{x:E.x+I.x,y:E.y+I.y}}}else{let E=this.props.galleryInstance.getBoundingClientRect(),_={x:r.cursorPosition.x-E.left,y:r.cursorPosition.y-E.top};return this.draggedItem.current=r.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:_,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,i,r={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:o,elWidth:l,elHeight:u,magneticSnapMargin:c,attributeMap:d}=this.props,f=Math.round(c*.01*l*32)/32,g=[],v=[],S=[],E={};n.forEach((k,te)=>{let le=d[te];if(k===e)return;S.length=0;let Y=k._size;E.x1=le.xPx,E.y1=le.yPx,E.x2=Y.mediaItemSize.width+Y.mediaItemSize.padSize+E.x1,E.y2=Y.mediaItemSize.height+Y.mediaItemSize.padSize+E.y1,i.x1<E.x2+f*2&&i.x2>E.x1-f*2&&(E.x2<i.x1||E.x1>i.x2?(S.push(E.y1),S.push(E.y2)):(S.push(E.y1-f),S.push(E.y2+f)),S.forEach(K=>{g.indexOf(K)===-1&&g.push(K)})),S.length=0,i.y1<E.y2+f*2&&i.y2>E.y1-f*2&&(E.y2<i.y1||E.y1>i.y2?(S.push(E.x1),S.push(E.x2)):(S.push(E.x1-f),S.push(E.x2+f)),S.forEach(K=>{v.indexOf(K)===-1&&v.push(K)}))}),g.indexOf(0)===-1&&g.push(0),g.indexOf(u)===-1&&g.push(u),v.indexOf(0)===-1&&v.push(0),v.indexOf(l)===-1&&v.push(l);let _=qr.default.minBy(g,k=>Math.abs(k-i.y1)),P=qr.default.minBy(g,k=>Math.abs(k-i.y2)),I=_-i.y1,L=P-i.y2,F=qr.default.minBy(v,k=>Math.abs(k-i.x1)),z=qr.default.minBy(v,k=>Math.abs(k-i.x2)),H=F-i.x1,ie=z-i.x2;return{x:qr.default.minBy([r.left?9e9:H,r.right?9e9:ie],k=>k!==0?Math.abs(k):9e9),y:qr.default.minBy([r.top?9e9:I,r.bottom?9e9:L],k=>k!==0?Math.abs(k):9e9)}};onDragDrop=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null,!r.inAdmin&&r.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),ze.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let n=Array.from(this.props.galleryInstance.children).filter(f=>f.tagName==="MEDIA-ITEM"),o=qr.default.sortBy(n,f=>parseFloat(f.getAttribute("freeform-y"))||0),l=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,u=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,c=this.draggedItem.current?.getAttribute("freeform-scale")||20,d=o.find(f=>parseFloat(f.getAttribute("freeform-y"))>u);r.draggedMediaItems.forEach((f,g)=>{f.setAttribute("freeform-z",n.length+200+g),f===this.draggedItem.current?(f.setAttribute("freeform-x",l),f.setAttribute("freeform-y",u)):(f.setAttribute("freeform-x",(l+g*5)%80),f.setAttribute("freeform-y",u+g*5)),f.hasAttribute("freeform-scale")||f.setAttribute("freeform-scale",c),this.props.galleryInstance.insertBefore(f,d),f.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=qr.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,i,r,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!qr.default.isEqual(e,i)||r.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");qr.default.sortBy(e,r=>parseFloat(r.getAttribute("freeform-z"))||0).forEach((r,n)=>{r.setAttribute("freeform-z",n+1),r.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=qr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=i[0]?.hasAttribute("freeform-y")?parseFloat(i[0].getAttribute("freeform-y")):0;r!==0&&i.forEach((n,o)=>{let l=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):r;n.setAttribute("freeform-y",l-r),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=qr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=e[0];i.forEach((n,o,l)=>{if(n!=r){for(let u=r,c=0;(u=u.nextElementSibling)&&c<l.length&&u!=n;c+=1);this.props.galleryInstance.insertBefore(n,r)}else r=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props,{currentZoom:r}=this.state;Array.from(this.props.galleryInstance.children).filter(o=>o.tagName==="MEDIA-ITEM").forEach((o,l)=>{let u=i[l],c=u["freeform-x"],d=u["freeform-y"],f=u["freeform-scale"],g=Math.sqrt(Math.pow(c-50,2)+Math.pow(d,2)),v=Math.atan2(d,c-50);o.setAttribute("freeform-x",Math.cos(v)*g*(r*.01)+50),o.setAttribute("freeform-y",Math.sin(v)*g*(r*.01)+50*(r*.01)),o.setAttribute("freeform-scale",r*.01*f)});let n=Math.abs(r*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,i)=>{let r=i.map(n=>{let o=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,l=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:o,y:l}});this.setState({transform:e,previewShifts:r,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(i=>{let r=this.props.galleryInstance.querySelector('[slot="'+i.slot+'"]');if(r){let n=parseFloat(r.getAttribute("freeform-x")||0),o=parseFloat(r.getAttribute("freeform-y")||0),l=Math.round((n+this.state.transform.x)*8)/8,u=Math.round((o+this.state.transform.y)*8)/8;r.setAttribute("freeform-x",l),r.setAttribute("freeform-y",u)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(i=>i._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:i}=this.props;Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{let l=i[n]["freeform-x"];r.setAttribute("freeform-x",l+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:r,attributeMap:n}=this.props,o=Array.from(this.props.galleryInstance.children).filter(g=>g.tagName==="MEDIA-ITEM"),l=9e9,u=-9e9;o.forEach((g,v)=>{let S=n[v];l=Math.min(l,S["freeform-x"]),u=Math.max(u,S["freeform-x"]+S["freeform-scale"])});let c=100/(u-l),d=l,f=Math.abs(c*e);if(f>.1)for(;f>5;)f*=.5;o.forEach((g,v)=>{let S=n[v],E=S["freeform-scale"]||30,_=S["freeform-x"],P=S["freeform-y"],I=(_+-d)*c,L=P*c;g.setAttribute("freeform-x",I),g.setAttribute("freeform-y",L),g.setAttribute("freeform-scale",c*E)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":f})})};componentDidMount(){be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.debouncedCommitTransform.cancel(),this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,i){i.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},P5=Lx});var A5,fg,Tse,Bi,Fx=T(()=>{Ee();$e();$s();Bs();pg();pt();Re();I5();Nu();Fi();Ti();A5=he(xe(),1);Ji();ne();fg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=me()}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-grid":l,"mobile-gutter":u,"mobile-columns":c,"mobile-horizontal-align":d,"mobile-vertical-align":f,"hover-pop":g,"magnetic-snap":v,"magnetic-snap-margin":S}=e;if(l&&e.isMobile)return this.renderedMobileGrid=!0,m(Nx,{...this.props,columns:c,gutter:u,verticalAlign:f,horizontalAlign:d,baseNode:n,adminMode:r,pageInfo:o});let{elWidth:E}=i,_=0,P=0,I=0,L=Array.from(n.children).filter(te=>te.tagName=="MEDIA-ITEM"),F=[],z=[],H=-1;L.forEach((te,le)=>{let Y=!1,K={"freeform-scale":parseFloat(te.getAttribute("freeform-scale")),"freeform-x":parseFloat(te.getAttribute("freeform-x")),"freeform-y":parseFloat(te.getAttribute("freeform-y")),"freeform-z":parseFloat(te.getAttribute("freeform-z"))},D={slot:"slot-"+le,itemResize:this.onItemResize};(isNaN(K["freeform-scale"])||isNaN(K["freeform-x"])||isNaN(K["freeform-y"])||isNaN(K["freeform-z"]))&&(Y=!0,K["freeform-scale"]=Number.isNaN(parseFloat(te.getAttribute("freeform-scale")))?20:parseFloat(te.getAttribute("freeform-scale")),K["freeform-x"]=Number.isNaN(parseFloat(te.getAttribute("freeform-x")))?I*1.5:parseFloat(te.getAttribute("freeform-x")),K["freeform-x"]=K["freeform-x"]%80,K["freeform-y"]=Number.isNaN(parseFloat(te.getAttribute("freeform-y")))?I*1.5:parseFloat(te.getAttribute("freeform-y")),K["freeform-z"]=9999,I++);let Q=parseFloat(K["freeform-x"])*.01*E,J=parseFloat(K["freeform-y"])*.01*E,V=parseInt(K["freeform-z"]),oe=parseFloat(K["freeform-scale"])*.01*E,$=oe,U=te._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};$=U.mediaItemSize.height+U.mediaItemSize.padSize,_=Math.max(J+$,_),Y||(H=le,P=_),K.widthPx=oe,K.xPx=Q,K.yPx=J,K.z=V,K.writeAttributes=D,z.push(K)});let ie=100*(P/E),X=0;for(var k=H+1;k<z.length;k++){let le=L[k]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},Y=le.mediaItemSize.height+le.mediaItemSize.padSize,K=X*1.5+ie,D=K*.01*E;z[k]["freeform-y"]=K,z[k].yPx=D,_=Math.max(z[k].yPx+Y,_),X++}return z.forEach((te,le)=>{let Y=L[le],{widthPx:K,yPx:D,xPx:Q,z:J,writeAttributes:V}=te,oe=Y._props||{};this.renderedMobileGrid&&(oe.itemResize=null),xo(Y,{...oe,...V},oe,!1,!1),F.push({width:K+"px","--base-translate":`translate(${Math.floor(Q)}px, ${Math.floor(D)}px)`,"--z-index":J+1})}),this.renderedMobileGrid=!1,m(re,{children:[this.props.children,Ge(m(re,{children:[m("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${_}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${F.map((te,le)=>`::slotted(media-item[slot="slot-${le}"]){
							width: ${te.width};
							--base-translate: ${te["--base-translate"]};
							--z-index: ${te["--z-index"]};
						} `).join("")}						
					
					${g?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),m(re,{children:[m("div",{id:"freeform-holder",ref:this.holderRef,children:L.map((te,le)=>m("slot",{name:`slot-${le}`}))}),m(Dr,{values:{elWidth:"100%"},onResize:this.onResize})]}),r&&o.isEditing&&!ue&&m(P5,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:Bi.mediaItemOptions,disabledMediaItemOptions:Bi.disabledMediaItemOptions,mediaItems:L,elWidth:E,elHeight:_,hoverPop:g,magneticSnap:v,magneticSnapMargin:S,attributeMap:z})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,i){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}},Tse=Wt(So(ke((t,e)=>({adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}))(fg)));ri(Tse,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});Bi={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(t){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform");if(e){e._freeformEditor?.stackZ();let i=A5.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+i.length)}),e._freeformEditor?.stackZ()}})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitZoom()}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitZoom()}}]}],onMediaItemChange:function(t){let e=this.state.galleryParent;return e?(Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"shift-x":e._freeformEditor?.previewTransform({x:r,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:r},this.state.selectedMediaItems);break}}),{...t}):{...t}},onChange:function(t){let e=this.state.activeGallery;e&&Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"horizontalShift":e._freeformEditor?.horizontalShift(r);break;case"zoom":e._freeformEditor?.zoom(r);break}})}};Bi.mediaItemDefaults=at(Bi.mediaItemOptions);Bi.defaults=at(Bi.options);Bi.mobileDefaults=at(Bi.mobileOptions);fg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":Bi.defaults["magnetic-snap"].value,"magnetic-snap-margin":Bi.defaults["magnetic-snap-margin"].value,"hover-pop":Bi.defaults["hover-pop"].value,"mobile-grid":Bi.mobileDefaults["mobile-grid"].value,"mobile-gutter":Bi.mobileDefaults["mobile-gutter"].value,"mobile-columns":Bi.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":Bi.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":Bi.mobileDefaults["mobile-vertical-align"].value}});var T5,zx,M5,R5=T(()=>{Ee();T5=he(xe(),1);qt();zi();Ru();ne();zx=class extends se{constructor(e){super(e),this.state={}}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,mediaItems:l}=e;return m(wo,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:r,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.props.isMobile?null:this.renderBracket}})}onBracketClick=(e,i,r)=>{this.dragStarted||(r&&(r.preventDefault(),ze.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)i.removeAttribute("justify-row-end");else{let n=i.previousSibling,o=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;i.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,i)=>{let{gutterWidth:r,gutterHeight:n}=this.props,o=i.assignedSlot;if(!o)return null;let l=o.parentElement.lastChild==o,u=i.getAttribute("justify-row-end")==="true",c="pointer";return u||(c="e-resize"),m("div",{className:`justify-bracket${u?" row-end":""}`,style:{"--media-item-pad":-i._size.mediaItemSize.padSize*.5+-1+"px"},onClick:d=>{this.onBracketClick(u,i,d)},onMouseDown:d=>{this.onMouseDown(i,d)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,i)=>{let r=e.assignedSlot;if(!r)return;let{mediaItems:n}=this.props;i.preventDefault();let o=r.parentElement,l=Array.from(o.children);this.delta=0,this.initialPoint=i.clientX,this.rowItems=l,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:i}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){ze.setHoveredElements([this.props.galleryInstance]),ze.lock(),document.body.classList.add("dragging");let r=i[this.indexOfFirstInRow-1];r&&this.onBracketClick(!1,r,null),this.attrCache=i.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=T5.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:i,rowAlign:r}=this.props,n=e/12,o=Math.round(this.delta/n);(r=="fill"||r=="right")&&(o=o*-1);let l=Math.max(o+this.rowItems.length,1);ze.setHoveredElements([this.props.galleryInstance]),ze.lock(),this.attrCache.forEach((u,c)=>{c>=this.indexOfFirstInRow&&c<=this.indexOfFirstInRow+l&&(u=!1,(c==this.attrCache.length-1||c==this.indexOfFirstInRow+l+-1)&&(u=!0));let d=i[c],f=d.getAttribute("justify-row-end");u&&f!=="true"?d.setAttribute("justify-row-end",u):!u&&d.hasAttribute("justify-row-end")&&d.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{ze.unlock(),ze.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,i,r)=>{let n=!1,o=i,l=e[e.length-1],u=e[0];for(;l&&e.indexOf(l)>-1;)l=l.nextElementSibling;for(;u&&e.indexOf(u)>-1;)u=u.previousElementSibling;r.left>-1&&r.right>-1?(i===e[e.length-1]&&(l=e[e.length-1]),i===e[0].nextElementSibling&&(u=e[0])):r.left>-1&&r.right==-1?l=null:r.right>-1&&r.left==-1&&(u=null),u&&r.left>-1&&(u.getAttribute("justify-row-end")=="true"||u.getAttribute("justify-row-end")==!0)&&(u.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},M5=zx});var qx,mg,En,Mse,Hx=T(()=>{Ee();$e();$s();$e();Bs();pt();Nu();Re();Ji();R5();Ti();Fi();qx=he(xe(),1);ne();mg=class extends _i{constructor(e){super(e),this.state={isMobile:Ke.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=me(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+150;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{gutterPixelWidth:r,gutterHeight:n,targetPxHeight:o,elHeight:l,isMobile:u,hasSizes:c}=i,{children:d,adminMode:f,pageInfo:g,baseNode:v}=e,{elWidth:S}=i;c||(S=this.props.baseNode.offsetWidth);let{"row-align":E,"row-height":_,gutter:P}=e;P=u&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let I="";u&&this.props["mobile-row-align"]!==void 0&&(E=this.props["mobile-row-align"],I="mobile-"),u&&this.props["mobile-row-height"]!==void 0&&(_=this.props["mobile-row-height"]);let L=P.split(" "),F=(L.length>1,L[0]);F.includes("rem")&&u&&(F="calc( var(--mobile-padding-offset, 1) * "+F+" )");let z=L.length>1?L[1]:L[0];z.includes("rem")&&u&&(z="calc( var(--mobile-padding-offset, 1) * "+z+" )");let H=Kt(_,"%").join(""),ie=this.getMediaItems(),X=ie.slice(0,this.state.renderLimit),k=this.brickLayout(X),te=[];return ie.forEach((le,Y)=>{let K=k.attributes[Y]||{slot:null},D=le._props||{};xo(le,{...D,...K},D,!1,!1)}),m(re,{children:[m(re,{children:this.props.children}),Ge(m(re,{children:[m("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${r}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${k.shadowStyleMap.map((le,Y)=>`::slotted(media-item[slot="slot-${Y}"]){
		${le.style};
		${le.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${le.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${le.itemStatuses.lastChild&&!le.itemStatuses.orphanRow&&E==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${S+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${k.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${I}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${I}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${I}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${I}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${I}row-align="center"]) ::slotted(media-item.last-child),
:host([${I}row-align="left"]) ::slotted(media-item.last-child),
:host([${I}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),m(Dr,{values:{targetPxHeight:H,gutterPixelWidth:F,gutterHeight:z,elWidth:"100%"},onResize:this.onResize}),k.shadow,f&&g.isEditing&&!ue&&m(M5,{...e,isMobile:u,gallerySpecificAttributes:["justify-row-end"],galleryInstance:v,gutterWidth:r,gutterHeight:n,elWidth:S,rowHeight:H,rowAlign:E,mediaItems:ie,incrementLayout:this.onItemResize}),m("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,i)=>{e==="targetPxHeight"&&(i=Math.max(i,10)),this.setState({[e]:i,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){Ke.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:En.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){Ke.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};brickLayout=e=>{let i=window.devicePixelRatio>1?2:1,{isMobile:r}=this.state,{"row-align":n}=this.props;r&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let o={},l=r&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],u=!1,c=e.map((F,z)=>{let H=this.getItemSize(F,l);return this.getItemSize(F,l)});for(let F=c.length-1;F>=0;F--){let z=c[F];z.rowEnd||u?(z.inDesignatedRow=!0,u=!0):z.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,o,c),this.findValidRowCache=null;let d=[],f=qx.default.keys(o).sort(function(F,z){return parseInt(F)-parseInt(z)}),g=f[f.length-1];for(;g!=null;){let F=o[g];o[F.parent]&&(o[F.parent].path=o[F.parent].edges[g]),d.unshift(F),g=F.parent}let v=[],S=[],E=[],_=this.state.targetPxHeight,P=this.state.elWidth,I=this.state.gutterPixelWidth,L=0;return d.forEach((F,z)=>{let H=F.path,ie=[];if(!H)return;let X=0,k=!1;for(let te=H.startIndex;te<H.breakBefore;te++){let le=e[te],Y=H.breakBefore-H.startIndex,K=te+1==H.breakBefore,D=this.getItemSize(le,!1),Q=D.mediaSize.padSize+D.mediaItemSize.padSize,J=(_+-Q)/D.height||1,V,oe;V=D.width*J+Q,oe=D.height*J+D.mediaSize.padSize;let $=P+-H.rowWidth;if(n!=="fill"||k)$=Math.min(0,$),L=H.rowWidth;else if($/P>.5&&K&&z==0&&!H.position=="forcebreak"){k=!0,te=H.startIndex-1;continue}if($!==0){let de=(V+-Q)/H.contentWidth,fe=H.rowWidth-H.contentWidth,ve=P-fe;V=de*ve,oe=V*(D.height/D.width)+D.mediaSize.padSize,V=V+Q}V=Math.floor(V*i)/i,X=oe;let U={},j="";te==H.startIndex&&(U.firstChild=!0),te+1==H.breakBefore&&(U.lastChild=!0),z+2==d.length&&(U.lastRow=!0),U.orphanRow=k,E[te]={style:`width: ${V}px`,itemStatuses:U},S[te]={slot:`slot-${te}`,itemResize:this.onItemResize},ie[te]=m("slot",{name:`slot-${te}`},`slot-${te}`)}X=Math.floor(X*i)/i,v.push(m("div",{className:`justify-row${k?" orphan-row":""}`,style:{"--frame-padding":X+"px"},children:ie},`justify-row-${z}`))}),{shadow:v,attributes:S,shadowStyleMap:E,orphanRowWidth:L}};findValidRows=(e,i)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let r=e,n=0,o=0,l=0,u=0,c=0,d={},f=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(f=this.props["mobile-row-align"]);for(let g=e;g<i.length;g++){let v=l,S=u,E=i[g],_=E.mediaSize.padSize+E.mediaItemSize.padSize,P=(this.state.targetPxHeight+-_)/E.height;if(u=E.width*P,l=u+_,g===e?(c=1,n=l,o=l+-_):(n=n+this.state.gutterPixelWidth+l,o=o+u,c++),E.rowEnd){d[g+1]={position:"forcebreak",penalty:-9e9,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o};break}else if(n>this.state.elWidth){if(E.inDesignatedRow)continue;d[g]={position:"under",itemCount:c+-1,penalty:0,startIndex:e,breakBefore:g,rowWidth:n+-(this.state.gutterPixelWidth+l),contentWidth:o-u},f==="fill"||g===e?d[g+1]={position:"over",penalty:0,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o}:g-1>-1&&(d[g-1]={position:"oneunder",penalty:.11,itemCount:c+-2,startIndex:e,breakBefore:g-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+v),contentWidth:o-(u+S)});break}else if(g==i.length-1){f!=="fill"&&g==e?d[g+1]={position:"orphan",penalty:.5,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o}:d[g+1]={position:"last",penalty:.06,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o};break}else c+-2>0&&!E.inDesignatedRow&&f==="fill"&&(d.mid={position:"mid",penalty:.06,itemCount:c+-2,startIndex:e,breakBefore:g-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+v),contentWidth:o-(u+S)})}if(d.hasOwnProperty("mid")){let g=d.mid.breakBefore;!d.hasOwnProperty(g)&&i.length<15&&(d[d.mid.breakBefore]=d.mid),delete d.mid}for(let g in d){let v=d[g],S=v.rowWidth/this.state.elWidth;v.distance=Math.abs(1-S)*Math.abs(1-S)*Math.abs(1-S),isNaN(v.penalty)||(v.distance=v.distance+v.penalty)}return this.findValidRowCache[e]=d,d};makeNodes=(e,i,r,n,o)=>{if(e===-1)return;let l={index:parseInt(e),edges:this.findValidRows(e,o),distanceToFirstNode:i,parent:r},u=!1;if(n[e]?l.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=l,u=!0):(n[e]=l,u=!0),u){let c=qx.default.keys(l.edges);for(let d=0;d<c.length;d++){let f=l.edges[c[d]];this.makeNodes(parseInt(c[d]),f.distance+l.distanceToFirstNode,l.index,n,o)}}};getItemSize=(e,i)=>{let r=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};isNaN(r.width)&&(r.width=300),isNaN(r.height)&&(r.height=300);let n=e.getAttribute("justify-row-end")==="true"&&!i;return{...r,rowEnd:n}}},En={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),t.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(i=>i.hasAttribute("justify-row-end")||i.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(i=>{i.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};En.mediaItemDefaults=at(En.mediaItemOptions);En.defaults=at(En.options);En.mobileDefaults=at(En.mobileOptions);mg.defaultProps={"show-tags":!0,"show-title":!0,gutter:En.defaults.gutter.value,"row-align":En.defaults["row-align"].value,"row-height":En.defaults["row-height"].value,"mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};Mse=Wt(So(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(mg)));ri(Mse,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});function Rse(t,e){let i=e.pid;return{isMobileOnly:t.site.mobile_homepage_id==i||t.pages.byId[i]&&t.pages.byId[i].pin&&t.pages.byId[i].pin_options.screen_visibility==="mobile"}}var ar,gg,Ux,N5,k5=T(()=>{Ee();pt();Fi();$e();qt();zi();Ws();go();Ti();Re();ar=he(xe(),1);ne();gg=new Set;ue||(window.addEventListener("mousedown",t=>{gg.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",t=>{gg.forEach(e=>{e.setState({noPointerEvents:!1})})}));Ux=class extends se{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=me(),this.gearReaf=me(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=ar.default.debounce(this.saveColumnSettings,150),this.updateColumns=ar.default.throttle(this.updateColumns,40)}render(e,i){let{emptyColumns:r,gutter:n,columnSpans:o,displaySpans:l,layoutColumns:u,unitsToRemove:c,isMobile:d,mobileStack:f,mobileHideEmpty:g,elWidth:v,gutterWidth:S}=e,{activeIndex:E,delta:_,isDraggingHandle:P,adminWindow:I,showGhost:L,loaded:F,buttonHovered:z,focused:H,noPointerEvents:ie}=i,X=ar.default.uniq(r).length==1&&r[0]==!0,k=ar.default.uniq(o).length==1&&o[0]==null,te=(v-S*(u-1))/u,le=o.length<u,Y=[],D=u%o.length==0||!k?u:o.length-c;d&&f&&(D=1);let Q=Math.max(0,(v-S*(D-1))/D),J=Math.max(1,S);Q=Q-(J-S);let V=23;for(let oe=0;oe<D;oe++){let $=(Q+J)*oe;Y.push(m("div",{className:"ghost-span",style:{transform:`translateX(${$}px)`,opacity:L?.04:0,width:Q+"px"}},`ghost-${oe}`))}return m(re,{children:[m(qi,{baseNode:this.props.columnInstance}),m("style",{children:r.map((oe,$)=>oe?`
				::slotted(column-unit:nth-child(${$+1})){
					min-height: 1em;
				}`:"").join(`
`)}),m(Lr,{onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:V,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:oe=>{let{pointerAttention:$,overlayPosition:U}=oe,j=0,ee=0,de=-V,fe=2;return U.y<=V&&(de=U.height+1,U.height+U.y>Ke.data.window.h+-V&&(de=-U.y+Ke.data.window.h+-V+1,fe=0)),m("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${$?" hover":""}${$?" button-hover":""}${H?" focus":""}`,style:{transform:`translate3d(${U.x}px, ${U.y}px, 0)`,width:U.width+"px",height:U.height+"px",display:$||z||H?"block":"none"},children:[($||H||z)&&Y,($||H||z)&&!(d&&f)?o.map((ve,Ae)=>{let _e=l[Ae];if(ve||(ve=u/o.length),Ae==o.length-1||_e=="hide"||(j+=ve,j>=u))return null;ee+=te*ve+(ve-1)*S+S;let Oe=`${ee+-S*.5}px`,qe=this.handleWidth*-.5;return S<=this.handleWidth-this.minHandleOverlap&&(qe=S*-.5+-this.minHandleOverlap),m(re,{children:[le&&Ae<u&&m("div",{style:{pointerEvents:ie?"none":"auto",display:$||H||z?"block":"none",transform:`translateX(${Oe})`,width:this.handleWidth+"px",marginLeft:`${qe}px`},className:"column-divider-handle",onMouseDown:ot=>this.onMouseDown(ot,Ae)}),m("div",{style:{display:$||H||z?"block":"none",transform:`translateX(${Oe})`,transition:P?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${Ae}`)]})}):null,m("div",{className:"in-editor-buttons",style:{pointerEvents:ie?"none":"auto",transform:`translate(${fe}px, ${de}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:m("div",{className:"pointer-mask",children:[m("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),(!d||this.props.isMobileOnly)&&m(re,{children:[m("button",{onMouseDown:this.removeColumn,className:"remove",children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),m("button",{onMouseDown:this.addColumn,className:`add ${o.length>=this.maxColumns?"disabled":""}`,children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[m("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),m("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.gearReaf.current.getBoundingClientRect(),r=this.props.columnInstance.getBoundingClientRect(),n={x:i.x+0,y:r.y+-190,left:i.left+0,right:i.right+0,top:r.top+0+-190,bottom:r.top+27+-190,width:i.width,height:i.height};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let i=this.columnCache.pop()||document.createElement("column-unit");i.removeAttribute("span"),i.removeAttribute("slot"),i.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(i),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(r=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let i=e?.altKey||!1,r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");r.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(r[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=r[r.length-1];if(i){let o=r[r.length-2];Array.from(n.childNodes).forEach(l=>{o.appendChild(l)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(o=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,i)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:i,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),be.adminWindow.addEventListener("pointermove",this.onPointerMove),be.adminWindow.addEventListener("pointercancel",this.onPointerUp),be.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),be.adminWindow.removeEventListener("pointermove",this.onPointerMove),be.adminWindow.removeEventListener("pointercancel",this.onPointerUp),be.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:i,pointerStart:r,instanceRect:n,referenceColumnSpans:o,isDraggingHandle:l}=this.state,{gutterWidth:u,displaySpans:c,unitsToRemove:d,layoutColumns:f,units:g}=this.props;if(l){let v=[...o];if(ar.default.uniq(o).length==1&&o[0]==null){let k=0,te=0,le=0,Y=g/v.length-Math.floor(g/v.length),K=Math.floor(g/v.length),D=v.map((Q,J)=>{te=te+Y;let V=K;return te>1&&(V=V+1,te=te-1),J==v.length-1&&(V=g-k),k=k+V,V});this.setState({referenceColumnSpans:D});return}let E=(n.width-u*(f-1))/f,_=0,P=[];v.forEach((k,te)=>{k||(k=f/v.length);let le=E*k+(k-1)*u;(te==i||te==i+1)&&P.push({x:_,width:le}),c[te]!="hide"&&(_+=le+u)});let I=20,{left:L}=n,F={x:e.clientX-(P[1].x+L+-u*.5),y:e.clientY-r.y},z=v.map((k,te)=>{let le=k,Y=E*k+(k-1)*u;return te==i?(le=(Y+F.x+u)/(E+u),Math.round(Math.max(Math.min(le,g-1),1))):c[te]=="hide"?k:Math.round(Math.max(Math.min(le,g-1),1))}),H=i+1;for(;c[H]=="hide";)H++;let ie=ar.default.sum(z)-z[H];z[H]=g-ie,z[H]==0&&(z[H]+=1,z[i]-=1),ar.default.uniq(z).length==1&&ar.default.sum(z)==g&&(z=z.map(k=>{})),Math.abs(F.x)>4&&this.updateColumns(z),this.setState({delta:F})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:i,units:r}=this.props;if(i.length==0||ar.default.uniq(i).length==1&&i[0]==null)return;let o=i.includes(void 0),l=ar.default.sum(i),u=[...i],c=!1;if(l!=r||o){if(l>r)c=!0;else if(l<=r)if(o){let f=r-l,g=i.filter(S=>S==null).length,v=Math.floor(f/g);i.forEach((S,E)=>{if(E==i.length-1&&f>0)u[E]=f;else if(S==null&&f==0){let _=E;for(;_>=0&&i[_]<2||i[_]==null;)_--;i[_]>1?(u[E]=Math.floor(i[_]/2),u[_]=i[_]-u[E]):c=!0}else S==null?(u[E]=v,f-=v):u[E]=S})}else{let f=r-l;u[u.length-1]=f+u[u.length-1]}(ar.default.uniq(u).length==1&&ar.default.sum(u)==r||c)&&(u=u.map(f=>{})),this.updateColumns(u)}else this.updateColumns(i)};updateColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),r=[];i.forEach((n,o)=>{e[o]==null?r.push([n,null]):parseInt(n.getAttribute("span"))!=e[o]&&r.push([n,e[o]])}),r.length>0&&(CargoEditor?.mutationManager?.execute(()=>{r.forEach(([n,o])=>{o===null?n.removeAttribute("span"):n.setAttribute("span",o)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{be.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,i,r)=>{r.fromOutside&&!r.inAdmin?(ze.activateHoverElement(this.props.columnInstance),ze.lockItem(this.props.columnInstance)):(ze.unlockItem(this.props.columnInstance),ze.deactivateHoverElement(this.props.columnInstance))};onDragStart=(e,i,r)=>{ze.activateHoverElement(this.props.columnInstance),ze.lockItem(this.props.columnInstance)};onDragEnd=(e,i)=>{ze.unlockItem(this.props.columnInstance),ze.testHover()};componentDidUpdate(e,i){(!ar.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(r=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=ar.default.throttle(()=>{ze.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:ar.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let i=!1;e.forEach(r=>{Array.from(r.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0),Array.from(r.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0)}),i&&(this.columnObserver.disconnect(),i&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let i=!0;e.forEach(r=>{r.type=="attributes"&&r.attributeName==="span"&&(i=!0)}),i&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(o=>o.tagName=="COLUMN-UNIT"),r=i.length;if(r!=e){if(r<e)for(var n=0;n<e-r;n++){let o=this.columnCache.pop()||document.createElement("column-unit");o.removeAttribute("span"),this.props.columnInstance.appendChild(o)}else if(e<r)for(var n=r-1;n>=e;n--){let l=i[n];this.columnCache.push(l.cloneNode(!0)),l.setAttribute("data-discarded-column",!0),l.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){gg.add(this),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(r=>r.tagName=="COLUMN-UNIT").forEach(r=>{this.columnObserver.observe(r,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let i=[];if(Array.from(this.props.columnInstance.childNodes).forEach((r,n)=>{r.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(r),i.push(r))}),i.length>0&&console.warn("removed stray elements from column set",i),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,ze.activateHoverElement(this.props.columnInstance),ze.lockItem(this.props.columnInstance);let r=n=>{this.showOutlinesTimeout=setTimeout(()=>{ze.unlockItem(this.props.columnInstance),ze.testHover()},500),window.removeEventListener("mousedown",r)};window.addEventListener("mousedown",r)}this.testHoverTimeout=setTimeout(()=>{ze.testHover()},300)}componentWillUnmount(){gg.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}};N5=Wt(ke(Rse,null)(Ux))});var O5,vg,Nse,D5=T(()=>{Ee();$e();pt();Re();Bs();Ti();ug();$s();O5=he(xe(),1);Ji();Fi();Ya();k5();ne();vg=class extends se{constructor(e){super(e),this.state={mobileActive:Ke.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-stack":l,"mobile-hide-empty":u,"mobile-gutter":c,units:d}=e,{gutterWidth:f,mobileActive:g,hasSizes:v}=i,{elWidth:S}=i;v||(S=this.props.baseNode.offsetWidth);let E=[],_="";g?c===void 0?(E=Kt(e.gutter,"rem"),E[1].indexOf("calc(")>-1?_=E[1].replace("calc(","("):_=E.join(""),_="calc( var(--mobile-padding-offset, 1) * "+_+" )"):(E=Kt(c,"rem"),_=E.join(""),_.includes("rem")&&(_="calc( var(--mobile-padding-offset, 1) * "+_+" )")):(E=Kt(e.gutter,"rem"),_=E.join(""));let P=Array.from(n.children).filter(K=>K.nodeName==="COLUMN-UNIT"&&!K.hasAttribute("data-discarded-column"));Array.from(n.children).filter(K=>K.nodeName==="COLUMN-UNIT"&&K.hasAttribute("data-discarded-column")).forEach(K=>{K.remove()});let L=P.map(K=>!Array.from(K.childNodes).some(D=>D.nodeType===Node.ELEMENT_NODE||D.nodeType===Node.TEXT_NODE&&D.nodeValue.trim().length>0)),F=P.map(K=>parseInt(K.getAttribute("span"))||void 0),z=0,H=F.map((K,D)=>(g&&L[D]&&(u||l)?(z=z+(parseInt(K)||1),K="hide"):K=K||"uniform",K)),ie=H.filter(K=>K=="uniform"||K=="hide").length==H.length,X=Math.max(P.length,this.props.units);ie&&(z=H.filter(K=>K=="hide").length),X=X-z;let{columnAndGutterMap:k,columnWidth:te,gutterPixelWidth:le}=Lu(ie?P.length-z:X,f,S),Y="";if(g&&l){Y=`::slotted(column-unit){
				--column-width: ${S}px;
				--resize-parent-width: ${S}px;

			}`;let K=O5.default.findLastIndex(H,D=>D!=="hide");H.forEach((D,Q)=>{D=="hide"?Y+=`
					::slotted(column-unit[slot="${Q}"]) {
						display: none;
					}`:Q<K&&(Y+=`
					::slotted(column-unit[slot="${Q}"]) {
						margin-bottom: ${le}px;
					}`)})}else{let K=0;Y=H.map((D,Q)=>{let J,V;switch(D){case"uniform":return J=k[K]?.right-k[K]?.left||10,K+=1,`::slotted(column-unit[slot="${Q}"]) {
							--column-width: ${J}px;
							--resize-parent-width: ${J}px;
						}`;case"hide":return`::slotted(column-unit[slot="${Q}"]) {
							display: none;
						}`;default:return J=k[K+(D+-1)]?.right-k[K]?.left||10,K+=D,`::slotted(column-unit[slot="${Q}"]) {
							--column-width: ${J}px;
							--resize-parent-width: ${J}px;
						}`}}).join(`
				`)}return P.forEach((K,D)=>{K.setAttribute("slot",D)}),Ge(m(re,{children:[m(Sn,{adminMode:r,baseNode:n,customElementMode:!0,children:[m("style",{children:`
						:host{
							visibility: ${v?"visible":"hidden"};
			 				--columns-gutter: ${le}px;
							margin-top: calc(var(--gutter-expand, 0) * ${le}px);
		
							width: 100%;
							position: relative;
							contain: layout;
							clear: both;							

							${g&&l?`
									display: flex;
									align-items: start;
									justify-content: flex-start;
									flex-direction: column;
									flex-wrap: nowrap;
									height: auto;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
						}
		
					`}),m("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${g&&l?0:le+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: ${g&&l?"auto":"var(--column-width)"};
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${Y}				
					`}),m(Dr,{values:{elWidth:"100%",gutterWidth:_},style:{position:"absolute",inset:"0 auto"},onResize:this.onResize}),P.map((K,D)=>m("slot",{name:D}))]}),r&&o.isEditing&&!ue&&m(N5,{elWidth:S,gutterWidth:f,emptyColumns:L,isMobile:g,mobileStack:l,mobileHideEmpty:u,layoutColumns:X,units:d,columnSpans:F,unitsToRemove:z,displaySpans:H,gutter:_,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){Ke.on("mobile-change",this.onMobileChange)}componentWillUnmount(){Ke.off("mobile-change",this.onMobileChange)}};vg.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};Nse=Wt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(vg));ri(Nse,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var wOe,Bx,L5,F5=T(()=>{Ee();$e();qt();Ws();zi();wOe=he(xe(),1);go();ne();Bx=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{audioPlayerInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:l,focused:u}=i,c=23;return m(re,{children:[m("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),m(Lr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:d=>{let{pointerAttention:f,overlayPosition:g}=d,v=0;return g.y<=1&&(v=Math.min(-g.y+1,g.height+-c+1)),m(re,{children:[m(qi,{baseNode:r,overlayPosition:g,inFront:!1,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${f?" hover":""}${f?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`,width:g.width+"px",height:g.height+"px",display:f||l||u?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${v}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:S=>{this.launchUIWindow(S)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},L5=Bx});var MOe,Wx,Qd,$x,kse,z5=T(()=>{Ee();$e();Ca();MOe=he(xe(),1);Re();pt();Ji();Fi();F5();ne();ue||(Wx=new ResizeObserver(t=>{t.forEach(e=>{if(Qd.has(e.target)){let i=Qd.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;i.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));Qd=new Map,$x=class extends se{constructor(e){super(e);let i=this.getFiletype(e.src);this.audio_track=me(),this.bar=me(),this.track_buffer=me(),this.current_time=me(),this.progressIndicator=me(),this.state={size:{width:100,height:100},mounted:i!=="stream",filetype:i,seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:!0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,i){let{baseNode:r,adminMode:n,label:o,loop:l,"total-time":u,"playback-time":c,"seek-controls":d,"browser-default":f,pageInfo:g}=e,{visible:v}=i,S=!this.state.paused||this.state.started,E=this.props.src?this.props.src:null;return Ge(m(re,{children:[n&&g.isEditing&&m(L5,{audioPlayerInstance:r}),m("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${f?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${f&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${!this.state.streaming&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${S&&this.state.streaming?"block":"none"};
					}

					[part="total-time"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),m("div",{part:"button",onClick:_=>this.togglePlay(_),children:m("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?m("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):m(re,{children:[m("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),m("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),m("div",{part:"separator",children:"\xA0"}),m("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:_=>this.onMouseDown(_),onTouchStart:_=>this.onMouseDown(_),onTouchEnd:_=>this.onMouseUp(_),children:[m("div",{ref:this.track_buffer,part:"buffer",children:" "}),m("div",{part:"progress",children:m("div",{ref:this.progressIndicator,part:"progress-indicator"})}),m("div",{part:"label",children:this.state.hasError?"Unable to load file":m(re,{children:this.props.label})}),m("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),m("div",{part:"stream-anim",children:[m("span",{part:"animated-period period-one"}),m("span",{part:"animated-period period-two"}),m("span",{part:"animated-period period-three"})]}),m("div",{part:"total-time",children:this.state.totalTime})]}),m("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:f===!0,src:this.state.mounted?E:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:this.state.filetype==="file"?"metadata":null,onProgress:_=>this.onProgress(_),onLoadedMetaData:_=>this.onLoadedMetadata(_),onTimeUpdate:_=>this.updatePlayerTime(_),onSeeking:_=>this.onSeekStart(_),onSeeked:_=>this.onSeekEnd(_),onEnded:_=>this.onTrackEnd(_),onError:_=>this.onError(_),onCanPlay:_=>this.clearError(_)})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0,streaming:this.state.filetype==="stream"},()=>{this.props.baseNode.setAttribute("status",this.state.filetype==="stream"?"streaming":"playing")})};setPauseState=e=>{this.setState({paused:!0},()=>{this.props.baseNode.setAttribute("status","stopped")}),this.state.streaming&&this.setInitialState()};setInitialState=(e,i)=>{this.state.streaming&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0},()=>{this.props.baseNode.setAttribute("status",i?.error===!0?"error":"stopped")})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let i=this.bar.current.getBoundingClientRect(),r=e.clientX||e.touches[0].clientX;r<i.left?this.audio_track.current.currentTime=0:r>i.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((r-i.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{document.body.classList.remove("audio-player-dragging"),this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!(this.state.mouseInteractionDisabled||!this.state.mounted))if(this.audio_track.current.paused){let i=this.audio_track.current.play();Qd.forEach((r,n)=>{r!==this&&(r.audio_track.current.pause(),r.setPauseState())}),i?i.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onLoadedMetadata=e=>{if(!this.audio_track.current)return;let i=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:i,streaming:!1,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","stopped")})};onProgress=e=>{this.audio_track.current&&(this.state.filetype==="stream"?this.setState({totalTime:0,streaming:!0,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","streaming")}):this.setState({streaming:!1},()=>{this.props.baseNode.setAttribute("status","playing")}),this.updateBufferSize())};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":i}=this.props;if(i)return;let r=!1,n=this.audio_track.current.currentTime,o=this.timestampToHumanReadable(n),l=n/this.audio_track.current.duration*100,u=this.state.size.width,c=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(l>=99.5||l===0)&&(r=!0),u*(l/100)<c&&(l=(100-l)*(c/u)),this.setState(d=>{let f=l;return d.dragging&&Math.abs(d.currentProgress-l)>1&&(f=l*.1+d.currentProgress*.9),this.updateBufferSize(.01*f*this.audio_track.current.duration),{currentTime:o,currentBuffer:f,currentProgress:f,preventTransition:r}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};getFiletype=(e="")=>{let i=!1;try{i=new URL(e).pathname.split("/").pop()?.indexOf(".")>-1}catch(n){console.error(n)}return i&&["m3u","pls","m3u8","asx"].some(n=>e.toLowerCase().endsWith(n))?"playlist":i?"file":"stream"};updateBufferSize=e=>{if(!this.audio_track.current)return;let i,r=e||this.audio_track.current.currentTime,n=0;for(var o=0;o<this.audio_track.current.buffered.length;o++)if(r>=this.audio_track.current.buffered.start(o)&&r<=this.audio_track.current.buffered.end(o)){i=Math.max(this.audio_track.current.buffered.end(o)-r,0),n=i/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var i=Math.floor(e%60),r=Math.floor(e/60),n=Math.floor(r/60);return i<10&&(i="0"+i),n>0?(r=r-n*60,r<10&&(r="0"+r),n+":"+r+":"+i):r+":"+i};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){this.setPauseState(),this.state.mounted||setTimeout(()=>{this.setState({mounted:!0})},this.state.filetype==="stream"?2e3:0),ue||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),Qd.set(this.bar.current,this),Wx.observe(this.bar.current))}componentDidUpdate(e){e.src!==this.props.src&&(this.setState({filetype:this.getFiletype(this.props.src)}),e.src&&e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play()))}componentWillUnmount(){ue||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),Qd.delete(this.bar.current),Wx.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},kse=Wt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))($x));ri(kse,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var jx,Ose,Dse,Fu,Vx,Gx,q5,H5=T(()=>{Ee();$e();qt();Ws();zi();go();Re();jx=he(xe(),1);ne();Ose=["{day}, {month-name} {day-of-month}, {year} {hour}:{minute} {period}","{hour}:{minute}:{second} {period}","{hour}:{minute}:{second}","{day-of-month}-{month}-{year}","{day-of-month} {month-name} {year}","{month-name} {day-of-month}, {year}","{month}/{day-of-month}/{year}","{day-of-month}/{month}/{year}","{time-of-day} of the {ordinal}"],Dse={day:"Day","day-of-month":"Day of Month",ordinal:"Ordinal Date",month:"Month","month-name":"Name of Month",period:"AM/PM",year:"Year",hour:"Hour",minute:"Minute",second:"Second",centisecond:"Centisecond","roman-year":"Year in Roman Numerals","time-of-day":"Time of Day"},Fu=new Set,Vx=jx.default.debounce(()=>{let t=Array.from(Fu),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(u=>{let c;return u.state.selected?c=u.props.baseNode.getBoundingClientRect():c={top:-9e9},{component:u,rect:c}});e=jx.default.sortBy(o,(u,c)=>u.rect.top);let l=e.filter(u=>u.component.state.selected);r=l[l.length-1].rect.bottom+-l[0].rect.top,e=e.map(u=>u.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r}),n=!0)})},100);ue||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",Vx):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",Vx)}),document.addEventListener("selectionchange",Vx));Gx=class extends se{constructor(e){super(e),this.state={UIWindow:!1,showMultipleSelectionButton:!1,partOfMultipleSelection:!1,fontSizePx:16,lineHeightPx:24,selected:!1}}render(e,i){let{}=e,{UIWindow:r,showMultipleSelectionButton:n,partOfMultipleSelection:o,pointerProxyAttention:l,fontSizePx:u,lineHeightPx:c}=i,d,f=0,g=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight;return m(re,{children:[m("style",{id:"digital-clock-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),m(qi,{baseNode:this.props.clockInstance,overlayMode:!1,onSelectionChange:this.onSelectionChange}),m(Lr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.clockInstance,buttonHeight:0,onPointerIn:this.pointerIn,onPointerOut:this.pointerOut,render:v=>{let{pointerAttention:S,overlayPosition:E}=v,_=0;return E.y<=1&&(_=Math.min(-E.y+1,E.height+-f+1)),n&&o?d=m("button",{style:{transform:`translateY(${_}px)`},"data-editor-overlay":"true",class:`${E.height<30?"small":""} clock-button multiple`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!n&&!o&&(d=m("button",{style:{transform:`translateY(${_}px)`},"data-editor-overlay":"true",class:`${E.height<30?"small":""} clock-button`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:m("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),m("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),m("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})),m(re,{children:m("div",{className:`editor-overlay ${n?"edit-multiple":""} digital-clock editor-outline${S||r?" hover":""}${S||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${E.x}px, ${E.y}px, 0)`,width:E.width+"px",height:g?this.state.multiSelectHeight:E.height+"px"},children:[d,e.children]})})}})]})}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onMouseDown=e=>{e.button==2&&!e.metaKey&&(e.preventDefault(),this.launchUIWindow(e))};onOptionsButtonClick=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation(),this.launchUIWindow()}};launchUIWindow=e=>{let i=this.props.clockInstance.getBoundingClientRect(),r=document.documentElement.clientHeight,n=document.documentElement.clientWidth,o=this.props.clockInstance.getAttribute("value"),u=Ose.includes(o)||o?.indexOf?.("{")===-1?270:360,c=220,d=15,f=i.left,g=i.top,v={x:i.left,y:i.top,left:i.left,right:i.left,top:i.top,bottom:i.top+27,width:0,height:10};r-i.bottom>u+d?g=i.top+i.height+d:r-(i.bottom+-i.height*.5)>u+d?g=i.top+i.height*.5+d:i.top>u+-d&&(g=i.top+-u+-d),n-i.left<c&&(f=i.left-c),v.x=f,v.left=f,v.right=f,v.width=0,v.height=0,v.y=g,v.top=g,v.bottom=g,be.adminWindow.UIWindowOpener.openUIWindow({windowName:"digital-clock",positionRect:v,closeButton:!1,closeOnSingleClickout:!0,ignoreEditorWindowClickout:!1,supportsMobile:!1,props:{clickedElement:this.props.clockInstance,elements:Array.from(Fu).filter(S=>S.state.selected||S.props.clockInstance===this.props.clockInstance).map(S=>S.props.clockInstance)}})};pointerIn=()=>{this.state.selected&&Fu.forEach(i=>{i.state.showMultipleSelectionButton&&i.setState({pointerProxyAttention:!0})});let e=window.getComputedStyle(this.props.clockInstance);this.setState({fontSizePx:e.getPropertyValue("font-size"),lineHeightPx:e.getPropertyValue("line-height"),pointerAttention:!0})};pointerOut=()=>{this.state.selected&&Fu.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1}),this.setState({selected:e})};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){Fu.add(this),this.props.clockInstance._editorInterface=this,this.props.clockInstance._newClock&&(delete this.props.clockInstance._newClock,setTimeout(()=>{this.launchUIWindow()},10)),this.props.clockInstance.addEventListener("contextmenu",this.onMouseDown)}componentWillUnmount(){this.props.clockInstance.removeEventListener("contextmenu",this.onMouseDown),Fu.delete(this),this.state.UIWindow?.closeWindow?.(),delete this.props.clockInstance._editorInterface}componentDidUpdate(e,i){this.props.value!==e.value&&this.props.clockInstance.getAttribute("value")&&this.state.UIWindow?.setState?.({customVal:Dse.hasOwnProperty(this.props.value)?"{"+this.props.value+"}":this.props.value})}},q5=Gx});var cDe,ep,yg,Lse,Fse,zse,U5,bg,qse,B5=T(()=>{Ee();$e();pt();Re();Fi();Ti();_r();H5();cDe=he(xe(),1);Ji();ne();ep=new Set,yg=null,Lse=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Fse=["january","february","march","april","may","june","july","august","september","october","november","december"],zse=["time-of-day","day","day-of-month","ordinal","month","month-name","period","roman-year","year","hour","minute","second","centisecond"],U5=t=>{ep.forEach(e=>{let i=new Date;e.updateTime(i)}),yg=requestAnimationFrame(U5)},bg=class extends se{constructor(e){super(e),this.state={}}romanize(e){if(isNaN(e))return NaN;for(var i=String(+e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",o=3;o--;)n=(r[+i.pop()+o*10]||"")+n;return Array(+i.join("")+1).join("M")+n}pad=e=>e<10?"0"+e:e.toString();dateTerms=(e,i)=>{switch(e){case"{time-of-day}":return m("span",{part:"time-of-day section"},"time-of-day-"+i);case"{day-of-month}":return m("span",{part:"day-of-month section",children:this.state["day-of-month"]},"day-of-month-"+i);case"{ordinal}":return m("span",{part:"ordinal section"},"ordinal"+i);case"{month}":return m("span",{part:"month section",children:this.state.month},"month-"+i);case"{day}":return m("span",{part:"day section"},"day-"+i);case"{roman-year}":return m("span",{part:"roman-year section",children:this.state.romanYear},"roman-year-"+i);case"{centisecond}":return m("span",{part:"centisecond section",children:this.state.centisecond},"roman-year-"+i);case"{year}":return m("span",{part:"year section",children:this.state.year},"year-"+i);case"{month-name}":return m("span",{part:"month-name section"},"month-name-"+i);case"{hour}":return m("span",{part:"hour section",children:this.props["twentyfour-hour"]?this.state["24hour"]:this.state["12hour"]},"hour-"+i);case"{minute}":return m("span",{part:"minute section",children:this.state.minute},"minute-"+i);case"{second}":return m("span",{part:"second section",children:this.state.second},"second-"+i);case"{period}":return m("span",{part:"period section"},"period-"+i)}return null};updateTime=e=>{let i=this.props["pad-hour"]||this.props.pad,r=this.props["pad-minute"]||this.props.pad,n=this.props["pad-second"]||this.props.pad,o=this.props["pad-day-of-month"]||this.props.pad,l=this.props["pad-month"]||this.props.pad;if(this.props.timezone!=="local"){let P=e.getTimezoneOffset(),I=this.props.timezone;if(this.props.timezone.indexOf(":")>-1){let z=this.props.timezone.split(":");z.length=2,I=parseFloat(z[0])+parseFloat(z[1]||0)/60}let L=-(-P-parseFloat(I*60))||0,F=Date.now();e=new Date(F+L*6e4)}let u=o?this.pad(e.getDate()):e.getDate(),c=Lse[e.getDay()],d=e.getMonth(),f=e.getFullYear(),g=e.getHours(),v=e.getMinutes(),S=e.getSeconds(),E=e.getMilliseconds(),_=Math.floor(g/3)*3;this.setState({day:c,"day-of-month":u,"time-of-day":_+"-"+(parseInt(_)+3),ordinal:u,"month-name":Fse[d],month:l?this.pad(d+1):d+1,romanYear:this.romanize(f),year:this.props["truncate-year"]?f.toString().substring(2,4):f,period:g>=12?"pm":"am","12hour":i?this.pad(g%12==0?12:g%12):g%12==0?12:g%12,"24hour":i?this.pad(g):g,minute:r?this.pad(v):v,second:n?this.pad(S):S,centisecond:this.pad(Math.floor(E/10))})};render(e,i){let{pageInfo:r,adminMode:n,value:o}=this.props,l=[],u;if(o.indexOf("{")==-1&&(u=this.dateTerms("{"+o+"}")),u)l.push(u);else{let c=new RegExp("{"+zse.join("}|{")+"}","gi"),d=[...o.matchAll(c)],f=0;d.length==0?l.push(this.dateTerms("{second}")):d.forEach((g,v)=>{let S=this.dateTerms(g[0],g.index);S&&(f!=g.index&&l.push(m("span",{part:"text",children:o.substring(f,g.index)},g.index)),f=g.index+g[0].length,l.push(S)),v===d.length-1&&l.push(m("span",{part:"text",children:o.substring(f,o.length)},g.index+"-last"))})}return Ge(m(re,{children:[n&&r.isEditing&&!ue&&m(q5,{...this.props,clockInstance:this.props.baseNode}),m("style",{children:`

					:host {

						--0-3: "late night";
						--3-6: "early morning";
						--6-9: "morning";
						--9-12: "late morning";
						--12-15: "afternoon";
						--15-18: "late afternoon";
						--18-21: "evening";
						--21-24: "late evening";

						--am: "AM";
						--pm: "PM";

						--sunday: "Sunday";
						--monday: "Monday";
						--tuesday: "Tuesday";
						--wednesday: "Wednesday";
						--thursday: "Thursday";
						--friday: "Friday";
						--saturday: "Saturday";

						--january: "January";
						--february: "February";
						--march: "March";
						--april: "April";
						--may: "May";
						--june: "June";
						--july: "July";
						--august: "August";
						--september: "September";
						--october: "October";
						--november: "November";
						--december: "December";

						--ordinal-1: "first";
						--ordinal-2: "second";
						--ordinal-3: "third";
						--ordinal-4: "fourth";
						--ordinal-5: "fifth";
						--ordinal-6: "sixth";
						--ordinal-7: "seventh";
						--ordinal-8: "eighth";
						--ordinal-9: "ninth";
						--ordinal-10: "tenth";
						--ordinal-11: "eleventh";
						--ordinal-12: "twelfth";
						--ordinal-13: "thirteenth";
						--ordinal-14: "fourteenth";
						--ordinal-15: "fifteenth";
						--ordinal-16: "sixteenth";
						--ordinal-17: "seventeenth";
						--ordinal-18: "eighteenth";
						--ordinal-19: "nineteenth";
						--ordinal-20: "twentieth";
						--ordinal-21: "twenty-first";
						--ordinal-22: "twenty-second";
						--ordinal-23: "twenty-third";
						--ordinal-24: "twenty-fourth";
						--ordinal-25: "twenty-fifth";
						--ordinal-26: "twenty-sixth";
						--ordinal-27: "twenty-seventh";
						--ordinal-28: "twenty-eighth";
						--ordinal-29: "twenty-ninth";
						--ordinal-30: "thirtieth";
						--ordinal-31: "thirty-first";

						cursor: inherit;
					    display: inline-block;
					    position: relative;
					}

					[part*="section"]{
						font-variant: tabular-nums;
					}

					[part="ordinal section"]:after {
						content: var(--ordinal-${this.state["day-of-month"]}, "${this.state["day-of-month"]}");
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					[part="period section"]:before {
						content: var(--${this.state.period});
					}				

					[part="day section"]:before {
						content: var(--${this.state.day});
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					span[part="month-name section"]:before {
						content: var(--${this.state["month-name"]});
					}

					
				`}),l]}),this.props.baseNode.shadowRoot)}onViewportIntersectionChange=e=>{let i=e.position==="inside";this.setState({visible:i})};componentDidMount(){Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ep.size==0&&(cancelAnimationFrame(yg),yg=requestAnimationFrame(U5)),this.updateTime(new Date),ep.add(this)}componentDidUpdate(e,i){}componentWillUnmount(){ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ep.delete(this),ep.size==0&&cancelAnimationFrame(yg)}};bg.defaultProps={pad:!1,"pad-day-of-month":!1,"pad-hour":!1,"pad-month":!1,"pad-minute":!0,"pad-second":!0,"twentyfour-hour":!1,"truncate-year":!1,timezone:"local",value:"second"};qse=Wt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(bg));ri(qse,"digital-clock",["pad-day-of-month","pad-hour","pad-month","pad-minute","pad-second","twentyfour-hour","truncate-year","pad","timezone","analogue","value"],{renderIntoShadow:!0})});var CDe,Kx,Yx,W5=T(()=>{Ee();$e();qt();Ws();zi();CDe=he(xe(),1);go();ne();Kx=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{shopProductInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:l,focused:u}=i;return m(re,{children:m(Lr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:c=>{let{pointerAttention:d,overlayPosition:f}=c;return m(re,{children:[m(qi,{baseNode:r,overlayPosition:f,inFront:!1,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${d?" hover":""}${d?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:d||l||u?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${f.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:g=>{this.launchUIWindow(g)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.shopProductInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:20};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},Yx=Kx});function $se(t,e,i,r){var n;if(r!==void 0&&(t=t*r),typeof e!="string")n=t/100+"";else{var o=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],l={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),o.indexOf(e)===-1&&(t/=100),typeof Intl<"u"?n=new Intl.NumberFormat(i,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(t):n=(l.hasOwnProperty(e)?l[e]:e+" ")+""+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var u=n.split(".");u.length===2&&u[1].length===1&&(u[1]=u[1]+"0",n=u.join("."))}return n}var lr,$5,Hse,Use,Bse,nl,Xx,wg,Wse,Zx,Vse,V5=T(()=>{Ee();$e();Ca();lr=he(xe(),1);Re();pt();ai();Ji();Fi();js();W5();Ya();Sr();ne();$5="Product not found",Hse="Out of Stock",Use="Add to Cart",Bse="Unavailable",nl={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},Xx=[],wg=null,Wse=t=>(wg||(wg=new Promise((e,i)=>{requestAnimationFrame(()=>{Rt.dispatch(actions.fetchCommerceProducts({idArray:Xx})).then(e).catch(i),Xx.length=0,wg=null})})),Xx.push(t),wg);Zx=class extends se{constructor(e){super(e),this.uid=lr.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:i,adminMode:r}=this.props;if(!this.props.productData)return this.state.loading?null:Ge(m(re,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&m(Yx,{shopProductInstance:this.props.baseNode}),m("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:$5})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,o=this.props.uses||"";return Ge(m(Sn,{uses:o,adminMode:r,customElementMode:!0,baseNode:i,children:m("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&m(Yx,{shopProductInstance:this.props.baseNode}),this.props.productData?m(re,{children:[e.showPrice&&this.state.selectedVariant&&m("div",{part:"price",class:"price",children:$se(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?m("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(l=>l.is_default?null:m("option",{value:l.variant_id,dangerouslySetInnerHTML:{__html:lr.default.values(l.attributes).join(", ").replace(/</g,"&lt;")}}))}):lr.default.keys(this.props.productData.attributes).map(l=>m("select",{"variant-option":l,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[m("option",{disabled:!0,dangerouslySetInnerHTML:{__html:l?.replace?.(/</g,"&lt;")}}),this.getAttributeVariations(l).map(u=>m("option",{selected:this.state.selectedVariant?.attributes[l]===u,value:u,dangerouslySetInnerHTML:{__html:u?.replace?.(/</g,"&lt;")}}))]})):null,m("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:l=>{n||this.addToCart(l)},children:n?Hse:this.state.selectedVariant?e.buttonInStockText:Bse})]}):$5]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var i=lr.default.without(lr.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),r=this.props.productData.attributes[e];return r&&i.sort(function(n,o){var l=r.indexOf(n),u=r.indexOf(o);return l<u?-1:l==u?0:1}),i}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let i=JSON.parse(lr.default.unescape(this.props.baseNode.getAttribute("data-options")));lr.default.each(i,(r,n)=>{nl[n]&&!this.props.baseNode.hasAttribute(nl[n])&&this.props.baseNode.setAttribute(nl[n],lr.default.escape(r))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=lr.default.mapValues(nl,(i,r)=>{if(!this.props.baseNode.hasAttribute(i))return;let n=lr.default.unescape(this.props.baseNode.getAttribute(i));return(r==="showPrice"||r==="mergevariantdropdowns")&&(n=n=="true"),n});return lr.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:Use}),e}setOptions(e){lr.default.each(e,(i,r)=>{nl.hasOwnProperty(r)&&this.props.baseNode.setAttribute(nl[r],lr.default.escape(i))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),Kn.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():Wse(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(r=>r.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let r=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==r)}else{var i=lr.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(r,n){return r[n.getAttribute("variant-option")]=n.value,r},{});e=this.props.productData.variants.find(r=>lr.default.isEqual(r.attributes,i))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,i){this.state.selectedVariant===i.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},Vse=Wt(ke((t,e)=>({adminMode:t.frontendState.adminMode,productData:t.commerce.products[e.product],currency:t.commerce.shop.currency||"USD",locale:t.commerce.shop.locale||"en-US",shopId:t.site.shop_id}),t=>Pt({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},t))(Zx));ri(Vse,"shop-product",Object.values(nl),{renderIntoShadow:!0})});var Jx,j5,G5=T(()=>{Ee();ne();Jx=class extends se{constructor(e){super(e),this.caveRef=me(),this.shadowRef=me()}render(){return m("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:m("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,i){this.observer=new IntersectionObserver(r=>{r.forEach(n=>{let o="right";switch(n.intersectionRatio){case 0:o="left";break;case 1:o="center";break}this.props.onTextAlignmentChange?.(o)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},j5=Jx});var K5,Qx,Y5,X5=T(()=>{Ee();$e();qt();Ws();zi();go();_r();K5=he(xe(),1);ne();Qx=class extends se{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,i){let{}=e,{UIWindow:r}=i,n=23;return m(re,{children:m(Lr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:o=>{let{pointerAttention:l,overlayPosition:u}=o,c=0;return u.y<=1&&(c=Math.min(-u.y+1,u.height+-n+1)),m(re,{children:[m(qi,{baseNode:this.props.marqueeInstance,overlayPosition:u,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${l||r?" hover":""}${l||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,width:u.width+"px",height:u.height+"px",display:l||r?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${c}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:d=>{this.launchUIWindow(d)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.marqueeInstance.getBoundingClientRect(),r={x:i.x+-10,y:i.y,left:i.right+-10,right:i.right+-10,top:i.top+0,bottom:i.top+27,width:i.width,height:20};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:r,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let i={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let r=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(i.x,i.y);(!n||!r.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(r,0),n.setEnd(r,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(Array.from(e).filter(l=>{if(l.type==="attributes"){if(l.target.nodeName==="MEDIA-ITEM")return!0;if(l.target.nodeName==="MARQUEE-INNER")return!1}else return!l.target.closest?.("media-item")}).length==0)return;let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(l=>!l.hasAttribute("slot")||l.getAttribute("slot")==="contents");if(!r)return;let n=Array.from(r?.childNodes??[])[0],o=!0;for(;n&&o;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(o=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:o})};dispatchVisibility=K5.default.debounce(()=>{Array.from(this.props.marqueeInstance.querySelectorAll("*")).forEach(e=>{Mt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),Mt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})},30);onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let i=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),r=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');i&&r?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==i&&n!==r&&n.remove()}):i&&!r&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),i&&this.innerObserver.observe(i,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragStart=(e,i,r)=>{this.setState({draggingInEditor:!0}),ze.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(i=>!i.hasAttribute("slot")||i.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragend",this.onDragFinish),be.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){this.dispatchVisibility.cancel(),clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragend",this.onDragFinish),be.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,i){this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(i.marqueeIsEmpty!==this.state.marqueeIsEmpty||i.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},Y5=Qx});var xg,Ys,tp,Sg,zu,eS,Z5,_g,jse,J5=T(()=>{Ee();$e();Mm();pt();Re();Fi();Bs();G5();Ti();X5();_r();xg=he(xe(),1);Ji();ne();Ys=new Map,tp=new Map,Sg=null;ue||(zu=new ResizeObserver(t=>{t.forEach(e=>{tp.has(e.target)?tp.get(e.target).onMarqueeInnerResize(e):Ys.has(e.target)&&Ys.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",t=>{Ys.forEach((e,i)=>{t.target.contains(i)&&(i.dirty=!0)})}));eS=0,Z5=t=>{let e=eS===0?0:t-eS;Ys.forEach((i,r)=>{i.animate(e)}),eS=t,Sg=requestAnimationFrame(Z5)},_g=class extends se{constructor(e){super(e),this.uid=xg.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={start:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=me(),this.marqueePositionerCloneRef=me(),this.contentRef=me(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:i=>{this.setState({paused:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:i=>{this.setState({built:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:i=>{this.setState({dirty:!!i})},configurable:!0})}render(e,i){let r=e.behavior==="bounce",n=e.behavior==="scroll",o=e.direction==="vertical",l=e.direction==="horizontal",u=e.direction==="diagonal";u&&n&&(u=!1,l=!0);let{adminMode:c,pageInfo:d,baseNode:f,"vertical-height":g,gutter:v=0}=e,{contentRect:S,elementRect:E,built:_,marqueeHeight:P,gutterPixelWidth:I}=i,L=Kt(g,""),F=v!==void 0?Kt(v,"rem").join(""):"0px",z={marqueeHeight:L[1]===""?`calc( var(--fit-height) * ${L[0]*.01} )`:L.join("")};v!==void 0&&v!==0&&(z.gutterPixelWidth=F);let H=I,ie=I;l&&(H=0),o&&(ie=0);let X=n&&o?0:2,k=n&&l?0:2;return Ge(m(re,{children:[c&&d.isEditing&&m(j5,{onTextAlignmentChange:this.onTextAlignmentChange}),m("style",{children:`

					:host {
						--marquee-vertical-padding: ${X}rem;
						--marquee-horizontal-padding: ${k}rem;
						--marquee-vertical-margin: ${-X}rem;
						--marquee-horizontal-margin: ${-k}rem;
						contain: layout;
						${_?`
							cursor: default;
							min-height: .5em;
							${c&&d.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;`:""}
						`:`
							min-height: ${r&&!l?P+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${_?o||u?P+"px":S.height+E.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${E.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${_?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${o||u?"height: "+P+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${_?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${_?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${_&&l?"nowrap":"normal"};					
						display: ${_?"inline-block":"block"};
						${!_&&(o||u)?"min-height: "+P+"px;":""}
						min-width: ${E.width}px;
						${_?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${r||!_?"none":"block"};
						left: ${l?Math.max(S.contentWidth,E.width)+ie:0}px;
						top: ${o?Math.max(S.height,E.height)+H:0}px;			
					    position: absolute;
					}

					
				`}),m("div",{className:"marquee-margin",children:[!_&&m("slot",{name:"contents"}),c&&d.isEditing&&!ue&&m(Y5,{...this.props,marqueeInstance:f,isDragging:this.state.pointerInfo.dragging}),m(Dr,{values:z,onResize:this.onResize}),m("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+E.vertPad*.5)+"px)"},ref:this.contentRef,children:[m("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:_&&m("slot",{name:"contents"})}),m("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:_&&n&&m("slot",{name:"contents-clone"})})]})]})]}),f.shadowRoot)}onClickCapture=e=>{this.state.pointerInfo.dragging&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{Mt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};onLazyloadIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{Mt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Xt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Ys.size==0&&(cancelAnimationFrame(Sg),Sg=requestAnimationFrame(Z5)),Ys.set(this.props.baseNode,this),zu.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,i){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==i.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==i.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ii(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),document.body.removeEventListener("pointerleave",this.onPointerUp),zu.unobserve(this.props.baseNode),Ys.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(tp.delete(e),zu.unobserve(e)),this.contentsObserver.disconnect(),Ys.size==0&&cancelAnimationFrame(Sg)}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e?(tp.delete(e),zu.unobserve(e),Array.from(e.querySelectorAll("marquee-inner")).forEach(r=>{r.remove()})):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(r=>{e.appendChild(r)}),this.props.baseNode.appendChild(e)),e.setAttribute("slot","contents"),e.setSaveable(!0),tp.set(e,this),zu.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!1});let i=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(i||(i=document.createElement("marquee-inner"),i.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(i));i.lastChild;)i.lastChild.remove();Array.from(e.childNodes).forEach(r=>{i.appendChild(r.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(r=>{r!==e&&r!==i&&r.remove()}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=()=>{this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={start:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=xg.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:i,marginLeft:r,width:n}=this.state.contentRect,o=e.childNodes[0],l=e.childNodes[e.childNodes.length-1];if(o&&l){let u=document.createRange();u.setStartBefore(o),u.setEndAfter(l);let c=u.getBoundingClientRect(),d=e.getBoundingClientRect();r=c.left-d.left,i=c.width}else r=0,i=n;this.setState(u=>({contentRect:{...u.contentRect,marginLeft:r,contentWidth:i}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=i.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:i.inlineSize,height:i.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:i.inlineSize,height:i.blockSize,vertPad:i.blockSize-r.blockSize,horizPad:i.inlineSize-r.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;let i=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY;e.target.closest("a")||e.preventDefault(),this.pointerMovement={start:{x:i,y:r},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{pointerDown:!0,dragging:!1}}),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerUp)};onPointerMove=e=>{let i={x:e.clientX-this.pointerMovement.start.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.start.y+this.pointerMovement.delta.y},r=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.start.x)>3||Math.abs(e.clientY-this.pointerMovement.start.y)>3;this.pointerMovement={start:{x:e.clientX,y:e.clientY},inertia:i,delta:i},this.setState({pointerInfo:{pointerDown:!0,dragging:r}})};onPointerUp=e=>{document.body.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),this.afterPointerUp=setTimeout(()=>{this.setState({pointerInfo:{dragging:!1,pointerDown:!1}})},0)};animate=e=>{let{built:i,paused:r,elementRect:n,contentRect:o,pointerInfo:l,mediaItemLocations:u,gutterPixelWidth:c}=this.state,{positionX:d,positionY:f,movingRight:g,movingDown:v,translateX:S,translateY:E,pointerMovement:_}=this,{speed:P,friction:I}=this.props;if(!i||!this.contentRef.current)return;let L=!1;P=r||l.dragging?0:P,this.pauseCount<0&&(this.pauseCount++,P=0),P=P*(e/16.6667);let F=this.props.behavior==="bounce",z=this.props.behavior==="scroll",H=this.props.direction==="vertical",ie=this.props.direction==="horizontal",X=this.props.direction==="diagonal",k=c,te=c;X&&z&&(X=!1,ie=!0),I=1-parseFloat(I)*.01,P=parseFloat(P)*.1;let le=P,Y=P,K=Math.abs(_.inertia.y)>.01||Math.abs(_.inertia.x)>.01;l.pointerDown||l.dragging?(L=!0,Y=_.delta.x,le=_.delta.y):K&&(L=!0,F?(v?le=Math.abs(le)+Math.abs(_.inertia.y):le=-Math.abs(le)+-Math.abs(_.inertia.y),g?Y=Math.abs(Y)+Math.abs(_.inertia.x):Y=-Math.abs(Y)+-Math.abs(_.inertia.x)):(Y=Y+_.inertia.x,le=le+_.inertia.y)),F&&!l.dragging&&(v?le=Math.abs(le):le=-Math.abs(le),g?Y=Math.abs(Y):Y=-Math.abs(Y)),le!==0&&(v=le>0),Y!==0&&(g=Y>0),(H||X)&&(f=le+f),(ie||X)&&(d=Y+d);let D=!1;if(F){let $=o.contentWidth,U=o.height,j=-o.marginLeft,ee=n.width+-$+-o.marginLeft,de=0,fe=n.height-U;$>=n.width&&(j=n.width-$,ee=0),U>=n.height&&(de=n.height-U,fe=0),g&&d>ee&&(ie||X)?(D="right",d=ee,g=!1):!g&&d<j&&(ie||X)&&(D="left",d=j,g=!0),v&&f>fe&&(H||X)?(D="bottom",f=fe,v=!1):!v&&f<de&&(H||X)&&(D="top",f=de,v=!0),ie?E=0:E=f,H?S=0:S=d}else if(z){ie&&(te=0),H&&(k=0);let $=Math.max(o.contentWidth,n.width)+k,U=Math.max(o.height,n.height)+te;$>0&&(d=(d-$)%$),U>0&&(f=(f-U)%U),H?(S=0,E=f):ie&&(S=d,E=0)}D&&this.dispatchBounceEvent(D);let Q=l.dragging?{x:_.delta.x,y:_.delta.y}:{x:_.inertia.x*I,y:_.inertia.y*I};this.positionX=d,this.positionY=f,this.translateX=S,this.translateY=E,this.movingRight=g,this.movingDown=v;let J=Math.abs(P)>1?2:4,V=Math.floor(this.translateX*J)/J,oe=Math.floor(this.translateY*J)/J;(V!==this.lastXClamp||oe!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+V+"px, "+(oe+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=V,this.lastYClamp=oe,L&&(this.pointerMovement={...this.pointerMovement,inertia:Q,delta:{x:0,y:0}})};dispatchBounceEvent=xg.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};_g.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"100",friction:5};jse=Wt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(_g));ri(jse,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var qLe,qu,Eg,Gse,Q5=T(()=>{Ee();$e();pt();Re();Mm();go();qLe=he(xe(),1);Ji();Fi();ne();qu=new Map,Eg=class extends se{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,i){let r=i.iconElement.customDimensions.width/i.iconElement.customDimensions.height;return m(re,{children:Ge(m(re,{children:[m("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${r};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?m(qi,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,i)=>{let r=this.props.icon||null;if(r)if(qu.has(r))e(qu.get(r));else{let o=r.indexOf("https://")===0?r:"https://build.cargo.site/frontend/656a48/icon/icons/"+r+".svg",l=o.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(l.toLowerCase())!=-1){let u=document.createElement("img");u.src=o,u.onload=()=>{let c=m("img",{part:"img",src:r,width:u.naturalWidth,height:u.naturalHeight});qu.set(r,{imgVdom:c,customDimensions:{width:u.naturalWidth,height:u.naturalHeight}}),u.onload=null,e(qu.get(r))}}else l=="svg"?fetch(o,{mode:"cors"}).then(u=>u.ok?u.text():i("bad response")).then(u=>{let c=document.createElement("div");c.innerHTML=u;let d={width:32,height:32},f=Array.from(c.children).map((g,v)=>{let S=g.tagName.toLowerCase()=="svg";return S&&g.hasAttribute("width")&&g.hasAttribute("height")&&(d.width=g.getAttribute("width"),d.height=g.getAttribute("height")),Mu(g,null,{part:S?"svg":v,key:r+"-"+v,draggable:!0})});if(f.length>0){if(qu.set(r,{imgVdom:f,customDimensions:d}),r!==this.props.icon){i("Icon name mismatch");return}e(qu.get(r))}else i("Icon not found at ",o)}).catch(u=>{i(u)}):i("Invalid url")}else i("Icon not found",r)}).then(e=>{this.setState({iconElement:e})}).catch(e=>{console.log("icon loading failed:",e)})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};Eg.defaultProps={icon:null};Gse=Wt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(Eg));ri(Gse,"text-icon",["icon"],{delegatesFocus:!0})});var tS,eq,tq=T(()=>{$e();sw();ne();tS=class extends We.Component{constructor(e){super(e)}render(){return m(re,{children:[m("div",{className:"colorfilter-color"}),m("div",{className:"colorfilter-base"})]})}componentDidMount(){Ze.isSafari()&&(document.querySelector("#editor-overlay")?.classList.add("safari"),document.querySelector("#cargo-dotsite")?.classList.add("safari"),document.querySelector(".colorfilter-base")?.classList.add("safari"),document.querySelector(".colorfilter-color")?.classList.add("safari"))}componentWillUnmount(){document.querySelector("#editor-overlay")?.classList.remove("safari"),document.querySelector("#cargo-dotsite")?.classList.remove("safari")}},eq=tS});function Yse(t){let e=ue?t.site?.is_template:t.site?.is_template&&parent===window;return{hasSitePackage:t.frontendState.hasSitePackage,adminInitialized:t.adminState?.initialized||!1,inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,showCargoLogo:!e&&t.site?.show_cargo_logo,customHTML:t.site?.custom_html,access_level:t.site?.access_level,website_title:t.site?.website_title,domain_active:t.site?.domain_active,domain:t.site?.domain,site_url:t.site?.site_url,site_id:t.site?.id,fonts:t.site?.fonts,fontsLoaded:t.frontendState.fontsLoaded,stylesheets:t.frontendState.pageNotFound?" ":t.css?.stylesheets,hasAuth:t.auth.authenticated,canDuplicate:e,activePID:t.frontendState.activePID,itemsInCart:Yn.default.values(t.commerce.cart).reduce((i,r)=>i+=r?.quantity||0,0),enableColorFilter:!!t.siteDesign.site?.enableColorFilter}}function Xse(t){return Pt({fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState,getAuthToken:Fe.getAuthToken},t)}var iq,Yn,rq,Cg,Pg,iS,Kse,rS,nq,oq=T(()=>{Ee();ai();pt();iq=he(Ch(),1),Yn=he(xe(),1);Ns();Re();yR();Bt();Ua();Uz();ho();Gz();Ti();Fm();i5();Kw();l5();Ji();x5();pg();Dm();Dx();Fx();Hx();D5();z5();B5();V5();J5();Q5();zi();Sr();tq();ne();rq=!1,Cg=!1,Pg=!0,iS=(t=!1)=>{(t||rq&&Cg&&Pg)&&setTimeout(()=>{Pg&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},Kse=async t=>{let e=[];if(t.hasSitePackage!==!0&&e.push(t.fetchSitePackage()),ue&&t.fonts&&Yn.default.isArray(t.fonts)){let i=[...t.fonts].filter(n=>n.provider!=="google"),r=Sx({context:"server",families:i});r.then(n=>{t.updateFrontendState({fontsLoaded:Yn.default.uniq(t.fontsLoaded.concat(i.map(o=>o.family))),serverRenderedFontCSS:n.filter(o=>o??!1)})}),e.push(r)}await Promise.allSettled(e),rq=!0,iS()},rS=class extends se{constructor(e){if(super(e),this.state={checkedExistingAuth:!!ue,checkedCookieAuth:!!ue,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null,fontFeatureSettingsStylesString:null},!ue){if(Promise.resolve().then(()=>(ng(),gx)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheets",o.type="text/css",o.href="https://build.cargo.site/frontend/656a48/css/front-end/frontend-interface.css",o.id="frontend-interface",n.appendChild(o)}this.setMobileClass(this.props.isMobile),this.setOSClass();let i=0,r=0;window.addEventListener("backdrop-load-start",()=>{Pg=!1,i++}),window.addEventListener("backdrop-load-complete",()=>{r++,r===i&&(Pg=!0,iS())})}this.globalStyleRef=me(),this.customHTMLRef=me(),this.scrollingElement={current:ue?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(ue)return;let e=this.props.store.getState(),i,r="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?i=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(i=e.sets.byId[this.props.activePID])),this.props.website_title&&(r=`${i?.title?`${i.title} \u2014 `:""}${this.props.website_title}`),r!==document.title&&(document.title=r)};onFirstSiteLoad(){let e=!1;try{e=parent.__c3_admin__===!0}catch{}window.dispatchEvent(new CustomEvent("cargo-site-load",{detail:{editing:e}}))}render(){if(this.props.hasSitePackage!==!0)return null;if(!ue&&!Ai&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!Ma)return window.location.hostname=this.props.domain,null;if(this.props.access_level==="password"||this.props.access_level==="private"){let r=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(n=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?r=m(ku,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(r=m(Wm,{message:"This site is private."})),this.onFontLoad(!0)),m(re,{children:m(yx,{children:r})})}let e=this.props.customHTML,i=this.props.canDuplicate&&!ue;return m(re,{children:[i?m(re,{children:m("a",{id:"dl-duplicate-site",class:"dl-duplicate",href:`${La}?duplicate=${this.props.site_id}`,onClick:r=>{this.props.domain_active||(r.preventDefault(),fetch("https://cargo.site/accesstoken"+`?site_id=${this.props.site_id}`,{credentials:"include"}).then(o=>o.json()).then(o=>{o?.access_token?window.location.href=`${La}?duplicate=${this.props.site_id}`:this.setState({loginBeforeDuplicatingSite:!0})}).catch(()=>{this.setState({loginBeforeDuplicatingSite:!0})}))},children:m("svg",{width:"84",height:"19",viewBox:"0 0 84 19",children:[m("path",{fill:"#027aff",d:"m0,9.5C0,4.25,3.96,0,8.85,0h66.14c4.89,0,8.85,4.25,8.85,9.5s-3.96,9.5-8.85,9.5H8.85C3.96,19,0,14.75,0,9.5Z"}),m("path",{fill:"#fff",d:"m9.29,4.54h2.47c2.38,0,3.6,1.42,3.6,4.2s-1.21,4.25-3.6,4.25h-2.47V4.54Zm1.22,1.08v6.29h1.11c1.7,0,2.49-1,2.49-3.16s-.8-3.13-2.49-3.13h-1.11Z"}),m("path",{fill:"#fff",d:"m22.23,6.61v6.39h-1.14v-1.11h-.08c-.33.79-1.05,1.23-2.01,1.23-1.39,0-2.14-.83-2.14-2.37v-4.14h1.18v3.86c0,1.09.44,1.61,1.38,1.61s1.63-.69,1.63-1.72v-3.74h1.17Z"}),m("path",{fill:"#fff",d:"m27.47,6.51c1.47,0,2.41,1.05,2.41,2.71v1.17c0,1.66-.94,2.71-2.41,2.71-.93,0-1.59-.4-1.85-1.12h-.11v3.16h-1.21V6.61h1.18v1.01h.11c.3-.73.96-1.11,1.88-1.11Zm-.39,1.04c-.98,0-1.6.69-1.6,1.79v.96c0,1.1.62,1.79,1.6,1.79s1.61-.7,1.61-1.79v-.96c0-1.1-.63-1.79-1.61-1.79Z"}),m("path",{fill:"#fff",d:"m37.19,13h-5.36v-.95h2.14v-6.97h-2.09v-.96h3.26v7.93h2.05v.95Z"}),m("path",{fill:"#fff",d:"m41.91,5.12c-.52,0-.91-.36-.91-.87s.39-.87.91-.87.91.36.91.87-.38.87-.91.87Zm2.7,7.88h-5.36v-.95h2.15v-4.49h-2.1v-.95h3.25v5.44h2.06v.95Z"}),m("path",{fill:"#fff",d:"m51.95,8.67h-1.16c-.11-.74-.69-1.18-1.46-1.18-1.04,0-1.61.73-1.61,2.04v.54c0,1.31.57,2.04,1.61,2.04.79,0,1.35-.43,1.46-1.15h1.16c-.16,1.36-1.12,2.16-2.61,2.16-1.78,0-2.8-1.07-2.8-2.93v-.79c0-1.86,1.03-2.92,2.8-2.92,1.49,0,2.46.8,2.61,2.19Z"}),m("path",{fill:"#fff",d:"m55.93,13.11c-1.22,0-2.03-.77-2.03-1.92s.82-1.8,2.31-1.89l1.68-.09v-.56c0-.73-.46-1.14-1.28-1.14-.68,0-1.17.29-1.32.8h-1.15c.12-1.05,1.12-1.77,2.49-1.77,1.54,0,2.42.77,2.42,2.12v4.37h-1.12v-.93h-.11c-.3.66-.99,1.03-1.89,1.03Zm.36-.98c.91,0,1.59-.6,1.59-1.42v-.67l-1.52.08c-.85.05-1.29.4-1.29,1.02s.47,1,1.22,1Z"}),m("path",{fill:"#fff",d:"m62.9,4.87h1.16v1.78h2.53v.97h-2.51v3.45c0,.63.44.98,1.25.98.3,0,1.08-.01,1.22-.03v.96c-.13.02-1.05.05-1.3.05-1.63,0-2.35-.59-2.35-1.96v-3.45h-1.69v-.97h1.69v-1.78Z"}),m("path",{fill:"#fff",d:"m73.1,11.31h1.12c-.17,1.07-1.22,1.81-2.6,1.81-1.79,0-2.82-1.05-2.82-2.87v-.97c0-1.68,1.1-2.79,2.75-2.79s2.68,1.1,2.68,2.92v.69h-4.28v.29c0,1.08.65,1.77,1.66,1.77.76,0,1.32-.32,1.48-.84Zm-1.55-3.86c-.99,0-1.59.68-1.59,1.82h3.13c0-1.14-.57-1.82-1.54-1.82Z"})]})})}):m(re,{}),this.props.enableColorFilter?m(eq,{}):null,m("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),m(t5,{}),m(yx,{}),m("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheets}}),m("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),m("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),m("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),m("style",{id:"font-feature-settings-styles",dangerouslySetInnerHTML:{__html:this.state.fontFeatureSettingsStylesString}}),m(ou,{scrollingElement:this.scrollingElement,children:[m(Hz,{}),this.state.QuickView&&m(this.state.QuickView,{}),this.props.inAdminFrame&&m(BR,{}),this.state.loginBeforeDuplicatingSite&&m(vR,{loginToUdotCargoOnly:!0,canCreateNewAccount:!0,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:r=>{window.location.href=`${La}?duplicate=${this.props.site_id}`}}),m(fo,{portalHost:ue?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),Ke.on("mobile-change",this.onMobileChange),this.onMobileChange(Ke.data.mobile.active),this.updateCartCounter(),this.props.hasSitePackage&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.onFirstSiteLoad()})})}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error(e)}onMobileChange=e=>{this.props.updateFrontendState({isMobile:e})};onFontLoad=(e=!1)=>{ue||Cg||(Cg=!0,document.documentElement.classList.remove("wf-initial-load"),iS(e))};componentWillUnmount(){Ke.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setOSClass=()=>{!Kc()&&!Yc()&&document.body.classList.add("f-f")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(i=>!this.props.fontsLoaded.includes(i.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:Yn.default.uniq(this.props.fontsLoaded.concat(e.map(i=>i.family)))}),Sx({families:e}).then(()=>{Cg||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,i){if(!ue){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let r=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(r)}this.props.stylesheets!==e.stylesheets&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles()),this.props.fonts!==e.fonts&&Yn.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface(),this.props.hasSitePackage&&!e.hasSitePackage&&requestAnimationFrame(()=>{this.onFirstSiteLoad()})}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setFontFeatureSettingsStyles=()=>{if(ue||!this.props.stylesheets)return;let e=this.getIsolatedstylesheets();e.innerHTML=this.props.stylesheets;let i=e.sheet;if(!i)return null;let r=!1;for(let u of i.cssRules)if(u.selectorText==="bodycopy"&&u.style.getPropertyValue("font-feature-settings")){r=!0;break}else continue;if(!r)return;let n="",o=[],l=[];Yn.default.each(i.rules,u=>{!u||!u.selectorText||u.selectorText.includes(" ")||((u.style.getPropertyValue("--text-style")||u.selectorText===".caption")&&!u.style.getPropertyValue("font-feature-settings")&&o.push(u.selectorText),u.selectorText.match(/h[1-6]/gi)&&!u.style.getPropertyValue("font-feature-settings")&&l.push(u.selectorText))});for(let u of o)n+=u+" { font-feature-settings: normal; } ";for(let u of l)n+=u+" { font-feature-settings: normal; } ";this.setState({fontFeatureSettingsStylesString:n})};setLinkStyles=()=>{if(ue||!this.props.stylesheets)return;let e=this.getIsolatedstylesheets();e.innerHTML=this.props.stylesheets;let i=e.sheet;if(!i)return null;let r="",n=[],o=[];Yn.default.each(i.rules,l=>{!l||!l.selectorText||((l.style.getPropertyValue("--text-style")||l.selectorText===".caption")&&n.push(l.selectorText),l.selectorText.match(/h[1-6]/gi)&&o.push(l.selectorText))}),Yn.default.each(i.rules,l=>{!l||!l.selectorText||(n.forEach(u=>{if(l.selectorText.startsWith(u)&&l.selectorText.includes(" a")){let c=l.selectorText.replace(/^(.*)\s(\a(?:[:.]\S*)?)$/i,(g,v,S)=>S+v);l.selectorText!==c&&(r+=c+" { "+(l.style.cssText||"")+" } ");let d=!!(l.selectorText.includes(" a::")||l.selectorText.includes(" a:")),f=l.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";f!==""&&!d&&(r+=c+" { "+(l.style.cssText||"")+f+" } ",r+=l.selectorText+" { "+f+" } ")}}),o.forEach(u=>{if(l.selectorText.startsWith(u)&&l.selectorText.includes(" a")){let c=!!(l.selectorText.includes(" a::")||l.selectorText.includes(" a:")),d=l.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";d!==""&&!c&&(r+=l.selectorText+" { "+d+" } ")}}))}),this.setState({linkStylesString:r})};setInheritableFontSizes=()=>{if(ue||!this.props.stylesheets)return;let e=this.getIsolatedstylesheets();e.innerHTML=this.props.stylesheets;let i=e.sheet;if(!i)return null;let r="";Yn.default.each(i.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let o=n.style.fontSize,l=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";r+=n.selectorText+" {--font-size: "+o+`;}
`,r+=n.selectorText+l+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:r})};setMobileOffsets=()=>{if(ue)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheets)return;let e=this.getIsolatedstylesheets();e.innerHTML=this.props.stylesheets;let i=eu(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:i})};getIsolatedstylesheets=Yn.default.once(e=>{let i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),r=document.createElement("style");return r.innerHTML=e,i.children[0].appendChild(r),r})};nq=bn(ke(Yse,Xse)((0,iq.frontloadConnect)(Kse,{onMount:!0,onUpdate:!1})(rS)))});var sq,aq=T(()=>{sq=he(yn(),1);sq.default.defaults.validateStatus=function(t){return t>=200&&t<300}});var Ig,Ag,lq,uq=T(()=>{Ig=he(yn(),1);Re();js();Ag=new Map,lq=t=>{let e;t.subscribe(()=>{let i=t.getState();if(!i.adminState||!i.adminState.crdt)return;let r=i.adminState.crdt.publishedAt;r!==e&&Ag.clear(),e=r})};ue||(Ig.default.interceptors.request.use(async t=>{if(t.use_cache===!0){let e=Ig.default.getUri(t);Ag.has(e)?t.adapter=function(i){return Ag.get(e).cachedResponsePromise}:(t.cachedResponsePromise=new Promise((i,r)=>{t.resolveCachedResponsePromise=i,t.rejectCachedResponsePromise=r}),t.cachedResponsePromise.catch(i=>i),Ag.set(e,t))}return t}),Ig.default.interceptors.response.use(t=>(t.config.resolveCachedResponsePromise&&t.config.resolveCachedResponsePromise(t),t),t=>(t.config?.rejectCachedResponsePromise&&t.config.rejectCachedResponsePromise(t),Promise.reject(t))))});var nS,cq=T(()=>{nS=he(yn(),1);Re();js();Bt();ue||(nS.default.interceptors.request.use(async t=>{if(t.use_auth!==!1){let e=Rt?.getState();t.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(t.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return t}),nS.default.interceptors.response.use(void 0,t=>(t.response?.status===403&&Rt.dispatch({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(t))))});var dq=T(()=>{});var pq=T(()=>{});var hq,fq=T(()=>{pg();Dx();Dm();Fx();Hx();hq={grid:_n,columnized:Eo,slideshow:li,freeform:Bi,justify:En}});var Zse={};var mq,gq=T(()=>{Ei();js();mq=he(db(),1);ai();$b();Bt();qt();fq();zi();Gm();window.getClientAPI=()=>({actions:Ob,reducers:Wb,selectors:Qe,history:Kn,store:Rt,globals:Rb,addReduxMiddleWare:mq.addMiddleware,combineReducers:qn,galleryData:hq,editorOverlayAPI:ze,toggleOverlay:Ui.toggleOverlay,openOverlay:Ui.openOverlay,closeOverlay:Ui.closeOverlay})});var vq,yq,ZFe,Rt,Kn,js=T(()=>{Ee();pt();vq=he(Ch(),1);Yo();Re();Mh();yq=he(xe(),1),ZFe=he(yn(),1);dR();Bt();pR();oq();Ti();Sr();aq();uq();cq();dq();pq();ne();!ue&&Ai&&(gq(),Sc(Zse));({store:Rt}=cR());if(!ue){Kn=Th(),Ke.setupStore(Rt),lq(Rt);let t;try{t=localStorage.getItem("c3-auth")}catch(o){console.log("unable to retrieve stored auth",o)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{Rt.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let o=e.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}catch(o){console.error("unable to use querystring auth",o)}else if(t)try{Rt.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(t)}})}catch(o){console.error("unable to retrieve stored auth",o)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let i={};Kn.push=yq.default.wrap(Kn.push,function(o){i[window.location.pathname]=document.scrollingElement.scrollTop;var l=Array.prototype.slice.call(arguments);if(!l.some(u=>u.preventScrollReset===!0)){let u=Rt.getState().frontendState.activePID,c=null,d=Rt.subscribe(()=>{if(clearTimeout(c),Rt.getState().frontendState.activePID!==u){document.scrollingElement.scrollTo(0,0);let f=document.scrollingElement.scrollHeight;Yb(10,()=>{let g=document.scrollingElement.scrollHeight;f!==g&&(document.scrollingElement.scrollTo(0,0),f=g)}),d()}else c=setTimeout(()=>{d()},4e3)})}l.shift(),o.apply(this,l)}),window.addEventListener("popstate",o=>{let l=window.location.pathname,u=Kn.location.pathname;i[u]=document.scrollingElement.scrollTop;let c=Rt.getState().frontendState.activePID,d=Rt.subscribe(()=>{if(Rt.getState().frontendState.activePID!==c&&i[l]){let f=Rt.getState().frontendState.activePID;setTimeout(async()=>{let g=0,v=!0;for(;v&&Rt.getState().frontendState.activePID===f;)g>10&&(v=!1),document.scrollingElement.scrollHeight>=i[l]&&(document.scrollingElement.scrollTop=i[l],v=!1),g++,await new Promise(S=>setTimeout(S,100))}),d()}})});let r=m(Yv,{store:Rt,children:m(Ps,{history:Kn,children:m(vq.Frontload,{noServerRender:!0,children:m(nq,{})})})}),n=document.body;n.querySelector(".content")!==null?Ic(r,n):Ss(r,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});js();export{Kn as history,Rt as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/656a48/index.js.map
